


<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="robots" content="nofollow"/>

  <link rel="shortcut icon" type="image/x-icon" href="https://www.wired.com/favicon.ico"/>



<title>WIRED Magazine Subscription</title>
<script src="/circulation/gq/scripts/jquery-1.8.2.min.js"></script>
<meta name="description" CONTENT="">
<meta name="keywords" CONTENT="">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Removed the auto-redirect code on 03/20/20 15:25 as requested by the ADA team and the reporting team -->

<script language="javascript" type="text/javascript">
	var HEARST = new Object();
	HEARST.circ = {
   "template_name" : "WIR_NextGen_OrderForm",
   "template_id" : "7394",
   "page" : "landing",
   "up" : 0,
   "campaignId" : "125739",
   "campaignName" : "WIR_Nat_Opg_12/$5(B)_12/$5(D)_Next_Gen_2020",
   "pagename" : "https://subscribe.wired.com/subscribe/landing",
   "device_type" : "other",
   "keycode" : "",
   "site" : "Wired",
   "cc" : 0,
   "urId" : "",
   "type" : "self",
   "transId" : null,
   "products" : ";self:: months,;gift:Wired:12 months,;gift:Wired:12 months"
}
;
	
	
	HEARST.circ.hostOfferId = "125739";
</script>


















<script type="text/javascript">
    var s_account = "conde-wired",
        server = "stats2.wired.com",
        secureServer = "sstats.wired.com",
        internalFilters = "javascript:,wired.com",
	httpStatus = 200;
</script>




	<script src="//assets.adobedtm.com/6372cf21ef88ee60bc2977a4898dcb5c7945a212/satelliteLib-701763f2d7d04f6b6c93ec6fc453bd03fb2489fb.js"></script>

<script type="text/javascript">
	var keyfinal;
	function keyparse() {
		var respkey = HEARST.circ.keycode;
		var keyextract = respkey.replace(/-->/, "");
		keyextract = keyextract.replace(/\s*/g, "");
		var parsestart = keyextract.search(":");
		keyfinal = keyextract.substr(parsestart+1); // Actual key assigned to the global variable keyfinal.
		if (HEARST.circ.keycode.substr(6,1) == 'D') {
			document.getElementById("result").innerHTML = '<IMG Height="1" Width="1" alt="" src="https://condenast.g.delivery.net/g/ue/?e=4&Y=13610&l=10986&B=&X='+keyfinal+'&CAT1='+HEARST.circ.site+'&C='+keyfinal+'"><IMG Height="1" Width="1" alt="" src="https://condenast.g.delivery.net/g/ue/?e=3&v=13610&l=10986&ps=ACK">';
		}
	};
</script>
<script>	scTransObj = [];</script>



<script>































    var bounceexwebsiteid = "2825";









</script>


	<!-- OLD Asset Google Tag Manager (noscript) - Removed from every page -->

	<script src="https://cdn.optimizely.com/js/2926210385.js"></script> 
















































 

















<!-- Google Tag Manager - Install in Head -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
{'gtm.start': new Date().getTime(),event:'gtm.js'}

);var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5HBJC2K');</script>
<!-- End Google Tag Manager - Install in Head -->

<script	type="text/javascript">
(function()	{
var qtm	= document.createElement('script');	
qtm.type = 'text/javascript';	
qtm.async = 1;
qtm.src = 'https://cdn.quantummetric.com/qscripts/quantum-wired.js';
var d =	document.getElementsByTagName('script')[0];	
d.parentNode.insertBefore(qtm,	d);
				
})();
</script>





	<!-- Facebook Pixel Code Multi_Src_FBRemarketing_New_Pixel_Aug16 -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');

fbq('init', '228464857488266');
fbq('trackSingle', '228464857488266', "PageView"); 
 


 fbq('trackSingle', '228464857488266', 'Purchase', { value: '1.00',  currency: 'USD',  }); 
console.log("Facebook Tracking: Purchase id:228464857488266 Multi_Src_FBRemarketing_New_Pixel_Aug16"); 


 

</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=228464857488266&ev=PageView&noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->


<script>

   //SET COOKIE FOR TRANSACTIONS
    function createGACookie(name,value,days) {
      if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*60*1000));
        var expires = "; expires="+date.toGMTString();
      }
      else var expires = "";
          document.cookie = name+"="+value+expires+"; path=/";
    }

    function readGACookie(name) {
      var nameEQ = name + "=";
      var ca = document.cookie.split(';');
      for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
      }
      return null;
    }






window.parent.dataLayer = window.dataLayer || [];
window.parent.dataLayer.push({

'event':'data-layer-loaded',
'marketing': {
'campaignName': 'WIR_Nat_Opg_12/$5(B)_12/$5(D)_Next_Gen_2020',
'circCampaignId': '125739',
'brand': 'Wired',
},






});



function getCookieCN(cname) {
	var name = cname + "=";
	var ca = document.cookie.split(';');
	for(var i = 0; i < ca.length; i++) {
		var c = ca[i];
		while (c.charAt(0) == ' ') {
			c = c.substring(1);
		}
		if (c.indexOf(name) == 0) {
			return c.substring(name.length, c.length);
		}
	}
	return "";
}

var deleteCookie = function(name) {
	document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
}

//facebook event gate without preview

function pwfbq(){try { 

var fbqpixelid = arguments[1];

function LsTestPw(){
    var test = 'test';
    try {
        localStorage.setItem(test, test);
        localStorage.removeItem(test);
        return true;
    } catch(e) {
        return false;
    }
}
function CookieTestPw(){
    var test = 'test';
    try {
if(navigator.cookieEnabled == true){
return true
}else{
return false;
}
    } catch(e) {
        return false;
    }
}
if(LsTestPw() == true && CookieTestPw() == true){
if (typeof fbTransObj !== 'undefined' && getCookieCN('pubw_fbq.'+fbqpixelid+'.'+HEARST.circ.transId) === "" && HEARST.circ.transId != null && HEARST.circ.email.indexOf("condenast") == -1 && HEARST.circ.email.indexOf("pubworx") == -1 ) { 

if(localStorage.getItem('pubw_fbq.'+fbqpixelid+'.'+HEARST.circ.transId) === null){

localStorage.setItem('pubw_fbq.'+fbqpixelid+'.'+HEARST.circ.transId, HEARST.circ.transId);

document.cookie= 'pubw_fbq.'+fbqpixelid+'.'+HEARST.circ.transId+'="' + HEARST.circ.transId +'"';

console.log("setting fbq storage and cookie");

fbq.apply(this, arguments);

   }

}
}else{
console.log("cookies are blocked sending pixel");
fbq.apply(this, arguments);
}

}catch(err){console.log(err); }};

</script>

<script>
// CCPA Button 
function ccpaButton(){
	if ($(".footer").length > 0) {
	    $(".footer:nth-child(2)").append('<!-- OneTrust Cookies Settings button start --><button id="ot-sdk-btn" class="ot-sdk-show-settings">Cookie Preferences</button><!-- OneTrust Cookies Settings button end -->');
	} else{
  		$( "#footer" ).append('<!-- OneTrust Cookies Settings button start --><button id="ot-sdk-btn" class="ot-sdk-show-settings">Cookie Preferences</button><!-- OneTrust Cookies Settings button end -->');
  	}
	//For ALB page
	$( "#foot-nav ul li:last-child" ).after('<li>|</li><!-- OneTrust Cookies Settings button start --><li><button id="ot-sdk-btn" class="ot-sdk-show-settings">Cookie Preferences</button></li><!-- OneTrust Cookies Settings button end -->');

	$("#ot-sdk-btn").css({"display": "block", "margin-right": "auto", "margin-left": "auto", "margin-bottom": "20px"});
	$("#ot-sdk-btn").text('Cookie Settings');

	$('#ot-sdk-btn').click(function (e) {
		e.preventDefault();
	})
}
setTimeout(ccpaButton, 1000);
</script>

<!-- Google autopopulate -->
<script>
if (HEARST.circ.device_type == "phone") {
	function initAutocomplete() {
		initAutocomplete1();
		initAutocomplete2(); 
	}

	function initAutocomplete1() {
 		var a = jQuery("#ship-address")[0];
		autocomplete = new google.maps.places.Autocomplete(a, {
			types: ["geocode"]
		}), autocomplete.addListener("place_changed", fillInAddress1), a.onfocus = geolocate(), a.placeholder = ""
	}

	function fillInAddress1() {
		var a = {
			street_number: "short_name",
			route: "long_name",
			locality: "long_name",
			sublocality_level_1: "long_name",
			administrative_area_level_1: "short_name",
			postal_code: "short_name"
		},
		b = {
			address: "route",
			postal_code: "postal_code",
			city: "locality",
			state: "administrative_area_level_1"
		};
		/* for (var c in b) {
			var d = document.getElementsByName(c)[0];
			d && (d.value = "", d.disabled = !1)
		}*/
		for (var g, h, i, j, e = autocomplete.getPlace(), f = "", k = 0; k < e.address_components.length; k++) {
			var l = e.address_components[k].types[0],
			m = a[l];
			if (m) {
				var n = e.address_components[k][m];
				switch (l) {
					case "street_number":
					f += n;
					break;
					case "route":
					f += " " + n;
					break;
					case "locality":
					g = n;
					break;
					case "sublocality_level_1":
					h = n;
					break;
					case "administrative_area_level_1":
					i = n;
					break;
					case "postal_code":
					j = n
				}
			}
		}
		if (jQuery('#ship-country-selector').val() == "CA") {
			console.log("test1b");
			jQuery("#ship-state-canada").val(i);
			// jQuery('#ship-state-canada').dropdown('set text', i  );
		}
		if (jQuery('#ship-country-selector').val() == "US") {
			console.log("test2b");
			jQuery("#ship-state-domestic").val(i);
			//jQuery('#ship-state-domestic').dropdown('set text', i  );
		}
		if (jQuery('#ship-country-selector').val() !== "US" && jQuery('#ship-country-selector').val() !== "CA") {
			console.log("test3b");
			jQuery("#ship-state-international").val(i);
			//jQuery('#ship-state-international').dropdown('set text', i  );
		}
		g = g || h, jQuery("#ship-address")[0].value = f, jQuery("#ship-postal-code")[0].value = j, jQuery("#ship-city")[0].value = g;
		/* for (var o = document.getElementsByTagName("LABEL"), k = 0; k < o.length; k++) {
			switch (o[k].htmlFor) {
				case "ship-address":
				case "ship-address2":
				case "ship-postal-code":
				case "ship-city":
				o[k].className += " control-label-out"
				}
			}
		 */
	}


	function geolocate() {
		navigator.geolocation && navigator.geolocation.getCurrentPosition(function(a) {
			var b = {
				lat: a.coords.latitude,
				lng: a.coords.longitude
			},
			c = new google.maps.Circle({
				center: b,
				radius: a.coords.accuracy
			});
			autocomplete.setBounds(c.getBounds())
		})
	}


	jQuery(document).ready(function ($) {
		$("#ship-address").focus(function() {
			var autocomplete, google_api = document.createElement("script");
			google_api.setAttribute("src", "https://maps.googleapis.com/maps/api/js?key=AIzaSyD7UROZZw_RP3_kTPXHmLZ3LdlMV7oIH2M&libraries=places&callback=initAutocomplete"), google_api.setAttribute("async", ""), google_api.setAttribute("defer", ""), google_api.setAttribute("id", "googleapiscript"), document.head.appendChild(google_api);
		});
	});

}

	function geocodeLatLng(locationstring) {
		console.log("allinggooglemaps");
		var geocoder = new google.maps.Geocoder;
		console.log("finishallinggooglemaps");
		var latstring =  locationstring;
		var latlngStr = latstring.split(',', 2);
		var latlng = {lat: parseFloat(latlngStr[0]), lng: parseFloat(latlngStr[1])};
		console.log("latlng"+latlngStr[0]+"latlng"+latlngStr[1]);
		geocoder.geocode({'location': latlng}, function(results, status) {
			if (status === 'OK') {
				console.log("geocodeok");
				if (results[0]) {
					for (var i=0; i < results[0].address_components.length; i++) {
						for (var j=0; j < results[0].address_components[i].types.length; j++) {
							if (results[0].address_components[i].types[j] == "country") {
								country = results[0].address_components[i];
							}
						}
					}
					
						console.log(country.short_name);
						$("#ship-country-selector").val(country.short_name).trigger('change');
					
				} else {
					console.log('No results found');
				}
			} else {
				console.log('Geocoder failed due to: ' + status);
			}
		});
	}
/*
	function geoFindMe() {
		function success(position) {
			var latitude  = position.coords.latitude;
			var longitude = position.coords.longitude;
			var latstring =  latitude + ',' + longitude; 
			geocodeLatLng(latstring);
		}
		function error() {
		}
		navigator.geolocation.getCurrentPosition(success, error);
	}
 */
	jQuery(document).ready(function(){
		$(".auto").hide();
		$(".auto.domestic").show();
		setofferterm();
		//$(".req.ui.search.selection.dropdown.disabled").hide();
		/* 
			geoFindMe();
			console.log("geolocating...");
		  */
		//$('#ship-country-selector').filterByText($('#ship-country-selector-input'));
	});

	$("#ship-address").on("focusin.addressgogle", function(){
		$("#googleautoship").insertAfter($(".pac-container.pac-logo:eq(0)"));
		$("#googleautobill").insertAfter($(".pac-container.pac-logo:eq(1)"));
		$('.pac-container.pac-logo:eq(0)').bind('DOMSubtreeModified', function(e) {
			if (e.target.innerHTML.length > 0) {
				if ($(".pac-item").length > 0) {
					$("#googleautoship").html('<p> A list of <span id="sugnum">'+$(".pac-item").length+'</span> address suggestions is available. Use the up and down arrow keys to navigate the list</span></p>');
				}
			}
		});
		$('.pac-container.pac-logo:eq(1)').bind('DOMSubtreeModified', function(e) {
			if (e.target.innerHTML.length > 0) {
				if ($(".pac-item").length > 0) {
					$("#googleautosbill").html('<p> A list of <span id="sugnum">'+$(".pac-item").length+'</span> address suggestions is available. Use the up and down arrow keys to navigate the list</span></p>');
				}
			}
		});
		$("#ship-address").on("keyup.sugnoship", function(){
			if ($(".pac-item").length > 0) {
				$("#googleautoship").html('<p> A list of <span id="sugnum">'+$(".pac-item").length+'</span> address suggestions is available. Use the up and down arrow keys to navigate the list </p>');
			}
			if ($(".pac-item").length == 0) {
				$("#googleautoship").html('<p>  There are no matches for your search </p>');
			}
		});
		$("#bill-address").on("keyup.sugnobill", function(){
			if ($(".pac-item").length > 0) {
				$("#googleautobill").html('<p> A list of <span id="sugnum">'+$(".pac-item").length+'</span> address suggestions is available. Use the up and down arrow keys to navigate the list </p>');
			}
			if ($(".pac-item").length == 0) {
				$("#googleautobill").html('<p>  There are no matches for your search </p>');
			}
		});
	});




</script>

  <style>.haspaypaloff {
    display: none;
}

#sslimage {
    height: 11px;
    margin-right: 2px;
    position: relative;
    top: 1px;
}

#creditcard {
    background-image: url(https://subscribe.wired.com/circulation/wired/images/ng-ssl-lock-new.png);
    background-size: 8px;
    background-repeat: no-repeat;
    background-position-x: calc(100% - 15px);
    background-position-y: center;
    box-sizing: border-box;
    border: solid 1px #979797;
}

#creditcard.errorinput {
    border: solid 2px #dc161c !important;
}

#month.errorinput,
#year.errorinput,
#ship-state-domestic.errorinput,
#ship-state-canada.errorinput,
#ship-state-international.errorinput,
#bill-state-domestic.errorinput,
#bill-state-canada.errorinput,
#bill-state-international.errorinput,
#impulse-state-domestic.errorinput,
#impulse-state-canada.errorinput,
#impulse-ship-country.errorinput {
    background-size: 14px 8px;
    background-position: right -0.5rem center;
    border: solid 2px #dc161c !important;
}

.search.errorinput {
    background-color: rgba(216, 16, 30, 0.03) !important;
    border: solid 2px #dc161c !important;
}

@font-face {
    font-family: LabGrotesque-Bold;
    src: url('/circulation/wired/misc/LabGrotesque-Bold.woff');
}

@font-face {
    font-family: LabGrotesque-Regular;
    src: url('/circulation/wired/misc/LabGrotesque-Regular.otf');
}
@font-face {
    font-family: LabGrotesque-italic;
    src: url('/circulation/wired/misc/LabGrotesque-Italic.otf');
}

@font-face {
    font-family: LabGrotesque-Black;
    src: url('/circulation/wired/misc/LabGrotesque-Black.woff');
}

@font-face {
    font-family: LabGrotesque-Medium;
    src: url('https://subscribe.wired.com/circulation/wired/misc/Grotesque-Medium.ttf');
}

@font-face {
    font-family: WiredMono-Regular;
    src: url('https://subscribe.wired.com/circulation/wired/misc/WiredMono-Regular.otf');
}

@font-face {
    font-family: WiredMono-Bold;
    src: url('https://subscribe.wired.com/circulation/wired/misc/WiredMono-Bold.otf');
}

.cancelanytime {
    font-family: LabGrotesque-Medium;
    font-size: 16px;
    line-height: normal;

    color: #757575;
    padding-right: 10px;

    margin-top: 15px;
    letter-spacing: normal;
}

body {
    margin: 0px 0px;
    background-color: #f2f2f2;
    text-rendering: optimizeLegibility;
    text-rendering: geometricPrecision;
    -webkit-font-smoothing: antialiased;
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.sumbrand {
    font-style: normal !important;
}

a {
    color: #000;
    text-decoration: underline;
}

a:hover {
    text-decoration: underline;
}

#ship-country-selector-input {
    position: relative;
    z-index: 3;
    border: #707070 solid 1px;
    background-size: 9px 6px;
    background-position: right -.51rem center;
    background-origin: content-box;
    background-repeat: no-repeat;
    background-image: url(https://subscribe.wired.com/circulation/wired/images/ng-dropdown-arrow-new.png);
    display: none;
}

#ship-country-selector-input.errorinput {
    border: solid 2px #dc161c;
}


.error {
    color: #dc161c;
}

input, select {
    width: 100%;
    font-family: LabGrotesque-Regular;
    font-size: 16px;
    line-height: 1.06;
    text-align: left;
    color: #979797;
}

.errorinput {
    background-color: rgba(216, 16, 30, 0.03);
    border: solid 2px #dc161c;
    background-repeat: no-repeat;
    background-position-x: 97%;
    background-position-y: center;

}

label:has(.error)+input,
label:has(.error)+select {
    background-color: rgba(216, 16, 30, 0.03);
    border: solid 2px #dc161c;
}


.output-message {
    display: none;
}

.output-message.error {
    display: inherit;
    letter-spacing: 0 !important;
}

.borderdivide {
    border-top: 1px solid #e4e4e4;
    width: 100%;
    height: 1px;

}

[data-cctype].on {
    color: black;
    font-family: LabGrotesque-Medium;
}

#billingaddress {
    border: none;
    padding: 0px;
}

.panel {
    padding: 0;
    box-sizing: border-box;
    max-width: 345px;
    width: 100%;
}

.space40 {
    height: 40px;
    width: 100%;
}

.space30 {
    height: 30px;
    width: 100%;
}


.space20 {
    height: 20px;
    width: 100%;
}

.space25 {
    height: 25px;
    width: 100%;
}

.space15 {
    height: 15px;
    width: 100%;
}


.space10 {
    height: 10px;
    width: 100%;
}

.space5 {
    height: 5px;
    width: 100%;
}

.space35 {
    height: 35px;
    width: 100%;
}

#header {
    text-align: center;
}

.sectionbox {
    max-width: 480px;
    width: 100%;
    margin: auto;
    padding: 20px 0;
    display: block;
    box-sizing: border-box;
}

.circlecheck {
    border-radius: 75px 75px 75px 75px;
    -webkit-border-radius: 75px 75px 75px 75px;
    -moz-border-radius: 75px 75px 75px 75px;
    border: 2px solid #c7c7c7;
    background-color: #fff;
    color: #fff;
    transform: rotate(0deg);
    width: 18px;
    height: 18px;
    display: none;
}

.panel.offer.on .circlecheck {
    border-radius: 75px 75px 75px 75px;
    -webkit-border-radius: 75px 75px 75px 75px;
    -moz-border-radius: 75px 75px 75px 75px;
    border: 0px solid #000;
    transform: rotate(0deg);
    width: 18px;
    height: 18px;
    background-color: #000;
    color: #fff;
    text-align: center;
    font-size: 16px;
    border: 2px solid #000;
}

.panel.offer {
    border: 1px solid #717171;
    flex: 1 1 0;
}

.panel.offer.on {
    border: solid 1px #057dbc;
    background-color: rgba(5, 125, 188, 0.1);
    color: #000;
}

.panel.offer.off {
    color: #000;
    background-color: #fff;
    border: solid 1px #e5e5e5;
}

ul {
    list-style: none;
}

ul li:before {
    content: "\203A \00a0 ";
    color: #d2141c;
}

ul.nosudo li:before {
    content: "";
}

#footersection {
    width: 100%;
    background-color: #000000;
    display: block;
}

.footer {
    max-width: 678px;
    color: #ffffff;
    margin: auto;
    padding: 30px 15px;
}
.footer1 {
    padding-top: 0;
    padding-bottom: 40px;
}

#footerm {
    display: block;
}

#giftrecipient {
    border: none;
    display: inherit;
    margin: 0 auto;
    max-width: 510px;
    padding: 0 15px;
    box-sizing: border-box;
    margin-bottom: 25px;
}

#giftrecipient .flex {
    display: flex;
    flex-direction: row;
}

#giftrecipient .flex>div {
    margin-bottom: 15px;
}

#giftrecipient .flex>div:first-child {
    margin-right: 7.5px;
    width: 50%;
}

#giftrecipient .addressbox>div:last-child {
    margin-bottom: 5px;
}

#yourinformation, #shippingaddressimpulse, #ordersummary, #autorenewal, #placeorder, #impulseFields, #amazon_submit {
max-width: 510px;
padding: 0 15px;
margin: 0 auto;
box-sizing: border-box;
}
#shippingaddressimpulse{
    display: flex;
    min-height: 65px;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    margin-bottom: 20px;
}
#shippingaddress{
    width: 100%;
    padding: 0;
}
#impulseFields .addressbox {
    margin-top: 15px;
}
#yourinformation {
    margin-bottom: 25px;
}
#ordersummary {
    padding-top: 25px;
}
#isImpulseholder{
    display: flex;
    max-width: 460px;
    padding: 11px 10px 7px;
    cursor: pointer;
    min-height: 22px;
    margin: auto 1px auto;
}
#isImpulseCheck {
    background-color: transparent;
    color: white;
    text-align: center;
    font-size: 16px;
    border: solid 2px #666660;
    height: 21px;
    width: 21px;
    display: inline-block;
    color: white;
    cursor: pointer;
    font-size: 16px;
    margin-right: 10px;
    box-sizing: border-box;
    flex: 0 0 auto;
    border-radius: 15px;
}
#isImpulseholder:hover {
    color: #057dbc;
}
#isImpulseCheck:focus {
outline: none;
box-shadow: none;
}
#isImpulseholder:hover #isImpulseCheck{
    box-shadow: inset 0 2px 1px 0 rgba(0, 0, 0, 0.06);
    border: solid 2px #057dbc;
}
#isImpulseholder:hover #isImpulseCheckText{
    color: #057dbc;
}

.isImpulseholder-active {
    border-radius: 8px;
    box-shadow: inset 1px 3px 4px 0 rgba(0, 0, 0, 0.3), inset 3px 1px 4px 0 rgba(0, 0, 0, 0.3);
    border: solid 1px #057dbc;
    background-color:rgba(5, 125, 188, 0.15);
    color: #066ca1;
}
#isImpulseholder.isImpulseholder-active {
    margin: auto 0;
}
.isImpulseholder-active #isImpulseCheck{
    border: solid 2px #057dbc;
}
.isImpulseholder-active #isImpulseCheckText{
    color: #066ca1;
}

#yourinformation .flex {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
}
#yourinformation .nextgen-yourinfo-flex {
    flex-wrap: nowrap!important;
    justify-content: space-between;
}

#yourinformation .flex>div {
    margin-bottom: 15px;
}

#yourinformation .flex>div:first-child {
    margin-right: 7.5px;
    width: 50%;
}

#yourinformation .addressbox>div:last-child {
    margin-bottom: 5px;
}

#paymentdetails {
    padding-top: 0px;
    padding-bottom: 0px;
}

#paymentdetails .flex {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
}

#paymentdetails .flex>div {
    flex: 1;
    margin-bottom: 20px;
}

#paymentdetails .flex>div:first-child {
    flex: 1 100%;
}

#paymentdetails .flex>div:nth-child(2) {
    margin-right: 15px;
}

#paymentdetails .flex>div:nth-child(3) {
    margin-right: 15px;
}

#billingaddress {
    border: none;
    display: inherit;
    margin: unset;
    padding: 0px;
}

#billingaddress .flex {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
}

#billingaddress .flex>div {
    flex: 0 1 20%;
}

#billingaddress .flex>div:first-child {
    flex: 1 0 40%;
    margin-right: 15px;
}

#billingaddress .flex>div:nth-child(2) {
    margin-right: 15px;
}

#billingaddress .addressbox.international .flex>div:first-child {
    flex: 1 0 30%;
    margin-right: 15px;
}

#billingaddress .addressbox.international .flex>div:nth-child(2) {
    margin-right: 15px;
    flex: 0 1 30%;
}

.addressbox .flex {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
}

.addressbox .flex>div {
    flex: 0 1 20%;
    margin-bottom: 15px;
}

.addressbox .flex>div:first-child {
    flex: 1 0 40%;
    margin-right: 15px;
}

.addressbox .flex>div:nth-child(2) {
    margin-right: 15px;
    flex: 0 1 20%;
}

.addressbox.international .flex>div:first-child {
    flex: 1 0 30%;
    margin-right: 15px;
}

.addressbox.international .flex>div:nth-child(2) {
    margin-right: 15px;
    flex: 0 1 30%;
}

input {
    margin-top: 5px;
    height: 44px;
    color: #000;
    box-sizing: border-box;
    padding: 10px;
}

select {
    height: 50px;
    line-height: normal;
    color: #000;
    background-color: #fefefe;
    border-radius: 0;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("https://subscribe.wired.com/circulation/wired/images/ng-dropdown-arrow-new.png");
    background-size: 14px;
    background-position: right -0.5rem center;
    background-origin: content-box;
    background-repeat: no-repeat;
    padding: 10px;
    padding-right: 1.5rem;
    box-sizing: border-box;
    margin-top: 10px;
}

#ship-country {
    background-color: #f7f7f7;
    cursor: default;
}

.circlecheckcontain {
    display: inline-block;
    width: 40px;
    vertical-align: top;
    cursor: pointer;
}

#isImpulseCheckText {
    display: inline-block;
    font: 400 16px/1.25 'LabGrotesque-Medium';
    color: #666660;
}

.subtext,
label {
    font-size: 14px;
    font-family: LabGrotesque-Regular;
    letter-spacing: normal;
    color: #000000;
}

@media screen and (max-width: 768px) {

    #giftrecipient .flex,
    #yourinformation .flex,
    #paymentdetails .flex {
        flex-wrap: wrap;
    }
    #giftrecipient .flex-nowrap,
    #yourinformation .flex-nowrap,
    #paymentdetails .flex-nowrap {
        flex-wrap: nowrap;
    }

    #giftrecipient .flex>div,
    #yourinformation .flex>div {
        flex: 1 0 100%;

    }

    #giftrecipient .flex>div:first-child,
    #yourinformation .flex>div:first-child,
    #paymentdetails .flex>div:first-child {
        flex: 0 1 100%;
        margin-right: 0px;
    }

    .addressbox.international .flex {
        flex-wrap: wrap;
    }

    .addressbox.international .flex>div:first-child {
        flex: 1 0 100%;

    }

    .addressbox.international .flex>div:nth-child(2) {
        margin-right: 20px;
        flex: 1;
    }

    #billingaddress .addressbox.international .flex>div:first-child {
        flex: 1 0 100%;

    }

    #billingaddress .addressbox.international .flex>div:nth-child(2) {
        margin-right: 20px;
        flex: 1;
    }

    #isImpulseCover {
        display: none !important;
    }

    #giftaddresstextImpulse h2 {
        margin-bottom: 30px;
    }

}

#wheregoselect,
#ship-country {
    width: 100%;
}

.clipboard {
    padding-top: 20px;
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    bottom: 10px;
    background-color: #dc161c;
    background-size: cover;
    background-position: center center;
    -webkit-clip-path: polygon(0px 64px, 162px 40px, 159px 1px, 0px 24px);
    clip-path: polygon(0px 64px, 162px 40px, 159px 1px, 0px 24px);
    color: white;
}

.box {
    position: relative;
    -ms-touch-action: none;
    touch-action: none;
    display: block;
    margin: auto;
    width: 160px;
    height: 100px;
}

p {
    margin: 0px 0px
}

h2 {
    margin: 0px 0px
}

h1 {
    margin: inherit;
    font-size: inherit;
}

#jointodaytext {
    transform: rotate(-8deg);
    display: block;
    font-size: 24px;
    font-family: LabGrotesque-Bold;
    position: relative;
    top: -7px;
}

#isGiftCheck {
    width: 21px;
    height: 21px;
    border-radius: 100px;
    box-shadow: inset 0 2px 1px 0 rgba(0, 0, 0, 0.06);
    border: solid 2px #666660;
    display: inline-block;
    cursor: pointer;
    font-size: 14px;
    box-sizing: border-box;
}

#isGiftCheck[data-isgift=true] {
    text-align: center;
    font-size: 18px;
}

#paypalorheading {
    font-family: LabGrotesque-Medium;
    font-size: 20px;
    line-height: 0.85;
}
#placeorder, #amazon_submit{
    text-align: center;
    margin-top: 30px;
    margin-bottom: 30px;
    box-sizing: border-box;
}
#placeorder .button, #amazon_submit #amazon_submit_mob {
    border-radius: 8px;
    background-color: #057dbc;
    height: 55px;
    color: white;
    text-align: center;
    display: inline-block;
    vertical-align: middle;
    width: 100%;
    line-height: 54px;
    cursor: pointer;
    margin: 2px auto;
    font-size: 16px;
    text-transform: none;
}
#placeorder .button:hover, #amazon_submit #amazon_submit_mob:hover {
    width: 100%;
    height: 59px;
    border-radius: 8px;
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.3);
    background-color: #057dbc;
    margin: 0 auto;
    line-height: 58px;
}

#deliverto {
    font-family: LabGrotesque-Regular;
    display: inline-block;
    margin: 15px auto 5px;
}

#getbrand {
    font-family: LabGrotesque-Black;
    font-size: 38px;
    line-height: 40px;
    letter-spacing: normal;
}

@font-face {
    font-family: FabrigaMedium;
    src: url(/circulation/vanityfair/misc/Fabriga-Medium.woff);
}

#signuptext {
    font-family: LabGrotesque-Medium;
    font-size: 20px;
    line-height: 29px;
    letter-spacing: 0.3px;

    max-width: 450px;
    text-align: center;
    margin: auto;
}

@font-face {
    font-family: FlamaUltracondensed-Medium;
    src: url(/circulation/vanityfair/misc/FlamaUltracondensed-Medium.woff);
}

.sectionheadfont,
.sectionheadfont h2 {
    font-family: WiredMono-Regular;
    font-weight: 100;
    font-size: 16px;
    line-height: normal;
    color: #000;
    text-transform: uppercase;
    text-align: center;
    margin-bottom: 5px;
    margin-top: 5px;
}

.button, #amazon_submit_mob {
    font-family: LabGrotesque-Bold;
    font-size: 20px;
    text-transform: uppercase;
}


#isGiftCheckText {
    font-family: LabGrotesque-Regular;
    font-size: 16px;
    line-height: 1.25;
    display: inline-block;
    vertical-align: middle;
    margin-left: 10px;
    color: #666660;
    cursor: pointer;
}

.heading02 {
    font-family: LabGrotesque-Regular;
    font-size: 16px;
    line-height: normal;
    letter-spacing: normal;
}

.heading03 {
    font-family: LabGrotesque-Bold;
    font-size: 20px;
    line-height: normal;
    letter-spacing: normal;
    margin: 12px auto 0;
    text-align: center;
}

.body01 {
    font-family: LabGrotesque-Regular;
    font-size: 14px;
    line-height: 1.5;
    padding-left: 0px;
    margin-top: 0;
    margin-bottom: 5px;
}

.link01 {
    font-family: LabGrotesque-Medium;
    font-size: 16px;
    letter-spacing: 0.2px;
}

#privacytext,
#giftprivacytext,
#impulse-giftprivacytext {
    font-family: LabGrotesque-Medium;
    font-size: 12px;
    width: 100%;
    margin-top: 10px;
    display: block;
    margin-bottom: 0px;
    color: #666660;
}
#privacytext a,
#giftprivacytext a,
#impulse-giftprivacytext a {
    color: #666660;
    text-decoration: underline;
}
#privacytext a:hover,
#giftprivacytext a:hover,
#impulse-giftprivacytext a:hover {
    color: #666660;
    text-decoration: underline;
}
#autorenewal a, #autorenewal a:hover {
    color: #000000;
    text-decoration: underline;
}
#cneePw {
    font-family: LabGrotesque-Medium;
    font-size: 16px;
    width: 100%;
    margin-top: 10px;
    display: block;
    margin-bottom: 0px;
    color: #757575;
}

#ukoffer {
    font-family: LabGrotesque-Medium;
    font-size: 16px;
    width: 100%;
    margin-top: 10px;
    display: block;
    margin-bottom: 0px;
    color: #757575;
}

#cctext {
    margin-top: 8px;
    font-family: LabGrotesque-Regular;
    font-size: 12px;
    text-align: left;
    color: #666660;
    letter-spacing: 0px;
}
#autoheader, .autoRenewText h2{
    font-size: 14px;
    line-height: 1.29;
    letter-spacing: 0.4px;
    text-align: left;
    color: #000000;
    font-family: LabGrotesque-Bold;

}

#autotext, .autoRenewText p {
    font-family: LabGrotesque-Regular;
    font-size: 14px;
    line-height: 1.29;
    text-align: left;
    color: #000000;
}

#ssl {
    font-family: LabGrotesque-Regular;
    font-size: 12px;
    line-height: 1.38;
    letter-spacing: 0.2px;
    text-align: center;
    color: #666660;
}

#customercare {
    font-size: 18px;
    line-height: 1.25;
    letter-spacing: 0.2px;
    text-align: center;
    color: #ffffff;
    font-family: LabGrotesque-Bold;
    max-width: 570px;
    margin: 0 auto;
    padding: 0 15px;
}
#customercare a {
    color: #ffffff;
    text-decoration: underline;
}
#customercare a:hover {
    color: #ffffff;
    text-decoration: underline;
}

.subfoottext {
    font-family: LabGrotesque-Medium;
    font-size: 12px;
    line-height: 1.42;
    letter-spacing: 0.3px;
    text-align: left;
}

#footcopyright,
#footprivacy {
    font-family: LabGrotesque-Medium;
    font-size: 14px;
    line-height: 18px;
    letter-spacing: 0.6px;
    text-align: center;
    color: #ffffff;
}

#footpost, #footpost1, #foottax, #footservweb, #footterm, #footterm1, #footmailtime, #footintcurrency, #secondfootterm, #footermprice {
    font-family: LabGrotesque-Regular;
    font-size: 14px;
    line-height: 18px;
    text-align: left;
    color: #ffffff;
    margin-bottom: 15px;
}
#footterm{
    font-family: LabGrotesque-Bold;
}

#total {
    font-family: LabGrotesque-Bold;
    font-size: 20px;
    line-height: 1.3;
    letter-spacing: 0.3px;
    text-align: right;
    color: #000000;
}

#mousetax {
    font-family: LabGrotesque-Medium;
    font-size: 12px;
    line-height: 1.92;
    text-align: right;
    color: #000000;
}

#footprivacy a {
    font-family: LabGrotesque-Medium;
    color: #ffffff;
}
#footprivacy {
margin-bottom: 15px;
}

#isGiftCheckinfocopy {
    font-size: 12px;
    font-family: LabGrotesque-Medium;
    display: none;
}

#isGiftCheck[data-isgift=true]+div+div {
    display: block;
}

#isGiftCheck[data-isgift] img {
    height: 16px;
    padding-top: 3px;
    box-sizing: border-box;
    display: none;
}

#isImpulseCheck[data-isimpulse] img {
    height: 16px;
    padding-top: 3px;
    box-sizing: border-box;
}

#submission-form {
    margin-bottom: 0px;
}

#pagesection {
    background-color: #fff;
}

#isgiftholder-container {
    display: flex;
    min-height: 70px;
    justify-content: center;
    align-items: center;
}

#isgiftholder {
    text-align: center;
    min-height: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-width: 173px;
}

#isgiftholder:hover,
#isgiftholder:hover #isGiftCheckText {
    color: #066ca1;
}

#isgiftholder:hover #isGiftCheck {
    border: solid 2px #066ca1;
}
#isGiftCheck:focus {
    outline: none;
}
.isgiftholder-selected {
    border-radius: 8px;
    box-shadow: inset 1px 3px 4px 0 rgba(0, 0, 0, 0.3), inset 3px 1px 4px 0 rgba(0, 0, 0, 0.3);
    border: solid 1px #057dbc;
    background-color: rgba(5, 125, 188, 0.15);
    color: #066ca1;
}

.isgiftholder-selected #isGiftCheckText {
    color: #066ca1;
}

.isgiftholder-selected #isGiftCheck {
    border: solid 2px #066ca1;
}

#billingaddress .addressbox>div {
    margin-bottom: 15px;
}

#billingaddress .addressbox>div:last-child {
    margin-bottom: 0px;
}

#bill-country {
    width: 100%;
}

#bill-postal-code-error.error {
    display: block;
}

#shippingaddress .addressbox>div,
#impulseaddress .addressbox>div,
#impulsefirstlast .addressbox>div {
    margin-bottom: 15px;
    justify-content: space-between;
}

#shippingaddress .addressbox>div:last-child {
    margin-bottom: 0px;
}

#changeformatting {
    height: 0px;
    position: relative;
    float: right;
    top: -30px;
    left: -20px;
}

#ship-postal-code-error.error {
    display: block;
}

#cvv-error.error {
    display: block;
}

#ordersumtext {
    margin-bottom: 15px;
}

#orderummaryborder {
    height: 1px;
    width: 100%;
    border-bottom: 1px solid #e4e4e4;
    margin-top: 25px;
    margin-bottom: 20px;
}

.flex-container {
    width: 100%;
    min-height: 20px;
    margin: 0 auto;
    display: -webkit-flex;
    display: flex;
    font-family: LabGrotesque-Regular;
    font-size: 16px;
    line-height: 1.44;
}

.flex-container .column {
    padding: 7.5px 0;
    -webkit-flex: 1;
    -ms-flex: 1;
    flex: 1;
}

.flex-container .column.bg-alt {
    background: #b4bac0;
}

#itemsummarydesc,
#impulseummarydesc {
    display: inline-block;
    color: #000;
}

.additional-info {
    display: inline-block;
    font-family: LabGrotesque-Medium;
    color: #757575;
    padding-right: 20px;
    padding-left: 20px;
}

#itemprice,
#impulseprice {
    display: inline-block;
    text-align: right;
    color: #000;
}

#shiphandborder {
    height: 1px;
    width: 100%;
    border-bottom: 1px solid #e4e4e4;
    margin-top: 25px;
    margin-bottom: 20px;
}

#shiphandtext {
    color: #000;
}

#shipcost {
    display: inline-block;
    text-align: right;
    color: #000;
}

#estimatetotalborder {
    height: 1px;
    width: 100%;
    border-bottom: 1px solid #e4e4e4;
    margin-top: 15px;
    margin-bottom: 10px;
}

#estimatetotalcol {
    color: #000;
    font-family: LabGrotesque-Bold !important;
}

#totalalign {
    display: inline-block;
    text-align: right;
}

#total {
    color: #000;
}

#btn_processing {
    text-align: center;
    margin: auto;
}

#customerservice {
    padding-top: 30px;
}

#customercare span+span {
    clear: left;
    display: block;
    width: 100%;
    margin-top: 0px;
}

#footerborderdivide {
    border-top: #979797 1px solid;
}

#ship-country-selector {
    margin-top: 0px;
    border-top: none;
    padding-top: 0px;
    padding-bottom: 0px;
    color: #979797;
}

#ship-country-selector option {
    height: 37px;
    border-bottom: 1px solid #e7e7e7;
    box-sizing: border-box;
    padding-left: 15px !important;
    padding-top: 6px;
}


#ship-country-selector option:hover {
    background-color: #e7e7e7;
}

#ship-country-selector {
    display: none;
}

.selection.ui.dropdown,
.ui.search.selection.dropdown {
    box-sizing: border-box;
    width: 100%;
    height: 44px;
    border-radius: inherit;
    margin-top: 5px;
    display: block;
}

.menu.transition.visible,
.ui.search.dropdown>.text {
    font-family: LabGrotesque-Medium;

}

.ui.selection.dropdown {
    min-width: 0px !important;
}

@media only screen and (max-width: 767px) {

    .addressbox .flex>div:first-child {
        flex: 1 0 40%;
        margin-right: 15px;
    }

    .addressbox .flex>div {
        flex: 0 1 30%;

    }

    .addressbox .flex>div:nth-child(2) {
        flex: 0 1 20%;
        min-width: 80px;

    }

    .addressbox .flex>div:nth-child(2) {
        margin-right: 15px;
    }


}

.flex-container .column+.column {
    flex: 0 1 20%;
}


#btn_processing {
    margin: auto;
    width: 103px;
    display: block;
    margin-bottom: 30px;
    margin-top: 30px;
}

.text {
    font-size: 16px;
}

.ui.search.dropdown>.text {
    top: 5px;

}

#bill-state-canada+i+input+div {
    top: 5px;

}

.dropdown.icon {
    background: url(https://subscribe.wired.com/circulation/wired/images/ng-dropdown-arrow-new.png);
    background-size: 9px 6px;
    background-position: right -.5rem center;
    background-origin: content-box;
    background-repeat: no-repeat;
    top: 18px !important;
    right: 15px !important;
}

.dropdown.icon:before {
    content: '' !important;
}

#bill-state-domestic+i+input+div.text,
#ship-state-domestic+i+input+div.text {
    top: 5px;
}

</style><style>.vis-hide-google {
    left: -9999px;
    position: absolute;
}

#autoheader {
    margin-bottom: 3px;
}

#ship-state-domestic,
#bill-state-domestic {
    min-width: 137px;
}

#ship-state-canada {
    display: none;
}

#bill-state-canada {
    display: none;
}

.circlecheckcontain+div {
    max-width: 84%;
}

@media screen and (max-width: 767px) {

    .addressbox .flex>div {
        flex: 0 1 30%;
    }

    #isGiftCheckinfocopy {
        font-size: 11px !important;
    }

}

@media screen and (min-width: 767px) {
    #isGiftCheckinfocopy {
        font-size: 12px !important;
    }

}

.ui.search.selection.dropdown {
    border: rgb(169, 169, 169) .5px solid;
}

.ui.search.dropdown>.text {
    top: 5px;
}

.dropdown.icon {
    top: 23px !important;
}

#bill-state-domestic+i+input+div.text,
#ship-state-domestic+i+input+div.text {
    top: 5px;
}

.ui.search.selection.dropdown>input.search {
    top: -11px;
    padding-left: 8px;
}

.errorcontainer {
    background-color: rgba(216, 16, 30, 0.03);
    padding: 5px 0 0;
    margin-bottom: 0;
    font-family: LabGrotesque-Medium;
    font-size: 16px;
    color: #dc161c;
    max-width: 620px;
    line-height: 1.5;
}

.ui.dropdown .menu,
.ui.selection.dropdown .menu,
.ui.selection.active.dropdown:hover .menu,
.ui.selection.active.dropdown .menu,
.ui.selection.active .menu,
.ui .menu {
    min-width: calc(100%) !important;
    width: 100% !important;

}

.ui.selection.active.dropdown:hover .menu {
    border-color: none;
}

.ui.search {
    letter-spacing: 0px;
}

input,
select {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    border-radius: 0;
    box-shadow: none;
    border: solid 1px #979797;
}

.ui.selection.dropdown>.dropdown.icon {
    margin-right: 0px;
    padding-right: 10px;
}

input.search {
    border: solid 1px #707070;
}

.ui.search.selection.dropdown {
    border: #707070 solid 1px !important;
}

.ui.selection.active.dropdown .menu {
    border: #707070 solid 1px !important;
}

.ui.selection.active.dropdown:hover .menu {
    border: #707070 solid 1px !important;
}

.dropdown.icon {
    background-size: 12px 6px;
}

#ship-state-canada+.dropdown+.search+.text,
#bill-state-canada+.dropdown+.search+.text {
    top: 5px;
}

.linknoline,
.linknoline:hover,
a:hover .linknoline {
    text-decoration: none;
    color: #757575;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;

}

#ukoffer a:hover {
    text-decoration: none;
}

@media screen and (max-width: 768px) {

    #billingaddress .addressbox .flex>div:first-child {
        margin-right: 15px;
    }

    #billingaddress .addressbox .flex>div:nth-child(2) {
        margin-right: 15px;
    }

    #paymentdetails .flex>div:nth-child(2) {
        margin-right: 15px;
    }

    #paymentdetails .flex>div:nth-child(3) {
        margin-right: 15px;
    }

}

.nosudo li {
    display: flex;
    flex-wrap: nowrap;
}

.nosudo li span+p {
    flex-grow: 1 0 100%;
}

.item {
    font-family: LabGrotesque-Medium;
}

.ui.search.dropdown>input.search {
    left: -1px;
    width: 101%;
}

.ui.search.dropdown>input.search.errorinput {
    left: -1px;
    width: 102%;
}

.ui.selection.dropdown .menu {
    border-radius: 0px;
}

@media screen and (max-width: 767px) {
    .mobilehide {
        display: none;
    }
}

#deskgifturl,
#mobgifturl,
#deskselfurl,
#mobselfurl {
    display: none;
}

#addressBookWidgetDiv {
    width: 300px;
    height: 228px;
}

#walletWidgetDiv {
    width: 300px;
    height: 228px;
}

#consentWidgetDiv {
    width: 300px;
    height: 140px;
}

.subheader_fields {
    clear: both;
    padding-top: 15px;
    font-size: 14px;
    text-align: center;
    font-family: LabGrotesque-Medium;
}

#paypaldecription {
    left: 83px;
}

@media screen and (min-width: 767px) {
    .subheader_fields {
        font-size: 16px;
    }

    #paypaldecription {
        left: 200px;
    }

    #impulseaddress {
        border: none;
        display: inherit;
        margin: unset;
        padding: 0px;
    }

    #impulseaddress .flex {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
    }

    #impulseaddress .flex>div {
        flex: 0 1 20%;
        margin-bottom: 0px;
    }

    #impulseaddress .flex>div:first-child {
        flex: 1 0 40%;
        margin-right: 15px;
    }

    #impulseaddress .flex>div:nth-child(2) {
        margin-right: 15px;
    }

    #impulseaddress .addressbox.international .flex>div:first-child {
        flex: 1 0 30%;
        margin-right: 15px;
    }

    #impulseaddress .addressbox.international .flex>div:nth-child(2) {
        margin-right: 15px;
        flex: 0 1 30%;
    }
}

@media only screen and (max-width: 340px) {
    .addressbox .flex>div:first-child {

        flex: 1 0 25%;
    }

}

.giftimpulseon {
    display: block;
}

.giftimpulseoff {
    display: none;
}

.impulse-field-top {
    margin-top: 15px;
    margin-bottom: 15px;
}

/* Wired Header Style */

#toplogo {
    max-width: 1024px;
    width: 100%;
    margin: 0 auto;
    background-color: #f5bf23;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 50px;
    padding: 0 15px;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    flex-direction: row;
}

#toplogo .wir-logo-a {
    display: inline-block;
    height: 24px;
}

#toplogoimg {
    max-width: 120px;
    height: 24px;
}

.toplogoimgdt {
    display: none;
    ;
}

.wir-mobile-menu1-next-gen {
    display: block;
}

.wir-mobile-menu-next-gen {
    display: none;
    background-color: #000000;
}

.wir-DT-menu-next-gen {
    display: none;
}

.toplogoimgdta {
    display: none;
}

.toplogoimgdtaa {
    display: inline-block;
}

.wir-menu-container ul li {
    display: block;
    font-family: LabGrotesque-Medium;
    font-size: 12px;
    font-style: normal;
    font-stretch: normal;
    line-height: 1.29;
    letter-spacing: normal;
    padding: 0;
}

.wir-menu-container ul li:before {
    content: '' !important;
}

.wir-menu-container ul li a {
    display: inline-block;
    color: #000000;
    text-decoration-line: none;
}

.wir-menu-container ul li a:hover {
    display: inline-block;
    color: #000000;
    text-decoration-line: none;
}

.wir-display-onclick {
    display: block;
}

.wir-hide-onclick {
    display: none;
}

.wir-bg-onclick {
    background-color: #000 !important;
    color: white !important;
}

.wir-menu-container.wir-mobile-menu-next-gen {
    margin: 0 auto;
    max-width: 1024px;
}

.wir-menu-container.wir-mobile-menu-next-gen ul {
    margin: 0;
    padding: 0;
}

.wir-menu-container.wir-mobile-menu-next-gen ul li {
    text-align: center;
}

.wir-menu-container.wir-mobile-menu-next-gen ul li {
    padding: 10px 0;
}

.wir-menu-container.wir-mobile-menu-next-gen ul li:first-child {
    padding: 15px 0 10px;
}

.wir-menu-container.wir-mobile-menu-next-gen ul li:last-child {
    padding: 10px 0 30px;
}

.wir-menu-container.wir-mobile-menu-next-gen ul li a {
    display: block;
    color: #fff;
    text-decoration-line: none;
}

.wir-menu-container.wir-mobile-menu-next-genul li a:hover {
    text-decoration-line: none;
}

#wir-banner {
    max-width: 1024px;
    min-height: 110px;
    background-color: #f5bf23;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
}

#wir-banner .wir-header-heading,
#wir-banner .wir-header-subheading {
    text-transform: uppercase;
    font-family: LabGrotesque-Bold;
    line-height: 1;
text-align: center;
}

#wir-banner .wir-header-heading {
    font-size: 30px;
    padding: 22px 0 5px;
}

#wir-banner .wir-header-subheading {
    font-size: 18px;
}
.nextgen-cancel-text-1 p{
    display: inline;
}

@media (min-width: 768px) {
    #toplogo {
        padding: 0 53px;
    }

    .sectionbox {
        padding-right: 0;
        padding-left: 0;
    }

    .wir-menu-container ul li {
        padding: 0 15px;
        display: inline-block;
    }

    #wir-banner .wir-header-heading {
        font-size: 36px;
        padding: 12px 0 5px;
    }

    #wir-banner .wir-header-subheading {
        font-size: 22px;
    }

    .wir-menu-container ul li a:hover {
        text-decoration: underline;
    }

    .wir-mobile-menu1-next-gen {
        display: none;
    }

    .wir-DT-menu-next-gen {
        display: block;
    }
    .nextgen-cancel-text-1 p{
        display: block;
    }
}

@media (min-width: 992px) {
    #toplogo {
        padding: 0 83px;
    }
}

@media (min-width: 1023px) {
    #toplogo {
        padding: 0 103px;
    }
}

/* Progress Bar */
#order-progress-bar {
    min-height: 70px;
    width: 100%;
    background-color: #f2f2f2;
    display: flex;
    justify-content: center;
    align-items: center;
}

.nextgen-progress-bar {
    max-width: 510px;
    width: 100%;
    padding: 0 15px;
    box-sizing: border-box;
}

.nextgen-progress-bar ol {
    display: flex;
    list-style-type: decimal;
    justify-content: space-between;
    width: 100%;
    padding-inline-start: 25px;
    margin: 0 auto 5px;
    color: #066ca1;
    font: 400 11px/14px "WiredMono-Regular";
    box-sizing: border-box;
}
.nextgen-progress-bar ol li{
    text-indent: -7px;
}

.nextgen-progress-bar a {
    color: #066ca1;
    text-decoration: none;
    text-transform: uppercase;
}

.nextgen-progress-bar a:hover {
    color: #066ca1;
    text-decoration: underline;
}

.nextgen-progress-container {
    width: 100%;
    height: 10px;
    border-radius: 4.5px;
    background-color: #d8d8d8;
    position: relative;
}

.nextgen-progress {
    width: 50%;
    position: absolute;
    top: 0;
    left: 0;
    height: 10px;
    border-radius: 5px;
    background-color: #057dbc;
}

/* New Styles */
.sectionbox-full {
    max-width: 1024px;
    padding: 20px 15px 0;
}

.nextgen-gift-icon {
    width: 18px;
    height: 18px;
    margin-left: 10px;
    background-image: url("https://subscribe.wired.com/circulation/wired/images/gift-icon-nextgen.png");
    background-repeat: no-repeat;
    background-size: contain;
}

#isgiftholder:hover .nextgen-gift-icon {
    background-image: url("https://subscribe.wired.com/circulation/wired/images/gift-icon-nextgen-hover.png");
}

#isgiftholder.isgiftholder-selected .nextgen-gift-icon {
    background-image: url("https://subscribe.wired.com/circulation/wired/images/gift-icon-nextgen-hover.png");
}

.giftcheckon {
    display: flex;
    justify-content: center;
    align-items: center;
}

.nextgen-greyborder {
    height: 1px;
    width: 100%;
    background-color: #e5e5e5;
}

#nextgen-offer-container {
    width: 100%;
    display: flex;
    box-sizing: border-box;
    justify-content: start;
    flex-direction: column;
    align-items: center;
}

#wherego {
    min-height: 144px;
}

#nextgen-country-selector {
    display: flex;
    width: 100%;
    font: 500 16px/1 LabGrotesque-Medium;
    box-sizing: border-box;
    align-items: center;
    justify-content: space-around;
    padding: 0 15px;
}

.nextgen-country-buttons {
    display: flex;
    border-radius: 8px;
    border: solid 1px #979797;
    color: #666660;
    height: 45px;
    max-width: 230px;
    width: 100%;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    cursor: pointer;
}

.nextgen-country-buttons:hover {
    border: solid 1px #057dbc;
    color: #057dbc;
}

.nextgen-country-selected {
    color: #066ca1;
    background-color: rgba(5, 125, 188, 0.15);
    box-shadow: inset 1px 3px 4px 0 rgba(0, 0, 0, 0.3), inset 3px 1px 4px 0 rgba(0, 0, 0, 0.3);
    border: solid 1px #057dbc;
    height: 55px;
}

#nextgen-domestic {
    margin-right: 7.5px;
}

#nextgen-international {
    margin-left: 7.5px;
}

#nextgen-international-selector {
    box-sizing: border-box;
    padding: 0 15px;
}

.gift-on {
    display: none;
}

.nextgen-gift-icon-hover {
    display: none;
}
.ng_arcopy {
 font: 400 14px/1.14 LabGrotesque-italic;
 text-align: center;
 max-width: 260px;
 margin: 15px auto 0px;
}
.panel-popular {
    font-family: LabGrotesque-Regular;
    letter-spacing: normal;
    text-align: center;
    color: #ffffff;
    font-size: 12px;
    width: 100%;
    height: auto;
    justify-content: center;
    align-items: center;
}
.panel-popular.panel-default {
    height: 36px;
}

.panel.offer.on .panel-popular.panel-default {
    background-color: #057dbc;
    display: flex;
}

.panel.offer.off .panel-popular {
    display: none;
    background-color: #fff;
}

.panel-inner {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    padding: 15px 15px 0;
    flex-direction: column;
}

.panel-selector-container {
    min-height: 85px;
    display: flex;
    width: 100%;
    justify-content: center;
    align-items: center;
}

.panel-selector {
    font-family: LabGrotesque-Medium;
    display: flex;
    box-sizing: border-box;
    max-width: 286px;
    width: 100%;
    height: 45px;
    border-radius: 8px;
    border: solid 1px #979797;
    justify-content: center;
    align-items: center;
    color: #666660;
}

.list-tick-icon {
    width: 10px;
    margin: 3px 6px 1px 0;
}

.panel-image {
    text-align: center;
    margin-top: 10px;
    margin-bottom: 5px;
    height: 105px;
    width: 165px;
}
.panel-image .panel-shot, .panel-image .panel-shot-selected {
    width: 100%;
    height: auto;
    z-index: 10;
    margin-left: 35px;

}

.update-cover{
     max-width: 65px;
}
.auto-cover{
    float: left;
    z-index: 5;
    height: 0px;
}

.panel.offer .panel-shot,
.panel.offer .panel-image,
.panel.offer .panel-arrow-up,
.panel.offer .panel-arrow-down {
    display: none;
}

.panel.offer.on .panel-image,
.panel.offer.on .panel-arrow-up {
    display: block;
}

.panel.offer.off .panel-arrow-down {
    display: block;
}

.panel-image-spacer {
    height: 15px;
    display: block;
}

.panel.offer.off,
.panel.offer.on {
    margin-top: 11px;
}

.panel.offer:hover {
    cursor: default;
}

.panel.offer:hover .panel-selector {
    border: solid 1px #057dbc;
    color: #057dbc;
}

.panel.offer.on .panel-selector {
    font-family: LabGrotesque-Bold;
    color: #066ca1;
    border: solid 1px #057dbc;
    background-color: rgba(5, 125, 188, 0.15);
    box-shadow: inset 1px 3px 4px 0 rgba(0, 0, 0, 0.3), inset 3px 1px 4px 0 rgba(0, 0, 0, 0.3);
    border: solid 1px #057dbc;
    height: 55px;
}

.panel-sales-tax, .ng-dt-int-order, .ng-dt-int-order1{
    font-family: LabGrotesque-Regular;
    color: #000;
    font-size: 12px;
    text-align: center;
}
.ng-dt-int-order, .ng-dt-int-order1 {display: none;}

#ppcheckoutexpbutton {
    padding: 0 15px;
    margin-left: auto;
    margin-right: auto;
    max-width: 310px;
    width: 100%;
    box-sizing: border-box;
    position: relative;
}

#ppcheckoutexpbutton img {
    max-width: 280px;
    width: 100% !important;
    display: block;
    margin-left: auto;
    margin-right: auto;
    cursor: pointer;
}

#paypaldecription {
    position: absolute;
    bottom: 10px;
    left: 48px;
    font-size: 14px;
    font-family: FabrigaMedium;
}

.autoRenew {
    font-family: LabGrotesque-Regular;
    font-size: 14px;
    line-height: 1.29;
    color: #000000;
    margin-bottom: 20px;
}

.autoRenewText h3 {
    font-family: LabGrotesque-bold;
    color: #000000;
    margin-top: 0;
    margin-bottom: 0;
    font-size: 14px;
    line-height: 1.29;
}

.nextgen-payment-container {
    max-width: 510px;
    width: 100%;
    margin: 0 auto;
    padding: 20px 15px 0;
    box-sizing: border-box;
}

.nextgen-payment-tab {
    display: none;
    box-sizing: border-box;
}

.nextgen-payment-tab.nextgen-payment-selected {
    display: block;
}

.nextgen-payment-links {
    display: flex;
    justify-content: start;
    align-items: center;
    min-height: 80px;
    box-sizing: border-box;
}
.nextgen-payment-links div:first-child {
    margin-left: 0;
}
.nextgen-payment-links div:last-child {
    margin-right: 0;
}
.nextgen-payment-buttons {
    min-height: 35px;
    display: flex;
    align-items: center;
    border-radius: 10px;
    border: solid 1px #979797;
    box-sizing: border-box;
    justify-content: center;
    margin: 0 2px;
    font: 500 12px/1 LabGrotesque-Medium;
    color: #666660;
    cursor: pointer;
    padding: 0 4px;
    white-space: nowrap;
    flex: 1;
}

.nextgen-payment-buttons:hover {
    border: solid 1px #057dbc;
    color: #057dbc;
}

.nextgen-payment-buttons.nextgen-payment-buttons-selected {
    min-height: 45px;
    font: 12px/1 LabGrotesque-Bold;
    border-radius: 8px;
    box-shadow: inset 1px 3px 4px 0 rgba(0, 0, 0, 0.3), inset 3px 1px 4px 0 rgba(0, 0, 0, 0.3);
    border: solid 1px #057dbc;
    background-color: rgba(5, 125, 188, 0.15);
    color: #066ca1;
}
.nextgen-cancel-text, .nextgen-cancel-text-1{
    margin-top: 15px;
}
.nextgen-cancel-text p, .nextgen-cancel-text-1 p{
    font: 400 14px/1.29 'LabGrotesque-Medium';
    text-align: center;
    text-transform: none;
}
.ccinfo{
    font: 400 12px/1.17 'LabGrotesque-Regular';
    color: #666660;
    margin-top: 8px;
}
#yourinformationtext, #giftaddressheadImpulse {
margin-bottom: 15px;
}
#yourinformationtext h2, #giftaddressheadImpulse h2, #nextgen-gift-recipient h2 {
font: 400 16px/1 'LabGrotesque-Medium';
color: #000;
text-align: left;
}
#nextgen-gift-border{
    margin-bottom: 10px;
}
#nextgen-gift-impulse-check{
    width: 13px;
    height: 12px;
    padding-top: 4px;
}
#nextgen-step-4{
    box-sizing: border-box;
    margin: 0px auto 10px;
    padding-top: 20px;
}

#giftaddresstext{
    margin-bottom: 20px;
    padding-top: 20px;
}
#nextgen-gift-recipient {
    margin-bottom: 15px;
}
.ng-mobile-hide{
    display: none;
}
.nextgen-pp-gift-payment{
    max-width: 510px;
    width: calc(100% - 30px);
    background-color: #f2f2f2;
    padding: 10px;
    margin: 0 auto 20px;
    display: none;
}
.nextgen-pp-gift-payment p{
    font: 400 14px/1.4 'LabGrotesque-Medium';
    text-align: center;
}
.ng-canada-on{
    display: none;
}
.domestic-off{
    display: none;
}
.us-version strong {
    font-family: LabGrotesque-Bold;
}
.impulseOn {display:block;}
.impulseOff {display:none;}
#ship-country-selector {display:block; width:100%;}
.ng-change-ship-country{
    position: absolute;
    right: 15px;
    top: 50%;
    color: #066ca1;
    font: 400 16px/1.4 'LabGrotesque-Regular';
    cursor: pointer;
}
#shipcountrycontainer {
    display: none;
    position:relative;
}
#impulsefirstlast .flex {
    display: block;
}
.nextgen-progress-bar .ng-disabled{
    color: #666660;
    text-decoration: none;
    pointer-events: none;
}
.nextgen-progress-bar .ng-disabled a{
    color: #666660;
    text-decoration: none;
    pointer-events: none;
}
.ng-hide-on-mobile{
    display: none;
}
.ng-paypal-as-payment{
    display: none;
    font-family: LabGrotesque-Regular;
    font-size: 12px;
    line-height: 1.58;
    max-width: 510px;
    padding: 0 15px;
    margin: 0 auto;
    text-align: center;
}
#offer2 .panel-inner ul li:nth-child(n+3), #offer3 .panel-inner ul li:nth-child(n+3), #offer4 .panel-inner ul li:nth-child(n+3) {
    display: none;
}
#impulseaddress .flex>div {
    margin-bottom: 0px!important;
}
#ouibounce-modal {
    z-index: 65!important;
}

input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button { 
    -webkit-appearance: none;
    appearance: none;
    margin: 0; 
}
input[type=number] {
    -moz-appearance:textfield; /* Firefox */
}
.panel-arrow-down, .panel-arrow-up {
    padding: 10px;
}
@media (min-width: 375px) {
    .nextgen-payment-buttons {
        margin: 0 5px;
        padding: 0 10px;
    }
}
@media (min-width: 510px) {
    .nextgen-payment-buttons {
        width: 100%;
        margin: 0 10px;
        padding: 0 12px;
    }
}
@media (min-width: 768px) {
    .ng-mobile-hide{
        display: block;
    }
    #nextgen-order-form-width {
		box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.3);
	}
    .ng-dt-int-order, .ng-dt-int-order1 {display: block;}
    .ng-dt-int-order span, .ng-dt-int-order1 span {
        display: none;
    }
    
    .nextgen-progress {
        width: 50%;
    }
    

    #nextgen-country-selector {
        padding: 0;
    }
    .ng-hide-on-mobile{
        display: block;
    }
    .ng-hide-on-dt{
        display: none;
    }
    .nextgen-progress-bar ol {
        font-size: 12px;
    }
    #nextgen-offer-container {
        flex-direction: row;
        align-items: center;
        justify-content: center;
        padding: 0;
    }

    #nextgen-international-selector {
        padding: 0;
    }
    .nextgen-payment-buttons {
        margin: 0 10px;
    }
    .nextgen-greyborder {
        width: calc(100% - 40px);
        margin: 0 auto;
    }

    .panel {
        margin: 5px;
        max-width: 315px;
    }
    .panel-popular {
        height: 36px;
    }
    #offer2 {
        margin-left: 0;
    }

    .panel:last-child {
        margin-right: 0;
    }

    .panel.offer .panel-arrow-up,
    .panel.offer .panel-arrow-down {
        display: none;
    }

    .panel.offer.off .panel-image {
        display: block;
    }

    [data-nextgenorder="stackorder"] {
        order: -1;
    }
    .panel-image {
        margin-top: 5px;
        margin-bottom: 15px;
    }
    .panel.offer .panel-shot {
        display: block;
    }

    .panel-shot-selected {
        display: none;
    }

    .panel.offer.on .panel-shot-selected {
        display: block;
    }

    .panel.offer.on .panel-shot {
        display: none;
    }

    .panel-image-spacer {
        display: none;
        height: 25px;
    }
    .panel-arrow-down, .panel-arrow-up {
        padding: 0px;
    }
    .panel.offer.off .panel-arrow-down,
    .panel.offer.on .panel-arrow-up {
        display: none;
    }

    .panel.offer.on .panel-image-spacer {
        display: block;
    }

    .panel.offer.on {
        margin-top: 0;
    }

    .panel-sales-tax {
        display: none;
    }

    #shippingaddress .addressbox .flex > div:first-child {
        flex: 1 0 40%;
        margin-right: 15px;
        margin-bottom: 15px;
    }
    #shippingaddress .addressbox .flex>input {
        margin-bottom: 5px;
    }
    #shippingaddress .addressbox .flex>div {
        flex: 0 1 20%;
        margin-bottom: 15px;
    }   
    #shippingaddress .addressbox .flex {
        margin-bottom: 0;
    }   
    #impulsefirstlast .flex {
        display: flex;
        flex: 1;
    }
    .impulse-field-fn{
        margin-right: 7.5px;
        width: 50%;
    }
    #impulsefirstlast .impulse-field-top {
        margin-top: 0px;
        margin-bottom: 0px;
        margin-left: 7.5px;
        width: 50%;
    }
    #isImpulseholder{
        margin: auto;
    }
    #isImpulseholder.isImpulseholder-active {
        margin: auto;
    }
    #shippingaddressimpulse{
        margin-bottom: 10px;
    }
    #placeorder .button, #amazon_submit #amazon_submit_mob {
        max-width: 360px;
    }
    #placeorder .button:hover, #amazon_submit #amazon_submit_mob:hover {
        max-width: 364px;
    }
    .ng-flex-last{
        margin-left: 7.5px;
    box-sizing: border-box;
    width: 50%;
    }
  #offer2 .panel-inner ul li:nth-child(n+3), #offer3 .panel-inner ul li:nth-child(n+3), #offer4 .panel-inner ul li:nth-child(n+3) {
        display: flex;
    }
    .panel.offer:hover {
        border: solid 1px #057dbc;
        cursor: pointer;
    }
    .body01 {
        margin-bottom: 15px;
    }
}

@media (min-width: 992px) {
    .panel {
        margin: 10px;
    }

}

</style>


<!---- Scroll top Testing CSS Starts-->
<!---- REMOVED SCROLL TOP CSS ON 06/10/19 - 9:18AM -->
	<style>
		#nextgen-order-form-width {
		max-width: 1024px;
		padding: 0;
		margin: 0 auto;
		width: 100%;
		background-color: #fff;
        }
		#orderobject-response {
			font-size: 13px;
			font-family: LabGrotesque-Regular;
			padding: 10px 10px 0;
			text-align: center;
			max-width: 620px;
			margin: auto;
			color: #dc161c;
			line-height: 1.5;
		 display:none;
        
	}

	</style>

<!-- placeholder and error message CSS Starts--> 
<style>

.error-flex{ margin-top: -25px;}
#bill-state-domestic.errorinput {
   background-color: rgba(216, 16, 30, 0.03) !important;
   border: solid 2px #dc161c !important;
}
input::placeholder {
 color:#ccc!important;
 opacity:1;
}
.errorcontainer{background: none !important; padding-top:10px !important; font-size:13px !important; padding-left: 0px !important; padding-right:0px !important; margin-bottom: 0px;padding-bottom: 0px;}

.ui.selection.dropdown{white-space:pre !important;}
#desk-ship-state-inter-error,#desk-ship-state-canada-error,#desk-ship-state-domestic-error,#desk-ship-city-error,#desk-bill-zip-error,#desk-bill-state-inter-error,#desk-bill-state-canada-error,#desk-bill-state-domestic-error,#desk-bill-city-error{display:block!important}
#mobile-ship-city-state-zip-error,#mobile-bill-city-state-zip-error{display:none;}
@media only screen and (max-width: 600px) {
#desk-ship-state-inter-error,#desk-ship-state-canada-error,#desk-ship-state-domestic-error,#desk-ship-city-error,#desk-bill-zip-error,#desk-bill-state-inter-error,#desk-bill-state-canada-error,#desk-bill-state-domestic-error,#desk-bill-city-error{display:none !important}
#mobile-ship-city-state-zip-error,#mobile-bill-city-state-zip-error{display:block !important}

}
@media only screen and (max-width: 415px){

#paymentdetails .flex > div:nth-child(3) {
    margin-right: 15px !important;}

#billingaddress .addressbox .error-flex{display: flex;
 flex-direction: column !important;     
 margin-top: 4px !important;
}
#billingaddress .addressbox .flex > div:first-child {
  flex: 0 1 32% !important;
  margin-right: 15px !important;
min-width: 80px !important;
}
#billingaddress .addressbox .flex > div:nth-child(2){flex: 0 1 31% !important; min-width:0px !important;}

#billingaddress .addressbox .flex > div {
   flex: 0 1 25%;
   margin-bottom: 15px;
}
#billingaddress .addressbox > div:last-child {
 flex: 1 0 30% !important;
  margin-right: 0px !important;
min-width: 80px !important;
}
#shippingaddress .addressbox .error-flex{display: flex;
  flex-direction: column !important;     margin-top: -20px !important;
 }

#shippingaddress .addressbox .flex > div:nth-child(2){flex: 0 1 32% !important; min-width:0px !important; }
#shippingaddress .addressbox .flex > div {
    flex: 0 1 28%;
}
#shippingaddress .addressbox > div:last-child {
  flex: 1 0 30% !important;
   margin-right: 9px !important;
min-width: 80px !important;
}
}
@media only screen and (max-width: 768px){
#shippingaddress .addressbox .error-flex{display: flex;
  flex-direction: column !important; margin-top: -12px !important;
 }

#shippingaddress .addressbox .flex > div:first-child {
   flex: 0 1 40% !important;
   margin-right: 15px !important;
min-width: 80px !important;
}
#shippingaddress .addressbox .error-flex > div:nth-child(2){flex: 0 1 32% !important; min-width:120px !important; }
#shippingaddress .addressbox .flex > div {
    flex: 0 1 28%;
}
#shippingaddress .addressbox > div:last-child {
  flex: 1 0 30% !important;
min-width: 80px !important;
}
#billingaddress .addressbox .flex > div:first-child {
  flex: 0 1 40% !important;
  margin-right: 15px !important;
min-width: 80px !important;
}
#billingaddress .addressbox .error-flex> div:nth-child(2){flex: 0 1 31% !important; min-width:113px !important;}

#billingaddress .addressbox .flex > div {
   flex: 0 1 27%;
   margin-bottom: 15px;
}
#billingaddress .addressbox > div:last-child {
 flex: 1 0 30% !important;
  margin-right: 0 !important;
min-width: 80px !important;
}
}
</style>
<!---- placeholder and error message CSS Ends-->
	<style>
		.sumbrand {font-style:italic; padding-right:3px;}
		
			#header {text-align:center; max-width:1450px; padding:0px;}
			@media screen and (max-width: 767px){
				#header {max-width:414px;}
			}
		
		.errorcontainer {display:none;}
		@media only screen and (max-width: 767px)  {
			#pleasedesktop {display:none;}
		}
		
		 
			@media only screen and (min-width: 767px) {
				.amazonappleno {display:block;}
			}
		
		#monthlabel .menu.transition.visible {height:160px;}
		#yearlabel .menu.transition.visible {height:160px;}
		.ui.search.selection.dropdown {border: rgb(169, 169, 169) .5px solid;}
		.ui.search.dropdown > input.search.errorinput {background-color: rgba(216, 16, 30, 0.03) !important; border: solid 2px #dc161c !important;}

		
		
		
</style>

</head>
<body>
	<div id="nextgen-order-form-width">
	








































<!-- Google Tag Manager (noscript) - Install in Body -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5HBJC2K"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) - Install in Body -->

	<form id="submission-form" action="/subscribe/processSubscription" method="post" target="result">
		<input type="hidden" name="offer_id" value="125739"> <input type="hidden" name="host_offer_id" value="125739">
		<input type="hidden" name="source_code" value="">
		<input type="hidden" name="parent_trans_id" value="">
		<input type="hidden" name="trans_id" value="">
		<input type="hidden" name="trans_key" value="">
		<input type="hidden" name="pos_name" value="">
		<input type="hidden" name="segment_name" value=""> 
			<input type="hidden" name="ignore_dav" value="1"> 
                 <input type="hidden" id="chosen-offer" name="chosen_offer" value="">
		<input type="hidden" id="submission-form-source" name="referral_source" value="" data-source=""> <input type="hidden" name="pt_id" value=""> <input type="hidden" name="offer_term" id="offerterm" value=""> <input type="hidden" name="ship_cost" id="ship-cost" value=""> <input type="hidden" name="origin_price" id="originprice" value=""> <input type="hidden" name="cross_disp" id="crossdisp" data-ordertype="self" data-location="domestic" data-default="self-domestic gift-domestic" value=""/>
		
		
   <div id="header-background">
        <div role="banner" id="toplogo">
                <div class="wir-logo-container">
                    <a class="wir-logo-a"
                        href="https://www.wired.com/" 
                        border="0"><img id="toplogoimg" class="toplogoimgmb" src="https://subscribe.wired.com/circulation/wired/images/wired-logo-black_nextgen.png" alt="Wired">
                        <img id="toplogoimg" class=" toplogoimgdt" src="https://subscribe.wired.com/circulation/wired/images/wired-logo-white-nextgen.png" alt="Wired">
                    </a>
                </div>
                <div class="wir-menu-container">
                        <ul class="wir-mobile-menu1-next-gen">
                                <li><span id="wir-menu-holder">More Options</span><span> <img class="toplogoimgmb" src="https://subscribe.wired.com/circulation/wired/images/ng-nav-black-arrow-new.png" alt="Down Arrow" width="14px"><img class=" toplogoimgdta" src="https://subscribe.wired.com/circulation/wired/images/ng-nav-up-arrow-white-new.png" alt="Up arrow"  width="14px"></span></li>
                            </ul>
                    <ul class="wir-DT-menu-next-gen">
                      
                            <li><a href="https://subscribe.wired.com/subscribe/wired/125540?source=HCL_WIR_TEXT_LINK_0_GIFT_NEXT_GEN_ZZ">Gift</a></li>
<li><a href="https://subscribe.wired.com/subscribe/wired/125571?source=HCL_WIR_TEXT_LINK_0_STUD_ED_NEXT_GEN_ZZ">Student and Educator</a></li>
<li><a href="https://w1.buysub.com/pubs/N3/WIR/Register.jsp?cds_page_id=175371&cds_mag_code=WIR">Help</a></li>
                        
                    </ul>
                </div>
            </div>
            <div class="wir-menu-container wir-mobile-menu-next-gen">
                    <ul>
                        
                            <li><a href="https://subscribe.wired.com/subscribe/wired/125540?source=HCL_WIR_TEXT_LINK_0_GIFT_NEXT_GEN_ZZ">Gift</a></li>
<li><a href="https://subscribe.wired.com/subscribe/wired/125571?source=HCL_WIR_TEXT_LINK_0_STUD_ED_NEXT_GEN_ZZ">Student and Educator</a></li>
<li><a href="https://w1.buysub.com/pubs/N3/WIR/Register.jsp?cds_page_id=175371&cds_mag_code=WIR">Help</a></li>
                        
                    </ul>
            </div>
                
                        <style>
@font-face {
    font-family: 'LabGrotesque-Bold';
    src: url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Bold.eot');
    src: url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Bold.eot?#iefix') format('embedded-opentype'),
        url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Bold.woff2') format('woff2'),
        url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Bold.woff') format('woff'),
        url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Bold.ttf') format('truetype'),
        url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Bold.svg#LabGrotesque-Bold') format('svg');
    font-weight: bold;
    font-style: normal;
}

@font-face {
    font-family: 'LabGrotesque-Black';
    src: url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Black.eot');
    src: url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Black.eot?#iefix') format('embedded-opentype'),
        url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Black.woff2') format('woff2'),
        url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Black.woff') format('woff'),
        url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Black.ttf') format('truetype'),
        url('https://subscribe.wired.com/circulation/wired/misc/LabGrotesque-Black.svg#LabGrotesque-Black') format('svg');
    font-weight: 900;
    font-style: normal;
}

@font-face {
    font-family: 'Wired Mono';
    src: url('https://subscribe.wired.com/circulation/wired/misc/WiredMono-Bold.eot');
    src: url('https://subscribe.wired.com/circulation/wired/misc/WiredMono-Bold.eot?#iefix') format('embedded-opentype'),
        url('https://subscribe.wired.com/circulation/wired/misc/WiredMono-Bold.woff2') format('woff2'),
        url('https://subscribe.wired.com/circulation/wired/misc/WiredMono-Bold.woff') format('woff'),
        url('https://subscribe.wired.com/circulation/wired/misc/WiredMono-Bold.ttf') format('truetype'),
        url('https://subscribe.wired.com/circulation/wired/misc/WiredMono-Bold.svg#WiredMono-Bold') format('svg');
    font-weight: bold;
    font-style: normal;
}
h1.op-header__heading {
    font-family: 'Wired Mono';
    font-size: 18px;
    font-weight: bold;
    font-style: normal;
    color: #fff;
    text-rendering: optimizeLegibility;
    margin: 0 auto;
        margin-bottom: 0px;
    margin-bottom: 0;
    text-align: center;
    letter-spacing: 2px;
    line-height: 47px;
    padding-top: 10px;
    text-transform: uppercase;
}
h2.op-header__sub-heading {
    font-family: 'LabGrotesque-Bold';
    font-size: 40px;
    font-weight: 400;
    font-style: normal;
    color: #000;
    text-rendering: optimizeLegibility;
    margin-top: 0;
    margin-bottom: 5px;
    line-height: 55px;
    text-align: center;
    margin: 0 auto;
}
p.op-header__sub-heading2 {
    font-family: 'LabGrotesque-Bold';
    font-size: 22px;
    font-weight: bold;
    font-style: normal;
    color: #000;
    text-rendering: optimizeLegibility;
    margin: 0 auto;
    padding: 0;
    line-height: 35px;
    text-align: center;
}
.getwired-background {
    background: #0075CB;
    padding: 2px 25px 4px;
}
#wir-banner-ada {
    max-width: 1024px;
    min-height: 170px;
    background-color: #00C3A6;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-left: 10%;
}
#wir-banner-ada .wir-header-heading-ada,
#wir-banner-ada .wir-header-subheading-ada {
    text-transform: uppercase;
    font-family: LabGrotesque-Bold;
    line-height: 1;
text-align: center;
}

#wir-banner-ada .wir-header-heading-ada {
    font-size: 30px;
    padding: 22px 0 5px;
    margin-bottom: 15px;
}

#wir-banner-ada .wir-header-subheading-ada {
    font-size: 18px;
}

@media (min-width: 768px) {
    #wir-banner-ada .wir-header-heading-ada {
        font-size: 36px;
        padding: 12px 0 5px;
    }

    #wir-banner-ada .wir-header-subheading-ada {
        font-size: 22px;
    }
}

#header-background{
background-image: url('https://subscribe.wired.com/circulation/wired/images/WI040120_RE_RenewableEnergy.png');
background-repeat: no-repeat;
background-size: cover;
background-position-y: 30%;
overflow: hidden !important;
 }
#toplogo{background-color: transparent}
#wir-banner-ada{background-color: transparent !important;}
@media screen and (max-width: 920px) {
#wir-banner-ada {
    padding-left: 20%;
}
}
@media screen and (max-width: 820px) {
#wir-banner-ada {
    padding-left: 30%;
}
}
@media screen and (max-width: 768px) {
#header-background{
    background-position-x: center;
}
#wir-banner-ada {
    padding-left: 20%;
}
.getwired-background {
    background: #0075CB;
    padding: 2px 15px 4px;
}
}
@media screen and (max-width: 540px) {
#header-background{
    background-position-x: center;
}
h1.op-header__heading{
    font-size: 16px;
}
h2.op-header__sub-heading {
    font-size: 32px;
    line-height: 1.5;
}
p.op-header__sub-heading2 {
    font-size: 18px;
}
}
@media screen and (max-width: 490px) {
#header-background {
    background-position-x: 35%;
}
#wir-banner-ada {
    padding-left: 47%;
}
h1.op-header__heading {
    font-size: 11px;
}
h2.op-header__sub-heading {
    font-size: 22px;
    line-height: 1.5;
    margin-bottom: 0;
    padding-bottom: 0;
}
p.op-header__sub-heading2 {
    font-size: 14px;
}
}
</style>
<div id="wir-banner-ada">
  <h1 class="op-header__heading" >
            <span class="getwired-background">SPRING SALE</span>
          </h1>
          <h2 class="op-header__sub-heading">
Exclusive Offer
          </h2>
          <p class="op-header__sub-heading2">
            Get 1 year for just <span style='color:#ffffff;text-decoration:line-through'><span style='color:#000000'>$10</span></span> $5
          </p>
</div>

                    
       </div>

		<div id="page-holder" role="main" aria-hidden="false">
			<div id="pagesection">
				<div id="order-progress-bar">
				    <div class="nextgen-progress-bar">
				        <ol>
				            <li><a href="#nextgen-step-1">Location</a></li>
				            <li><a href="#chooseoffer">Plan</a></li>
				            <li><a href="#nextgen-step-3">Payment</a></li>
				            <li class="ng-disabled"><a href="#nextgen-step-4">Address</a></li>
				            <li class="ng-disabled"><a href="#ordersummary">Submit</a></li>
				        </ol>
				        <div class="nextgen-progress-container">
				            <div class="nextgen-progress"></div>
				        </div>
				    </div>
                </div>
							<div class="giftcheckon" id="nextgen-step-1">
								<div id="isgiftholder-container">
									<style>
										.prechecked{background-color:#fff; text-align: center; font-size: 16px;}
                                    </style>
                                    <div id="isgiftholder">
									<div id="isGiftCheck" aria-labelledby="isGiftCheckText"data-isGift="false" role="button" tabindex="0"><img id="nextgen-gift-check" src="https://subscribe.wired.com/circulation/wired/images/ng-radio-check-new.png" alt=""></div>
									<div id="isGiftCheckText" >This is a gift</div> <div class="nextgen-gift-icon"></div>
									<div id="isGiftCheckinfocopy" class="gift-on">
										
                                    </div>
                                    </div>
								</div>
							</div>
						<div class="nextgen-greyborder usonlyhide"></div>
					<div id="wherego" class="sectionbox">
						<div id="wheregoing" class="sectionheadfont" tabindex="-1"><h2>Step 1. Location</h2></div>
						<div class="space15"></div>
						<div id="wheregoselect">
							<script>
								jQuery.fn.filterByText = function(textbox) {
									return this.each(function() {
										var select = this;
										var options = [];
										$(select).find('option').each(function() {
											options.push( {
												value: $(this).val(), text: $(this).text()
											});
										});
										$(select).data('options', options);
										$(textbox).bind('change keyup', function(e) {
											if (e.keyCode == '40') {
												$("#ship-country-selector").focus();
											}
											$(select).css("display", "inherit");
											var options = $(select).empty().data('options');
											var search = $.trim($(this).val());
											var regex = new RegExp(search, "gi");
											$.each(options, function(i) {
												var option = options[i];
												if (option.text.toUpperCase().startsWith(search.toUpperCase()) == true) {
													$(select).append($('<option>').text(option.text).val(option.value));
												}
											});
											$(select).attr("size", $(select).find('option').length);
											if ($(select).find('option').length > 5) {
												var size = (5 * 37) + 'px';
												$(select).css("height", size);
											} else {
												var size = ($(select).find('option').length * 37) + 'px';
												$(select).css("height", size);
												$(select).css("padding", "0px");
											}
											if ($(select).find('option').length == 1) {
												$(select).attr("size", 2);
											}
											if ($(select).find('option').length == 0) {
												// $("#ship-country-selector").hide();
											}
											if (e.keyCode != '32' && e.keyCode != '8' && e.keyCode != '13' && e.keyCode != '9' ) {
												if ($(select).find('option').length == 1) {
													$(select).attr("size", 2);
													$("#ship-country-selector-input").val($("#ship-country-selector > option:first").text());
												}
												if ($("#ship-country-selector").val() == '' || $("#ship-country-selector").val() == null ) {
													$("#ship-country-selector-error").addClass("error");
													$("#ship-country-selector-input").addClass("errorinput");
													$("#ship-country-selector-input").focus();
												} else {
													$("#ship-country-selector-error").removeClass("error");
													$("#ship-country-selector-input").removeClass("errorinput");
												}
											}
										});
									});
								};
							</script>
			 
							<style>
								#nextgen-international-selector {display:none; width:100%;}
							</style>
                            <input id="ship-country-selector-input" type="hidden" value="United States" autocomplete="off" aria-hidden="true" hidden>
                            <div id="nextgen-country-selector">
                                    <div id="nextgen-domestic" class="nextgen-country-buttons nextgen-country-selected">U.S.</div>
                                    <div id="nextgen-international" class="nextgen-country-buttons">International</div>
                            </div>
                                <div id="nextgen-international-selector">
    							<label for="ship-country-selector">
    								<div id="deliverto" class="subtext">
    									Deliver To
                                    </div>
    
    								<span id="ship-country-selector-error" class="output-message">Select a location.</span>
    							</label>
    							<select id="ship-country-selector" name="country_code" data-location="domestic" data-shipname="ship_country_code"  data-billname="country_code" placeholder="Select Location" class="ui search selection dropdown" autocomplete="new-user-ship-county" >
    								<option value="" style="color: #979797" >Choose Location</option><option value="AF">Afghanistan</option>
    								<option value="AL">Albania</option>
    								<option value="DZ">Algeria</option>
    								<option value="AD">Andorra</option>
    								<option value="AO">Angola</option>
    								<option value="AI">Anguilla</option>
    								<option value="AQ">Antarctica</option>
    								<option value="AG">Antigua and Barbuda</option>
    								<option value="AR">Argentina</option>
    								<option value="AM">Armenia</option>
    								<option value="AW">Aruba</option>
    								<option value="AU">Australia</option>
    								<option value="AT">Austria</option>
    								<option value="AZ">Azerbaijan</option>
    								<option value="BS">Bahamas</option>
    								<option value="BH">Bahrain</option>
    								<option value="BD">Bangladesh</option>
    								<option value="BB">Barbados</option>
    								<option value="BY">Belarus</option>
    								<option value="BE">Belgium</option>
    								<option value="BZ">Belize</option>
    								<option value="BJ">Benin</option>
    								<option value="BM">Bermuda</option>
    								<option value="BT">Bhutan</option>
    								<option value="BO">Bolivia</option>
    								<option value="BA">Bosnia-Herzegovina</option>
    								<option value="BW">Botswana</option>
    								<option value="BR">Brazil</option>
    								<option value="VG">British Virgin Islands</option>
    								<option value="BN">Brunei Darussalam</option>
    								<option value="BG">Bulgaria</option>
    								<option value="BF">Burkina Faso</option>
    								<option value="BI">Burundi</option>
    								<option value="KH">Cambodia</option>
    								<option value="CM">Cameroon</option>
    								<option value="CA">Canada</option>
    								<option value="C3">Canary Islands</option>
    								<option value="CV">Cape Verde</option>
    								<option value="KY">Cayman Islands</option>
    								<option value="CF">Central African Rep</option>
    								<option value="TD">Chad</option>
    								<option value="CL">Chile</option>
    								<option value="CN">China Peoples Republic</option>
    								<option value="CO">Colombia</option>
    								<option value="KM">Comoros</option>
    								<option value="CG">Congo</option>
    								<option value="CD">Congo, The Democratic Republic of the</option>
    								<option value="CK">Cook Islands</option>
    								<option value="CR">Costa Rica</option>
    								<option value="CI">Cote dIvoire</option>
    								<option value="HR">Croatia</option>
    								<option value="CY">Cyprus</option>
    								<option value="CZ">Czech Republic</option>
    								<option value="DK">Denmark</option>
    								<option value="DJ">Djibouti</option>
    								<option value="DM">Dominica</option>
    								<option value="DO">Dominican Republic</option>
    								<option value="EA">Easter Island</option>
    								<option value="EC">Ecuador</option>
    								<option value="EG">Egypt</option>
    								<option value="SV">El Salvador</option>
    								<option value="GQ">Equatorial Guinea</option>
    								<option value="ER">Eritrea</option>
    								<option value="EE">Estonia</option>
    								<option value="ET">Ethiopia</option>
    								<option value="FO">Faeroe Islands</option>
    								<option value="FK">Falkland Islands</option>
    								<option value="FJ">Fiji</option>
    								<option value="FI">Finland</option>
    								<option value="FR">France</option>
    								<option value="PF">French Polynesia</option>
    								<option value="GA">Gabon</option>
    								<option value="GM">Gambia</option>
    								<option value="GE">Georgia</option>
    								<option value="DE">Germany</option>
    								<option value="GI">Gibraltar</option>
    								<option value="GR">Greece</option>
    								<option value="GL">Greenland</option>
    								<option value="GD">Grenada</option>
    								<option value="GT">Guatemala</option>
    								<option value="GN">Guinea</option>
    								<option value="GW">Guinea-Bissau</option>
    								<option value="GY">Guyana</option>
    								<option value="HT">Haiti</option>
    								<option value="HN">Honduras</option>
    								<option value="HK">Hong Kong</option>
    								<option value="HU">Hungary</option>
    								<option value="IS">Iceland</option>
    								<option value="IN">India</option>
    								<option value="IE">Ireland</option>
    								<option value="IM">Isle of Man</option>
    								<option value="IL">Israel</option>
    								<option value="IT">Italy</option>
    								<option value="JM">Jamaica</option>
    								<option value="JP">Japan</option>
    								<option value="JO">Jordan</option>
    								<option value="KZ">Kazakhstan</option>
    								<option value="KE">Kenya</option>
    								<option value="KI">Kiribati</option>
    								<option value="KW">Kuwait</option>
    								<option value="KG">Kyrgyzstan</option>
    								<option value="LA">Laos</option>
    								<option value="LV">Latvia</option>
    								<option value="LB">Lebanon</option>
    								<option value="LS">Lesotho</option>
    								<option value="LR">Liberia</option>
    								<option value="LI">Liechtenstein</option>
    								<option value="LT">Lithuania</option>
    								<option value="LU">Luxembourg</option>
    								<option value="MO">Macao</option>
    								<option value="MK">Macedonia</option>
    								<option value="MG">Madagascar</option>
    								<option value="MW">Malawi</option>
    								<option value="MY">Malaysia</option>
    								<option value="MV">Maldives</option>
    								<option value="ML">Mali</option>
    								<option value="MT">Malta</option>
    								<option value="MH">Marshall Islands</option>
    								<option value="MR">Mauritania</option>
    								<option value="MU">Mauritius</option>
    								<option value="MX">Mexico</option>
    								<option value="FM">Micronesia</option>
    								<option value="MD">Moldova, Republic of</option>
    								<option value="MC">Monaco</option>
    								<option value="MN">Mongolia</option>
    								<option value="MS">Monserrat</option>
    								<option value="ME">Montenegro</option>
    								<option value="MA">Morocco</option>
    								<option value="MZ">Mozambique</option>
    								<option value="MM">Myanmar</option>
    								<option value="NA">Namibia</option>
    								<option value="NR">Nauru</option>
    								<option value="NP">Nepal</option>
    								<option value="NL">Netherlands</option>
    								<option value="AN">Netherlands Antilles</option>
    								<option value="NC">New Caledonia</option>
    								<option value="NZ">New Zealand</option>
    								<option value="NI">Nicaragua</option>
    								<option value="NE">Niger</option>
    								<option value="NF">Norfolk Island</option>
    								<option value="NO">Norway</option>
    								<option value="OM">Oman</option>
    								<option value="PK">Pakistan</option>
    								<option value="PA">Panama</option>
    								<option value="PG">Papua New Guinea</option>
    								<option value="PY">Paraguay</option>
    								<option value="PE">Peru</option>
    								<option value="PH">Philippines</option>
    								<option value="PN">Pitcairn Islands</option>
    								<option value="PL">Poland</option>
    								<option value="PT">Portugal</option>
    								<option value="QA">Qatar</option>
    								<option value="KR">Repl of Korea</option>
    								<option value="RE">Reunion</option>
    								<option value="RO">Romania</option>
    								<option value="RU">Russia</option>
    								<option value="RW">Rwanda</option>
    								<option value="SM">San Marino</option>
    								<option value="ST">Sao Tome and Principe</option>
    								<option value="SA">Saudi Arabia</option>
    								<option value="SN">Senegal</option>
    								<option value="RS">Serbia</option>
    								<option value="SC">Seychelles</option>
    								<option value="SL">Sierra Leone</option>
    								<option value="SG">Singapore</option>
    								<option value="SK">Slovak Republic</option>
    								<option value="SI">Slovenia</option>
    								<option value="SB">Solomon Islands</option>
    								<option value="SO">Somalia</option>
    								<option value="ZA">South Africa</option>
    								<option value="ES">Spain</option>
    								<option value="LK">Sri Lanka</option>
    								<option value="SH">St Helena</option>
    								<option value="KN">St Kitts-Nevis</option>
    								<option value="LC">St Lucia</option>
    								<option value="PM">St Pierre & Miquelon</option>
    								<option value="VC">St Vincent & Grenadines</option>
    								<option value="SR">Suriname</option>
    								<option value="SZ">Swaziland</option>
    								<option value="SE">Sweden</option>
    								<option value="CH">Switzerland</option>
    								<option value="TW">Taiwan</option>
    								<option value="TJ">Tajikistan</option>
    								<option value="TZ">Tanzania</option>
    								<option value="TH">Thailand</option>
    								<option value="TG">Togo</option>
    								<option value="TO">Tonga</option>
    								<option value="TT">Trinidad and Tobago</option>
    								<option value="TN">Tunisia</option>
    								<option value="TR">Turkey</option>
    								<option value="TM">Turkmenistan</option>
    								<option value="TC">Turks-Caicos Islands</option>
    								<option value="TV">Tuvalu</option>
    								<option value="UG">Uganda</option>
    								<option value="UA">Ukraine</option>
    								<option value="AE">United Arab Emirates</option>
    								<option value="GB">United Kingdom</option>
    								<option value="US">United States</option>
    								<option value="UY">Uruguay</option>
    								<option value="UZ">Uzbekistan</option>
    								<option value="VU">Vanuatu</option>
    								<option value="VA">Vatican City</option>
    								<option value="VE">Venezuela</option>
    								<option value="VI">Virgin Islands</option>
    								<option value="WF">Wallis Futuna Islands</option>
    								<option value="EH">Western Sahara</option>
    								<option value="WS">Western Samoa</option>
    								<option value="YE">Yemen</option>
    								<option value="ZM">Zambia</option>
    								<option value="ZW">Zimbabwe</option>
    								
    							</select>
                            </div>
						</div>
					</div>
                    <div class="nextgen-greyborder usonlyhide"></div>
				<div id="chooseoffer" class="sectionbox sectionbox-full">
					<div  id="chooseofferheadtext"><span class="sectionheadfont"><h2>STEP 2. Choose Your Plan</h2></span></div>
                    
                        <div class="space10 ng-hide-on-dt"></div>		
                        <div class="space15 ng-hide-on-mobile"></div>		
                        <div id="nextgen-offer-container">
					<span id="chooseoffermessage" class="output-message" aria-hidden="true" hidden>Select an offer</span>
					<div class="panel offer on" data-format="bundle" data-chosenoffer="1" data-issues="12">
<div class="panel-popular panel-default">MOST POPULAR</div>
<div class="circlecheck on" role="button" aria-pressed="true" tabindex="0"></div>
<div class="panel-inner"> 
<div class="offerheader heading02">Print + Digital Access</div>
<div class="heading03"><span class="gift-on">Give </span>1 year for $5</div>
<div class="panel-sales-tax"><span class="domestic-off"> + $30 international shipping and</span><span class="ng-canada-on"> + $10 Canada shipping and</span><span class="ng-sales-hide"> +</span> sales tax</div>
<div class="ng-dt-int-order"><span>+ international shipping</span></div>
<div class="panel-selector-container"><div class="panel-selector">Selected</div></div>
<div class="space5"></div>
<div style="width:100%">
<ul class="body01 nosudo">
<li><p>Unlimited access to WIRED.com</p></li>
<li><p>Print subscription</p></li>
<li><p>Digital edition of the magazine</p></li>
</ul>
</div>
<div class="panel-arrow-down"><img src="https://subscribe.wired.com/circulation/wired/images/wir-triangle-down-nextgen.png" alt=""></div>

<div class="panel-image">

<div class="auto-cover"><img class="update-cover" src="https://www.wired.com/wp-content/uploads/2014/08/cover_wired_190.jpg" alt="Wired Cover" width="75"></div>

<img class="panel-shot" src="https://subscribe.wired.com/circulation/wired/images/WIR_600X305_DIG-CONTROL.png" alt="Print + Digital Access"><img class="panel-shot-selected" src="https://subscribe.wired.com/circulation/wired/images/WIR_600X305_DIG-CONTROL-Selected.png" alt="Print + Digital Access"></div>
<div class="panel-arrow-up"><img src="https://subscribe.wired.com/circulation/wired/images/wir-triangle-up-nextgen.png" alt=""></div>
</div>
<div class="panel-image-spacer"></div>
</div>
					<div class="panel offer off"  data-format="digital" data-chosenoffer="2"  data-issues="12" >
<div class="panel-popular"></div>
<div class="circlecheck" role="button" aria-pressed="true" tabindex="0"></div>
<div class="panel-inner"> 
<div class="offerheader heading02">
Digital Only Access
</div>
<div  class="heading03">
<span class="gift-on">Give </span>1 year for $5
</div>
<div class="panel-sales-tax">+ sales tax</div>
<div class="ng-dt-int-order1"><span>&nbsp;</span></div>
<div class="panel-selector-container"><div class="panel-selector">Select</div></div>
<div class="space5"></div>
<div style="width:100%">
<ul class="body01 nosudo">
<li><p>Unlimited access to WIRED.com</p></li>
<li><p>Digital edition of the magazine</p></li>

</ul>
</div>
<div class="panel-arrow-down"><img src="https://subscribe.wired.com/circulation/wired/images/wir-triangle-down-nextgen.png" alt=""></div>
<div class="panel-image"><img class="panel-shot" style="margin-left:0px" src="https://subscribe.wired.com/circulation/wired/images/WIR_600X305_DIG-CONTROL.png" alt="Print + Digital Access"><img class="panel-shot-selected" style="margin-left:0px" src="https://subscribe.wired.com/circulation/wired/images/WIR_600X305_DIG-CONTROL-Selected.png" alt="Print + Digital Access"></div>
<div class="panel-arrow-up"><img src="https://subscribe.wired.com/circulation/wired/images/wir-triangle-up-nextgen.png" alt=""></div>
</div>
<div class="panel-image-spacer"></div>
</div>
					
					
                        </div>
                        <div class="space25"></div>	
            <div class="nextgen-greyborder"></div>
			
		</div>

        <div class="giftrecipientshow"></div>
        <fieldset id="giftrecipient" class="sectionbox">
            <div id="giftaddresstext" class="sectionheadfont">
                <h2>STEP 3. GIFT RECIPIENT</h2>
            </div>
            <div id="nextgen-gift-recipient"><h2>Enter Recipient Information</h2></div>
            <div class="flex">
                <div class="ng_required">
                    <label for="ship-first-name">First Name<input type="text" class="req"  id="ship-first-name" name="ship_first_name" aria-required="true"></label>
                    <div class="errorcontainer"><span id="ship-first-name-error" class="output-message">Please enter first name</span></div>
                </div>
                <div class="ng_required ng-flex-last">
                    <label for="ship-last-name">Last Name<input type="text" class="req" id="ship-last-name" name="ship_last_name" aria-required="true"></label>
                    <div class="errorcontainer"><span id="ship-last-name-error" class="output-message">Please enter last name</span></div>
                </div>
            </div>
            <div id="nextgen-gift-shipping"></div>
            <div class="ng_required">
                <label for="ship-email">Recipient Email<input type="text"   class="req" id="ship-email" name="ship_email"  aria-required="true"></label>
                <div class="errorcontainer"><span id="ship-email-error" class="output-message">Email cannot be empty</span> <span id="ship-email-invaliderror" class="output-message">Please enter a valid email</span></div>
                <div id="giftprivacytext">Will be used in accordance with our <a href="https://www.condenast.com/user-agreement" target="_blank">User Agreement</a> and <a href="https://www.condenast.com/privacy-policy" target="_blank">Privacy Policy</a></div>
            </div>
        </fieldset>
        <div id="nextgen-gift-border" class="nextgen-greyborder" style="display: none;"></div>

	<div id="expressPayment"></div>
		<script>
					var hasapplepay = false;
					
						var appdisp = ['apple','amazon'];
					
					
						var noappdisp = ['amazon','paypal'];
					
					
					
					var amazonflag = true;
					var paypalflag = true;
                        var applepayflag = false;
                        function hasapplepaydisplay() {
						if (hasapplepay == true || hasapplepay == false) {
							if (hasapplepay == true) {
								var i;
								for (i = 0; i <= appdisp.length; i++) { 
									if (appdisp[i] == "apple") {
										$("#applepay_checkout_section").append($("#applePay"));
										applepayflag = true;
									} 
									if (appdisp[i] == "amazon") {
										$("#nextgen-tab-2").append($("#amazonpay-container"));
										amazonflag = true;
										$("#applePayform").addClass("hasamz");
									}
									if (appdisp[i] == "paypal") {
										$("#nextgen-tab-3").append($("#ppcheckoutexpbutton"));
										paypalflag = true;
									}
								}
							} else {
								var i;
								for (i = 0; i <= noappdisp.length; i++) { 
									if (noappdisp[i] == "apple") {
										$("#applepay_checkout_section").append($("#applePay"));
										applepayflag = true;
									} 
									if (noappdisp[i] == "amazon") {
										$("#nextgen-tab-2").append($("#amazonpay-container"));
										amazonflag =  true;
										$("#applePayform").addClass("hasamz");
									} 
									if (noappdisp[i] == "paypal") {
										$("#nextgen-tab-3").append($("#ppcheckoutexpbutton"));
										paypalflag = true;
									}
								}
							}
							if (applepayflag == false) {
                                // $("#applePay").hide();
                                $("#nextgen-tab-4").remove();
                                $("[data-ngtab='4']").remove();
							} 
							if (amazonflag == false) {
								// $("#amazonpay-container").remove();
                                $("#nextgen-tab-2").remove();
                                $("[data-ngtab='2']").remove();
							} 
							if (paypalflag == false) {
								// $("#ppcheckoutexpbutton").remove();
                                $("#nextgen-tab-3").remove();
                                $("[data-ngtab='3']").remove();
							}
							if (paypalflag == false && applepayflag == false) {
								$(".autoRenew").hide();
							}
						}
					}
                </script>
                <div class="nextgen-payment-container" id="nextgen-step-3">
                    <div id="paymentdettext" class="sectionheadfont">
			<h2><span id="nextgen-gift-payno">STEP 3.</span> PAYMENT DETAILS</h2>
		</div>
		<div class="nextgen-cancel-text">
		<p>You may cancel at any time.</p>	
		</div>
                    <div class="nextgen-payment-links">
                        <div class="nextgen-payment-buttons nextgen-payment-buttons-selected" data-ngtab="1">Credit Card</div>
                        <div class="nextgen-payment-buttons" data-ngtab="2"><img src="https://subscribe.wired.com/circulation/wired/images/Nextgen-Amazon-Pay.png" alt="Amazon pay Button" width="66px" height="13px" style="margin-top:5px;"></div>
                        <div class="nextgen-payment-buttons" data-ngtab="3"><img src="https://subscribe.wired.com/circulation/wired/images/Nextgen-Paypal-Pay.png" alt="Paypal pay Button" width="58px" height="15px"></div>
                        <div class="nextgen-payment-buttons" data-ngtab="4"><img src="https://subscribe.wired.com/circulation/wired/images/Nextgen-Apple-Pay.png" alt="Apple pay Button" width="36px" height="18px"></div>
                    </div>
                    <div class="nextgen-payment-tab nextgen-payment-selected" id="nextgen-tab-1">
                        <!-- Start of Credit Card Info -->
          <div id="paymentdetails" class="sectionbox">
		<div class="flex">
			<div class="ng_required">
				<label for="creditcard">
					
						Credit/Debit Card #
					
					<input type="number" id="creditcard" name="credit_card_number" maxlength="16" pattern="[0-9]*"  min="0" max="9999999999999999" oninput="maxLengthCheck(this)" aria-required="true" placeholder="1234 1234 1234 1234">
					<div id="cctext">This transaction is secured with SSL encryption.</div>
					<div class="errorcontainer"> <span id="creditcard-error" class="output-message">Please enter a valid credit card</span> <span id="creditcard-invalid-error" class="output-message">Please enter a valid credit card</span> </div>
				</label>
			</div>
			<div class="ng_required">
				<fieldset style="border:none;-webkit-appearance:none;padding:0px;margin:0;">
					<legend> </legend>
					<label for="month" id="monthlabel">Valid Thru</label>
					<select id="month" class="req ui search selection dropdown optionplace1" name="credit_card_exp_month" auto-complete="PUD-VFCD" aria-hidden="true" hidden>
						<option value="" selected>MM</option>
						<option value="01">Jan</option>
						<option value="02">Feb</option>
						<option value="03">Mar</option>
						<option value="04">Apr</option>
						<option value="05">May</option>
						<option value="06">Jun</option>
						<option value="07">Jul</option>
						<option value="08">Aug</option>
						<option value="09">Sep</option>
						<option value="10">Oct</option>
						<option value="11">Nov</option>
						<option value="12">Dec</option>
					</select>
					<div class="ccinfo">Exp. Month</div>
					<div class="errorcontainer"> <span id="month-error" class="output-message">Select month</span> </div>
				</fieldset>
			</div>
			<div class="ng_required">
				<label for="year" id="yearlabel">&nbsp;</label>
				<select id="year" name="credit_card_exp_year" aria-required="true" class="req ui search selection dropdown optionplace1" autocomplete="cc-exp-year" aria-hidden="true" hidden >
					<option value="" selected>YY</option>
					<option value="20">2020</option>
<option value="21">2021</option>
<option value="22">2022</option>
<option value="23">2023</option>
<option value="24">2024</option>
<option value="25">2025</option>
<option value="26">2026</option>
<option value="27">2027</option>
<option value="28">2028</option>
<option value="29">2029</option>
<option value="30">2030</option>
				</select>
				<div class="ccinfo">Exp. Year</div>
				<div class="errorcontainer"> <span id="year-error" class="output-message">Select year</span> </div>
			</div>
			<div class="ng_required">
				<label for="cvv">CVV
					<input type="number" id="cvv" class="req" name="credit_card_cvv" pattern="[0-9]*" maxlength="4" min="0" max="9999" oninput="maxLengthCheck(this)" aria-required="true" >
				</label>
				<div class="ccinfo">Security Code</div>
				<div class="errorcontainer"><span id="cvv-error" class="output-message">Enter valid CVV</span></div>
			</div>
		</div>
    </div>
    <!-- End of Credit Card Info -->
                    </div>
                    <div class="nextgen-payment-tab" id="nextgen-tab-2">
                        <style type="text/css">
	#addressBookWidgetDiv {max-width:620px; height:228px; width:100%; display:none;}
	#walletWidgetDiv {max-width:620px; height:228px; width:100%; display:none;}
	#consentWidgetDiv {max-width:620px; height:140px; width:100%; display:none; margin-bottom: 20px;}
    
	#amazon_processing {margin:20px auto; text-align:center; display:none;}
	#AmzPayRenew {margin-top:25px; display:none;}
	#amazonpay-container {max-width:620px; margin:auto; display:block; box-sizing:border-box;}   
    #AmazonPayButton {text-align:center; margin-top:10px; display:none;}
	.amazonpay-button-inner-image {
    max-width: 280px;
    margin-left: auto;
    margin-right: auto;
    max-height: 65px;
    width: 100%;
    cursor: pointer;}
    #amazon_submit {display:none;}
    .amazonautoRenew a{
        color: #000000;
    }

    .amazonautoRenew a:hover{
        color: #000000;
    }
	@media only screen and (min-width: 767px) {
		.amazonappleno {
			display:none;
		}
	}

</style>
<div id="amazonpay-container" class="container">
	<input type="hidden" name="billing_agreement_id" value="">
	<div id="addressBookWidgetDiv"></div>
	<div id="walletWidgetDiv"></div>
	<div id="consentWidgetDiv"></div>

	
    <div id="ng_amazon_review"></div>
	<div id="AmazonPayButton" role="button" tabindex="0"></div>

	<div id="AmzPayRenew">
		
			<!-- START OF CONTINUOUS SERVICE -->
			<div class="amazonautoRenew">
				<div class="autoRenewText"><a name="autoRenew"></a>
					
						    <h2>Automatic Renewal</h2>
                            <p>Your subscription will automatically renew. You may cancel at any time. Before each renewal, we will send a reminder with the term and rate then in effect (<em>current rates listed below</em>). If you do nothing, we will charge the payment method you selected. To cancel, contact customer service as shown below to receive a full refund for all unserved issues</p>
                            <br>
                            <p>By subscribing you agree to our <a href="https://www.condenast.com/user-agreement/" target="_blank">User Agreement</a> and <a href="https://www.condenast.com/privacy-policy/" target="_blank">Privacy Policy & Cookie Statement</a>.</p>
					
				</div>
			</div>
			<!-- END OF CONTINUOUS SERVICE -->
		
	</div>
	<div id="amazon_submit" class="sectionbox" role="button" tabindex="0">
		<div id="amazon_submit_mob">Place Order</div>
            <div id="ssl">
                <p><img id="sslimage" src="https://subscribe.wired.com/circulation/wired/images/NextGen-ssl-icon.png" alt="Padlock"> This transaction is secured with SSL encryption</p>
            </div>
	</div>
	<div id="amazon_processing"><img src="/circulation/shared/images/omn_processing.gif" alt="processing"></div>
</div>



	<script>
		var theOrderObjtest = "";
		var amazonState = "";
		$(document).ready(function() {
			$.getScript('https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js'); 
			$.getScript('https://static-na.payments-amazon.com/OffAmazonPayments/us/js/Widgets.js');
			
				try {
					var urlParams = new URLSearchParams(window.location.search);
					if (urlParams.get('SOURCE') !== null &&  urlParams.get('SOURCE') !== '') {
						document.cookie= "cnsource=" + urlParams.get('SOURCE') + ";domain="+ window.location.hostname + ";path=/";
					} else {
						deleteCookie('cnsource');
					}
					if (urlParams.get('source') !== null && urlParams.get('source') !== '') {
						document.cookie= "cnsource=" + urlParams.get('source') + ";domain="+ window.location.hostname + ";path=/";
					} else {
						deleteCookie('cnsource');
					}
					if (urlParams.get('POS_NAME') !== null &&  urlParams.get('POS_NAME') !== '') {
						document.cookie= "cnposname=" + urlParams.get('POS_NAME') + ";domain="+ window.location.hostname + ";path=/";
					} else {
						deleteCookie('cnposname');
					}
					if (urlParams.get('pos_name') !== null && urlParams.get('pos_name') !== '') {
						document.cookie= "cnposname=" + urlParams.get('pos_name') + ";domain="+ window.location.hostname + ";path=/";
					} else {
						deleteCookie('cnposname');
					}
				} catch(err) {
				}
			
			var $j = jQuery.noConflict(true);
			var $jOrig = jQuery || $j;
			window.jQuery = window.$ = $j;
			window.onAmazonLoginReady = function() {
				amazon.Login.setClientId('amzn1.application-oa2-client.87be8392a3e547f0861f97a70ef90487');
				amazon.Login.setUseCookie(true);
			};
 
			window.onAmazonPaymentsReady = function() {
				var urlParams = new URLSearchParams(window.location.search);
				var access_token = urlParams.get('access_token');
				console.log(access_token);
				var billingAgreementId = '';
				console.log(billingAgreementId);

				var redirectUrl = "/subscribe/amazonreturn";
				console.log(redirectUrl);
				if (!access_token && !billingAgreementId) {
					document.cookie = "origpath="+window.location.pathname+";path=/";
					$j('#AmazonPayButton').show();
					var authRequest;
					//	render the button here
					OffAmazonPayments.Button('AmazonPayButton', 'A3AADXX5DBORYZ', {
						type: 'PwA',
						color: 'DarkGray',
						size: 'x-large',
						authorization: function() {
							loginOptions = {
								scope: "profile payments:widget payments:shipping_address", popup: false};
								authRequest = amazon.Login.authorize (loginOptions, redirectUrl);
							},
							onError: function(error) {
								// your error handling code
								alert("The following error occurred in login: "
								+ error.getErrorCode()
								+ ' - ' + error.getErrorMessage());
							}
						});

						try {
							if (document.getElementById("AmazonPayButton") != null) {
								document.getElementById("AmazonPayButton").addEventListener("keydown", function(event) {
									//event.preventDefault();
									console.log("keypress on amazon version23");
									console.log(event);
									if (event.key === 'Enter' ||  event.keyCode === '32' || event.code === 'Space') {
										OffAmazonPayments.jQuery("#OffAmazonPaymentsWidgets0").click();
									}
								});
							}
						} catch(err) {
						}
					}

					if (access_token || billingAgreementId) {
						$j('#addressBookWidgetDiv, #walletWidgetDiv, #consentWidgetDiv, #logoutDiv, #AmzPayRenew, #amazon_submit').show();
						$j('.amazon-hide-content').hide();
						$j('[name=pt_id]').val(['12']);

						// logout
						/*
							document.getElementById('Logout').onclick = function() {
								console.log('logout');
								amazon.Login.logout();
							};
						*/
						//address book widget
						var ba_promise = new Promise(function(resolve, reject) {
							var addressWidget =  new OffAmazonPayments.Widgets.AddressBook({
								sellerId: 'A3AADXX5DBORYZ',
								agreementType: 'BillingAgreement',
								
									onReady: function(billingAgreement) {
										console.log("on ready inside address book widget");
										billingAgreementId = billingAgreement.getAmazonBillingAgreementId();
										console.log(billingAgreementId);
										$j('input[name=billing_agreement_id]').val(billingAgreementId);
										resolve(billingAgreementId);
									},
									onAddressSelect: function(billingAgreement) {
										// Replace the following code with the action that you want to perform
										// after the address is selected.
										// The amazonBillingAgreementId can be used to retrieve
										// the address details by calling the GetBillingAgreementDetails operation.
										// If rendering the AddressBook and Wallet widgets on the same page, you
										// should wait for this event before you render the Wallet widget for
										// the first time.
										// The Wallet widget will re-render itself on all subsequent
										// onAddressSelect events without any action from you. We don't
										// recommend that you explicitly refresh it.
										$j.ajax( {
											method: "POST",
											url: "/subscribe/amazonpayapi",
											dataType: 'xml',
											data : {
												billing_agreement_id: billingAgreementId,
												address_consent_token: access_token
											}
										}).done(function(response) {
											//console.log(response);
											var addressObj = $(response).find('PhysicalDestination');
											//console.log(addressObj);
											$('input[name=address]').val(addressObj.find('AddressLine1').text());
											$('input[name=address2]').val(addressObj.find('AddressLine2').text());
											$('input[name=city]').val(addressObj.find('City').text());
											amazonState = addressObj.find('StateOrRegion').text();
											$('input[name=postal_code]').val(addressObj.find('PostalCode').text());
											$('[name=country_code]').val(addressObj.find('CountryCode').text());

											$('#ship-country-selector').trigger("change");
                                                if ($('#ship-country-selector').val() == "US"){
                                            	$('#ship-country-selector').attr("data-location","domestic");
												$("#nextgen-domestic").addClass("nextgen-country-selected");
       											$("#nextgen-international").removeClass("nextgen-country-selected");
                                            }
                                            else if ($('#ship-country-selector').val() == "CA"){
                                               $('#ship-country-selector').attr("data-location","canada");
											    $("#nextgen-domestic").removeClass("nextgen-country-selected");
        										$("#nextgen-international").addClass("nextgen-country-selected");
                                            }
                                            else{
                                               $('#ship-country-selector').attr("data-location","international");
											   	$("#nextgen-domestic").removeClass("nextgen-country-selected");
        										$("#nextgen-international").addClass("nextgen-country-selected");
                                            }
                                            setofferterm();
											console.log("currentamzcountry-"+$('[name=country_code]').val());

											$('input[name=email]').val($(response).find('Email').text());
											var full_name = addressObj.find('Name').text();
											var first_name = full_name.split(' ').slice(0,-1).join(' ');
											var last_name = full_name.split(' ').slice(-1).join(' ');
											$('input[name=first_name]').val(first_name);
											$('input[name=last_name]').val(last_name);
										});
									},
								
								design: {
									designMode:'responsive'
								},
								onError: function(error) {
									// your error handling code
									alert("The following error occurred in address: " + error.getErrorCode() + ' - ' + error.getErrorMessage());
								}
							}).bind("addressBookWidgetDiv");

							//wallet widget
							var walletWidget = new OffAmazonPayments.Widgets.Wallet({
								sellerId: 'A3AADXX5DBORYZ',
								// amazonBillingAgreementId obtained from the AddressBook widget
								amazonBillingAgreementId: billingAgreementId,
								onPaymentSelect: function(billingAgreement) {
									// Replace this code with the action that you want to perform
									// after the payment method is selected.
								},
								design: {
									designMode:'responsive'
								},
								onError: function(error) {
									// your error handling code
									alert("The following error occurred in wallet: " + error.getErrorCode() + ' - ' + error.getErrorMessage());
								}
							}).bind("walletWidgetDiv");
						});

						//consent widget
						ba_promise.then(function(data) {
							console.log(data);
							console.log(billingAgreementId);
							var consentWidget = new OffAmazonPayments.Widgets.Consent({
								sellerId: 'A3AADXX5DBORYZ',
								// amazonBillingAgreementId obtained from the Amazon Address Book widget.
								amazonBillingAgreementId: billingAgreementId,
								design: {
									designMode: 'responsive'
								},
								onReady: function(billingAgreementConsentStatus) {
									// Called after widget renders
									if (billingAgreementConsentStatus.type == "Consent") {
										console.log(billingAgreementConsentStatus);
										console.log(arguments);
										buyerBillingAgreementConsentStatus =
										billingAgreementConsentStatus.getConsentStatus();
										// getConsentStatus returns true or false
										// true checkbox is selected
										// false checkbox is unselected - default
									}
								},
								onConsent: function(billingAgreementConsentStatus) {
									buyerBillingAgreementConsentStatus =
									billingAgreementConsentStatus.getConsentStatus();
									// getConsentStatus returns true or false
									// true checkbox is selected buyer has consented
									// false checkbox is unselected  buyer has not consented
									
									// Replace this code with the action that you want to perform
									// after the consent checkbox is selected/unselected.
								},
								onError: function(error) {
									// your error handling code
									console.log("The following error occurred in consent: " + error.getErrorCode() + ' - ' + error.getErrorMessage());
								}
							}).bind("consentWidgetDiv");
						}).catch(function(err) {alert('error:'+err);});
					}
				};
				window.jQuery = window.$ = $jOrig;

				$('#amazon_submit').on("click.amazonsubmit, keypress.amazonsubmit", function(e) {
					document.cookie = "chosenoffer=" + jQuery(".panel.offer.on").attr("data-chosenoffer");
					console.log("chosenoffer=" + jQuery(".panel.offer.on").attr("data-chosenoffer"));
                    $(".nextgen-progress").animate({width : "100%"});
                    
					$("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
						
					var paneleventfilter = false;
					console.log(e.handleObj.origType);
					if (e.keyCode == '32'||  e.handleObj.origType == "click" || e.keyCode == '13') {
						paneleventfilter = true;
					}
					if (e.keyCode == '32'|| e.keyCode == '13') {
						$(this).click();
					}
					if (paneleventfilter == true) {
						$('#amazon_submit').hide(); 
						$('#amazon_processing').show();
						if (buyerBillingAgreementConsentStatus == "false") {
							alert("Please agree to use your selected payment method to submit your order.");
							$('html, body').animate({
								scrollTop: $("#amazonpay-container").offset().top
							}, 1000);
							$('#amazon_submit').show(); 
							$('#amazon_processing').hide();
							return false;
						}

						var offerTerm = document.getElementsByName('offer_term')[0].value;
						var offerId = document.getElementsByName('offer_id')[0].value;
						var amzpayBillId = document.getElementsByName('billing_agreement_id')[0].value;
						var hostOfferId = document.getElementsByName('host_offer_id')[0].value;
						var parentTransId = document.getElementsByName('parent_trans_id')[0].value;
						var transId = document.getElementsByName('trans_id')[0].value;
						var transKey = document.getElementsByName('trans_key')[0].value;
						var sourceCode = document.getElementsByName('source_code')[0].value;
						try {
							var refSource = document.getElementsByName('referral_source')[0].value;
							var refSource = getCookieCN("cnsource");
						} catch(err) {
						}      
						var nlsourceCode = "";
						try {
							var posName = document.getElementsByName('pos_name')[0].value;
							var posName = getCookieCN("cnposname");

						} catch(err) {
						} 
						
						var firstName = document.getElementsByName('first_name')[0].value;
						var lastName = document.getElementsByName('last_name')[0].value;
						var donAdd = document.getElementsByName('address')[0].value;
						var donAdd2 = document.getElementsByName('address2')[0].value;
						var donCity = document.getElementsByName('city')[0].value;
						var donState = amazonState;
						var donZip = document.getElementsByName('postal_code')[0].value;
						var donCountry = document.getElementsByName('country_code')[0].value;
						var donEmail = document.getElementsByName('email')[0].value;
						var ptId = document.getElementsByName('pt_id')[0].value;
						var theOrderObj = {
"offer_term":offerTerm, "pos_name":posName, "offer_id":offerId, "host_offer_id":hostOfferId, "parent_trans_id":parentTransId, "trans_id":transId, "trans_key":transKey, "source_code":sourceCode, "referral_source":refSource, "newsletter_source_code":nlsourceCode,  "first_name":firstName, "last_name":lastName, "address":donAdd, "address2":donAdd2, "city":donCity, "state":donState, "postal_code":donZip, "country_code":donCountry, "email":donEmail, "pt_id":ptId, "billing_agreement_id":amzpayBillId
						};
						
							
								
							
						
							
						
						theOrderObjtest = theOrderObj;
						if (donCountry  !== null) {
							$.ajax({
								type:"POST",
								url:"/api/circ/js/Transaction",  
								data:theOrderObj,
								dataType:"json",
								error:function(jqXHR, error, errorThrown){

								},
								success: function(data) {
									var orderStatObj = data;


									if (orderStatObj.order_success == '') {
										var orderFailed = "We're sorry. The address you entered does not appear to be valid. Please review and try again. If the problem persists, consider checking the address at the <a href=\"http://zip4.usps.com/zip4/welcome.jsp\" target=\"_blank\">US Postal Service website.</a> <!-- We're sorry.  We are unable to process your transaction at this time.  Please try again. --> ";
                                                                                   var orderFailedError = "";
						if (typeof orderStatObj.order_failed[0] !== 'undefined' && typeof orderStatObj.order_failed[0].error !== 'undefined') {
							orderFailedError = orderStatObj.order_failed[0].error;
											$('#amazon_submit').show(); 
											$('#btn_processing').hide();
						} else {
							orderFailedError = orderStatObj.order_failed[0];
											$('#amazon_submit').show(); 
											$('#btn_processing').hide();
						}
						console.log(orderFailedError);
										if (orderStatObj.order_failed[0] !== 'undefined' && typeof orderStatObj.order_failed[0].error !== 'undefined') {
									                orderFailed = orderStatObj.order_failed[0].error;
											$('#amazon_submit').show(); 
											$('#btn_processing').hide();
										} else {
											alert(orderStatObj.order_failed);	// change this to display order failure message
									                 orderFailed = orderStatObj.order_failed[0];
											$('#amazon_submit').show(); 
											$('#btn_processing').hide(); 
										}
									} else {
										window.location = orderStatObj.order_success[0].next_offer_url;


									}
								}
							});
						} else {
							alert("Please enter a valid country shipping address");
							reject("Please enter a valid country shipping address");
						}
					}
				});
			});
	</script>

                    </div>
                    <div class="nextgen-payment-tab" id="nextgen-tab-3">
                        
                            <div class="nextgen-pp-gift-payment">
                                <p>Please enter your billing information below before continuing your purchase with PayPal.</p></div>
                                <div id="nextgen-paypal-billing-address"></div>
                    <!--EC Preview-->




    <div class="autoRenew">
        <div class="autoRenewText">
            <div><h3>Automatic Renewal:</h3></div>
            <p>Your subscription will <strong>automatically renew</strong> for one year. Before each renewal, we will send a reminder with the term and rate then in effect (<em>current rates listed above</em>). If you do nothing, we will charge the payment method you selected. To cancel at any time, contact customer service as shown below to receive a full refund for all unserved issues.</p>    
            <br>
            <p>By subscribing you agree to Automatic Renewal as described above, our <a href="https://www.condenast.com/user-agreement" target="_blank">User Agreement</a>, and <a href="https://www.condenast.com/privacy-policy" target="_blank">Privacy Policy &amp; Cookie Statement</a>.</p>    
        </div>
    </div>








<div id="ppcheckoutexpbutton" role="button" tabindex="0"><span id="paypaldecription">Check out with</span><img src="/circulation/architecturaldigest/images/paypal-checkout_ADA_Style.png" alt="paypal" aria-describedby="paypaldecription"></div>
<script async src="//www.paypalobjects.com/api/checkout.js"></script>
<script>
	function getParameterByName(name, url) {
		if (!url) url = window.location.href;
        url = url.replace(/&amp;/g,"&");
		name = name.replace(/[\[\]]/g, "\\$&");
		var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
			results = regex.exec(url);
		if (!results) return null;
		if (!results[2]) return '';
		return decodeURIComponent(results[2].replace(/\+/g, " "));
		
	}
	jQuery("#ppcheckoutexpbutton").on("click.ppcheck, keypressppcheck, keydown.ppcheck", function(e) {
		var paneleventfilter = false;
		console.log(e.handleObj.origType);
		if (e.keyCode == '32'||  e.handleObj.origType == "click" || e.keyCode == '13') {
			paneleventfilter = true;
		}
		if (paneleventfilter == true) {

			var offerTerm = document.getElementsByName('offer_term')[0].value;
			var offerId = document.getElementsByName('offer_id')[0].value;
			var hostOfferId = document.getElementsByName('host_offer_id')[0].value;
			var parentTransId = document.getElementsByName('parent_trans_id')[0].value;
			var transId = document.getElementsByName('trans_id')[0].value;
			var transKey = document.getElementsByName('trans_key')[0].value;
			var sourceCode = document.getElementsByName('source_code')[0].value;      
			var refSource = document.getElementsByName('referral_source')[0].value;
			var posName = document.getElementsByName('pos_name')[0].value;
			var ignoredav = "1" ;
			var firstName = document.getElementsByName('first_name')[0].value;
			var lastName = document.getElementsByName('last_name')[0].value;
			var donAdd = document.getElementsByName('address')[0].value;
			var donAdd2 = document.getElementsByName('address2')[0].value;
			var donCity = document.getElementsByName('city')[0].value;
			var donState = document.getElementsByName('state')[0].value;
			var donZip = document.getElementsByName('postal_code')[0].value;
			var donCountry = document.getElementsByName('country_code')[0].value;
			var donEmail = document.getElementsByName('email')[0].value;
			var ptId = "9";
			var chargeOnShip = "0";
			var chosenOffer = jQuery('#chosenOffer').attr("value");
			var theOrderObj = {"offer_term":offerTerm, "pos_name":posName, "offer_id":offerId, "host_offer_id":hostOfferId, "parent_trans_id":parentTransId, "trans_id":transId, "trans_key":transKey, "source_code":sourceCode, "referral_source":refSource, "pos_name":posName,  "ignore_dav":ignoredav, "first_name":firstName, "last_name":lastName, "address":donAdd, "address2":donAdd2, "city":donCity, "state":donState, "postal_code":donZip, "country_code":donCountry, "email":donEmail, "pt_id":ptId, "charge_on_ship": chargeOnShip,  "chosen_offer":chosenOffer }
			var addressError;
			if (donCountry === 'US') {
				addressError = "We're sorry. Our system does not recognize the address you entered. Please review and try again. If you continue to receive this message, please contact Customer Service for assistance at 1-800-769-4733.";
			} else {
				addressError = "We're sorry. Our system does not recognize the address you entered. Please review and try again. If you continue to receive this message, please contact Customer Service for assistance at 1-515-243-3273.";
			}
			paypal.checkout.initXO();
			$.support.cors = true;
			$.ajax({
				type: "POST",
				url: "/api/circ/js/Transaction",  
				data: theOrderObj,
				dataType: "json",
				error: function(e) {
					$("#btn_submit").show(); 
					$("#btn_processing").hide();
					alert("Error in ajax post"+e.statusText);
					paypal.checkout.closeFlow();
				},
				success: function(data) {
					$("#btn_submit").show(); 
					$("#btn_processing").hide();
					var orderStatObj = data;
					console.log(orderStatObj);
					if (orderStatObj.order_failed[0].url) {
						var ppUrl = orderStatObj.order_failed[0].url;
						var ppToken = getParameterByName('token', ppUrl);
						paypal.checkout.startFlow(ppToken);
					} else {
						var orderFailedError = "";
						if (typeof orderStatObj.order_failed[0] !== 'undefined' && typeof orderStatObj.order_failed[0].error !== 'undefined') {
							orderFailedError = orderStatObj.order_failed[0].error;
						} else {
							orderFailedError = orderStatObj.order_failed[0];
						}
						alert ("Your payment was declined. Please update your PayPal payment details or enter your address and credit card information below");
						if (orderFailedError.substr(0,66) == 'We are sorry. The address you entered does not appear to be valid.') {
							alert(addressError);
						} else {
							alert(orderFailedError);
						}
						paypal.checkout.closeFlow();
						$('#btn_submit').show(); 
						$('#btn_processing').hide();
					}
				}
			});
		}
	});  

			window.paypalCheckoutReady = function() {
                function getParameterByName(name, url) {
		if (!url) url = window.location.href;
        url = url.replace(/&amp;/g,"&");
		name = name.replace(/[\[\]]/g, "\\$&");
		var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
			results = regex.exec(url);
		if (!results) return null;
		if (!results[2]) return '';
		return decodeURIComponent(results[2].replace(/\+/g, " "));
		
	}
				paypal.checkout.setup("5BZ399HNM9RUC", {
				environment: 'production',
				click: function(event) {
					// if (!($('.nextgen-payment-buttons[data-ngtab="3"]').hasClass("nextgen-payment-buttons-selected"))) {
					// 	$('#btnSubmit').show(); 
					// 		$('#processing').hide();
					// 		return false;
					// 	if ($(".panel.impulse").hasClass("on")) {
					// 		var addofferTerm = document.getElementsByName('offer_term_donee')[0].value;
					// 	}					
					// }
					var offerTerm = document.getElementsByName('offer_term')[0].value;
					var offerId = document.getElementsByName('offer_id')[0].value;
					var hostOfferId = document.getElementsByName('host_offer_id')[0].value;
					var parentTransId = document.getElementsByName('parent_trans_id')[0].value;
					var transId = document.getElementsByName('trans_id')[0].value;
					var transKey = document.getElementsByName('trans_key')[0].value;
					var sourceCode = document.getElementsByName('source_code')[0].value;      
					// var nlsourceCode = document.getElementsByName('newsletter_source_code')[0].value;
					var refSource = document.getElementsByName('referral_source')[0].value;
					var posName = document.getElementsByName('pos_name')[0].value;
					
					if (!($('.nextgen-payment-buttons[data-ngtab="3"]').hasClass("nextgen-payment-buttons-selected"))) {
						var ignoredav = document.getElementsByName('ignore_dav')[0].value;
					}
					var firstName = document.getElementsByName('first_name')[0].value;
					var lastName = document.getElementsByName('last_name')[0].value;
					var donAdd = document.getElementsByName('address')[0].value;
					var donAdd2 = document.getElementsByName('address2')[0].value;
					var donCity = document.getElementsByName('city')[0].value;
					var donState = document.getElementsByName('state')[0].value;
					var donZip = document.getElementsByName('postal_code')[0].value;
					var donCountry = document.getElementsByName('country_code')[0].value;
					var donEmail = document.getElementsByName('email')[0].value;
					var ptId = document.getElementsByName('pt_id')[0].value;
					// var chargeOnShip = document.getElementsByName('charge_on_ship')[0].value;
					var chosenOffer = jQuery('#chosenOffer').attr("value");
					
					
					var theOrderObj = {
						"offer_term":offerTerm, "pos_name":posName, "offer_id":offerId, "host_offer_id":hostOfferId, "parent_trans_id":parentTransId, "trans_id":transId, "trans_key":transKey, "source_code":sourceCode, "referral_source":refSource, "pos_name":posName, "first_name":firstName, "last_name":lastName, "address":donAdd, "address2":donAdd2, "city":donCity, "state":donState, "postal_code":donZip, "country_code":donCountry, "email":donEmail, "pt_id":ptId, "chosen_offer":chosenOffer
					};
					if ($('.nextgen-payment-buttons[data-ngtab="3"]').hasClass("nextgen-payment-buttons-selected")) {
						// theOrderObj["add_offer_term"] = document.getElementsByName('offer_term_donee')[0].value;
						
							
								theOrderObj["ship_first_name"] = document.getElementsByName('ship_first_name')[0].value;
								theOrderObj["ship_last_name"] = document.getElementsByName('ship_last_name')[0].value;
								theOrderObj["ship_address"] = document.getElementsByName('ship_address')[0].value;
								theOrderObj["ship_address2"] = document.getElementsByName('ship_address2')[0].value;
								theOrderObj["ship_city"] = document.getElementsByName('ship_city')[0].value;
								theOrderObj["ship_state"] = document.getElementsByName('ship_state')[0].value;
								theOrderObj["ship_postal_code"] = document.getElementsByName('ship_postal_code')[0].value;
								theOrderObj["ship_country_code"] = document.getElementsByName('ship_country_code')[0].value;
							
						
							
								theOrderObj["ship_first_name"] = document.getElementsByName('ship_first_name')[0].value;
								theOrderObj["ship_last_name"] = document.getElementsByName('ship_last_name')[0].value;
								theOrderObj["ship_address"] = document.getElementsByName('ship_address')[0].value;
								theOrderObj["ship_address2"] = document.getElementsByName('ship_address2')[0].value;
								theOrderObj["ship_city"] = document.getElementsByName('ship_city')[0].value;
								theOrderObj["ship_state"] = document.getElementsByName('ship_state')[0].value;
								theOrderObj["ship_postal_code"] = document.getElementsByName('ship_postal_code')[0].value;
								theOrderObj["ship_country_code"] = document.getElementsByName('ship_country_code')[0].value;
							
						
					}
					$("[name^='email_pref']:checked").each(function() {
						var name = jQuery(this).attr("name");
						theOrderObj[name] = 'Y';
					});
					if (!($('.nextgen-payment-buttons[data-ngtab="3"]').hasClass("nextgen-payment-buttons-selected"))) {
						theOrderObj["ignore_dav"] = ignoredav;
					};
					
					paypal.checkout.initXO();
					$.support.cors = true;
						$.ajax({
							type: "POST",
							url: "/api/circ/js/Transaction",  
							data: theOrderObj,
							dataType: "json",
							error: function(e) {
								$("#btnSubmit").show(); 
								$("#processing").hide();
								alert("Error in ajax post"+e.statusText);
								paypal.checkout.closeFlow();
							},
							success: function(data) {
								$("#btnSubmit").show(); 
								$("#processing").hide();
								var orderStatObj = data;
								console.log(orderStatObj);
								if (orderStatObj.order_failed[0].url) {
									var ppUrl = orderStatObj.order_failed[0].url;
									var ppToken = getParameterByName('token', ppUrl);
									paypal.checkout.startFlow(ppToken);
								} else {
									alert("Your payment was declined. Please update your PayPal payment details or enter your address and credit card information below");
									if (typeof orderStatObj.order_failed[0] !== 'undefined' && typeof orderStatObj.order_failed[0].error !== 'undefined') {
										alert(orderStatObj.order_failed[0].error);
									} else {
										alert(orderStatObj.order_failed[0]);
									}
									paypal.checkout.closeFlow();
									$("#btnSubmit").show(); 
									$("#processing").hide();
								}
							}
						});
					},
					condition: function() {
						return !!(document.getElementsByName('pt_id')[0].value == '9');
					},
					button:"ppSubmit"
				});
			}
</script>
				
                    </div>
                    <div class="nextgen-payment-tab" id="nextgen-tab-4">
                        <style>
	#applePayform.container {max-width:620px; margin:auto;}

	/* Apple Pay Styles */
	@supports (-webkit-appearance: -apple-pay-button) {
		.apple-pay-button-with-text {width:342px; height:52px; display:inline-block; -webkit-appearance:-apple-pay-button; -apple-pay-button-type:buy;}
        .apple-pay-button-with-text > * {display:none;}
		.apple-pay-button-black-with-text {-apple-pay-button-style:black;}
		.apple-pay-button-white-with-text {-apple-pay-button-style:white;}
		.apple-pay-button-white-with-line-with-text {-apple-pay-button-style:white-outline;}
	}

	@supports not (-webkit-appearance: -apple-pay-button) {
		.apple-pay-button-with-text {
			--apple-pay-scale:1; /* (height / 32) */
			display:inline-flex;
			justify-content:center;
			font-size:12px;
			padding:0px;
			box-sizing:border-box;
			min-width:300px;
			min-height:32px;
			max-height:48px;
		}
		.apple-pay-button-black-with-text {background-color:black; color:white;}
		.apple-pay-button-white-with-text {background-color:white; color:black;}
		.apple-pay-button-white-with-line-with-text {background-color:white; color:black; border:.5px solid black;}
		.apple-pay-button-with-text.apple-pay-button-black-with-text > .logo {background-image:-webkit-named-image(apple-pay-logo-white); background-color:black;}
		.apple-pay-button-with-text.apple-pay-button-white-with-text > .logo {background-image:-webkit-named-image(apple-pay-logo-black); background-color:white;}
		.apple-pay-button-with-text.apple-pay-button-white-with-line-with-text > .logo {background-image:-webkit-named-image(apple-pay-logo-black); background-color:white;}
		.apple-pay-button-with-text > .text {
			font-family: -apple-system;
			font-size: calc(1em * var(--apple-pay-scale));
			font-weight: 300;
			align-self: center;
			margin-right: calc(2px * var(--apple-pay-scale));
		}
		.apple-pay-button-with-text > .logo {
			width: calc(35px * var(--scale));
			height: 100%;
			background-size: 100% 60%;
			background-repeat: no-repeat;
			background-position: 0 50%;
			margin-left: calc(2px * var(--apple-pay-scale));
			border: none;
		}
	}
	#applePay {text-align:center; margin-bottom:15px;}
	.paypal-off #applePay {margin-bottom:0px;}
	.paypal-off div+#applePay {margin-bottom:0px;}
	
	#applePayform.hasamz #applepay_checkout_section .autoRenew{display:block !important;}
	@media only screen and (min-width: 768px) {
		#applePayform {display:none;}
		/*#ppcheckoutexpbutton,.autoRenew, #applePay {display:none;}*/
		#applePayform.hasamz {display:block;}
	}

	.paypal-off #ppcheckoutexpbutton {display:none;}
	.paypal-off+#ppcheckoutexobutton, .paypal-off+div {display:none;}

	.autoRenewText {font-size:12px; font-weight:normal;font-style:normal; font-stretch:normal; }
	.autoRenewText+div {font-size: 16px;font-weight: 500;color:#717171;}
	#applepay_checkout_section, .autoRenewText {color:#717171; }


	

	
	
	
	
</style>
<!--EC Preview-->




    <div class="autoRenew">
        <div class="autoRenewText">
            <div><h3>Automatic Renewal:</h3></div>
            <p>Your subscription will <strong>automatically renew</strong> for one year. Before each renewal, we will send a reminder with the term and rate then in effect (<em>current rates listed above</em>). If you do nothing, we will charge the payment method you selected. To cancel at any time, contact customer service as shown below to receive a full refund for all unserved issues.</p>    
            <br>
            <p>By subscribing you agree to Automatic Renewal as described above, our <a href="https://www.condenast.com/user-agreement" target="_blank">User Agreement</a>, and <a href="https://www.condenast.com/privacy-policy" target="_blank">Privacy Policy &amp; Cookie Statement</a>.</p>    
        </div>
    </div>








<div id="applePayform" class="container gift-off">
	<div id="applepay_checkout_section" class="paypal-off">
		
		 
			<div id="applePay">
				<div class="apple-pay-button-with-text apple-pay-button-black-with-text"><span class="text">Buy with</span><span class="logo"></span></div>
			</div>
		
	</div>
</div>
       

<script>
	console.log("AF021919");
	console.log("Applepayversion145");
	try{
		var offer_term_json = new Object();
		
			
				
					offer_term_json["167241_0"] = {"internet_price":"5.00"}; 
				
			
			
				 
					offer_term_json["167242_1"] = {"internet_price":"5.00"}; 
				
			
		
			
				
					offer_term_json["167245_0"] = {"internet_price":"5.00"}; 
				
			
			
				 
					offer_term_json["167244_1"] = {"internet_price":"5.00"}; 
				
			
		
			
			
				 
					offer_term_json["167247_1"] = {"internet_price":"5.00"}; 
				
			
		
			
			
				 
					offer_term_json["167469_1"] = {"internet_price":"5.00"}; 
				
			
		
	} catch(err){
		console.log(err);
	}
 
	var hasapplepay = false;

	// Begin Apple Pay Script Block
	console.log("Applepayversion5301006");
	var debug = true;
	var uscode;
	if (window.ApplePaySession) {
		var merchantIdentifier = 'merchant.com.condenast';
		var promise = ApplePaySession.canMakePaymentsWithActiveCard(merchantIdentifier);
		promise.then(function (canMakePayments) {
			console.log("paysession1");
			if (canMakePayments) {
				console.log("paysessiona");
				
					document.getElementById("applePayform").style.display = "block";
					$("#applePayform").addClass("hasApple");
					hasapplepay = true;
					try {
						console.log("hasapplefunctrue");
						hasapplepaydisplay();   
					} catch(err) {
						console.log(err);
					}
				
				logit('hi, I can do ApplePay');
			} else {
				hasapplepay = false;
				try {
					logit("testb");
					hasapplepaydisplay();  
					logit("testc"); 
				} catch(err) {
					console.log(err);
				}
				console.log("paysessionb");
	
				
					
						console.log("paysessionf");
						try {
							document.getElementById("applePay").style.display = "none";
						}
						catch(err) {
							console.log(err);
						}
						$("#applePay").hide();
						$("#applePayform, #ppcheckoutbutton").show();	
						$(document).ready(function() { 
							$("#applepay_checkout_section").removeClass("paypal-off");  
						});      
					
				
		//		document.getElementById("got_notactive").style.display = "block";
		//		logit('ApplePay is possible on this browser, but not currently activated.');
			}
			logit("paysessionc");
		}); 
	} else {
		logit("paysession2");
		logit('ApplePay is not available on this browser');
		hasapplepay = false;
		try {
			logit("teste");
			hasapplepaydisplay();   
			logit("testf");
		} catch(err) {
			logit(err);
		}
		
			try{
				document.getElementById("applePay").style.display = "none";
			} catch(err) {
			}
			$("#applePayform").show();	
			$("#applePay").hide();
			$("#applepay_checkout_section").removeClass("paypal-off"); 
			$("#ppcheckoutbutton").show();        
		
	}
	try {
		document.getElementById("applePay").onclick = function(evt) {
			var selected_ot = document.getElementsByName('offer_term')[0].value;
			console.log(selected_ot);
			var runningAmount      = parseFloat(offer_term_json[selected_ot].internet_price);
			var runningPP          = 0; 
			getShippingCosts('domestic_std', true);
			var runningTotal       = function() { return runningAmount + runningPP; }
			var shippingOption = "";
			var subTotalDescr      = "Estimated Cost";
			var next_url;
			function getShippingOptions(shippingCountry) {
				logit('getShippingOptions: ' + shippingCountry);
				if (shippingCountry.toUpperCase() == "US") {
					shippingOption = [];
				} else {
					shippingOption = [];
				}
			}
			function getShippingCosts(shippingIdentifier, updateRunningPP ){
				var shippingCost = 0;
				switch(shippingIdentifier) {
					case 'domestic_std':
						shippingCost = '';
						break;
					case 'international':
						shippingCost = '';
						break;
					shippingCost = 0;
				}
				if (updateRunningPP == true) {
					runningPP = shippingCost;
				}
				logit('getShippingCosts: ' + shippingIdentifier + " - " + shippingCost +"|"+ runningPP );
				return shippingCost;
			}
			
			var paymentRequest = {
				currencyCode: 'USD',
				countryCode: 'US',
				requiredShippingContactFields: ['postalAddress','email','name'],
				requiredBillingContactFields: ['postalAddress','email','name'],
				//requiredShippingContactFields: ['postalAddress','email', 'name', 'phone'],
				//requiredBillingContactFields: ['postalAddress','email', 'name', 'phone'],
				lineItems: [{label: subTotalDescr, amount: runningAmount }],
				total: {
					label: 'Wired',
					amount: runningTotal()
				},
				supportedNetworks: ['amex', 'masterCard', 'visa', 'discover'],
				// merchantCapabilities: [ 'supports3DS', 'supportsEMV', 'supportsCredit', 'supportsDebit' ]
				merchantCapabilities: ['supports3DS', 'supportsCredit', 'supportsDebit']
			};
			var session = new ApplePaySession(1, paymentRequest);
				// Merchant Validation
				session.onvalidatemerchant = function (event) {
					logit(event);
					var promise = performValidation(event.validationURL);
					promise.then(function (merchantSession) {
					session.completeMerchantValidation(merchantSession);
				}); 
			}

			function performValidation(valURL) {
				return new Promise(function(resolve, reject) {
					var xhr = new XMLHttpRequest();
					xhr.onload = function() {
						console.log(this.responseText);
						var data = JSON.parse(this.responseText);
						logit(data);
						resolve(data);
					};
					xhr.onerror = reject;
					xhr.open('GET', '/subscribe/apple_pay_comm?u=' + valURL);
					xhr.send();
				});
			}
 
			session.onshippingcontactselected = function(event) {
				logit('starting session.onshippingcontactselected');
				logit('NB: At this stage, apple only reveals the Country, Locality and 4 characters of the PostCode to protect the privacy of what is only a *prospective* customer at this point. This is enough for you to determine shipping costs, but not the full address of the customer.');
				logit(event);
				uscode = event.shippingContact.countryCode;
				getShippingOptions( event.shippingContact.countryCode );
				var status = ApplePaySession.STATUS_SUCCESS;
				var newShippingMethods = shippingOption;
				var newTotal = { type: 'final', label: 'Wired', amount: runningTotal() };
				var newLineItems =[{type: 'final',label: subTotalDescr, amount: runningAmount }];
				session.completeShippingContactSelection(status, newShippingMethods, newTotal, newLineItems );
			}
			session.onpaymentmethodselected = function(event) {
				logit('starting session.onpaymentmethodselected');
				logit(event);
				var newTotal = { type: 'final', label: 'Wired', amount: runningTotal() };
				var newLineItems =[{type: 'final',label: subTotalDescr, amount: runningAmount }];
				session.completePaymentMethodSelection( newTotal, newLineItems );
			}
			session.onpaymentauthorized = function (event) {
				logit('starting session.onpaymentauthorized');
				logit('NB: This is the first stage when you get the *full shipping address* of the customer, in the event.payment.shippingContact object');
				logit(event);
				var promise = sendPaymentToken(event.payment.token);
				promise.then(function (success) {
					var status;
					if (success){
						logit("success");
						status = ApplePaySession.STATUS_SUCCESS;
						window.location = next_url;
					} else {
						logit("failed");
						status = ApplePaySession.STATUS_FAILURE;
					}
					logit( "result of sendPaymentToken() function =  " + success );
					session.completePayment(status);
				}).catch(function(error) {
					status = ApplePaySession.STATUS_FAILURE;
					session.completePayment(status);
					alert(error);
				});
			}
			function sendPaymentToken(paymentToken) {
				return new Promise(function(resolve, reject) {
					logit('starting function sendPaymentToken()');
					logit(paymentToken);
					logit("this is where you would pass the payment token to your third-party payment provider to use the token to charge the card. Only if your provider tells you the payment was successful should you return a resolve(true) here. Otherwise reject;");
					logit("defaulting to resolve(true) here, just to show what a successfully completed transaction flow looks like");
					// Make call to transaction API here
					var ship_info = event.payment.shippingContact;
					var bill_info = event.payment.billingContact;
					var offer_term_selected = document.getElementsByName('offer_term')[0].value;
					var refSource = document.getElementsByName('referral_source')[0].value;
					if (bill_info.givenName != ship_info.givenName || bill_info.familyName != ship_info.familyName || bill_info.addressLines[0] != ship_info.addressLines[0]) {
						offer_term_selected = offer_term_selected.replace(/_0$/,"_1");
					}
					console.log(offer_term_selected);
					var subData = {
						payment_token: JSON.stringify(paymentToken),
						first_name: bill_info.givenName,
						last_name: bill_info.familyName,
						email: ship_info.emailAddress,
						address: bill_info.addressLines[0],
						address2: bill_info.addressLines[1],
						city: bill_info.locality,
						state: bill_info.administrativeArea,
						postal_code: bill_info.postalCode,
						country_code: bill_info.countryCode,
						ship_first_name: ship_info.givenName,
						ship_last_name: ship_info.familyName,
						ship_email: ship_info.emailAddress,
						ship_address: ship_info.addressLines[0],
						ship_address2: ship_info.addressLines[1],
						ship_city: ship_info.locality,
						ship_state: ship_info.administrativeArea,
						ship_postal_code: ship_info.postalCode,
						ship_country_code: ship_info.countryCode,
						pt_id: 11,
						offer_term: offer_term_selected,
						referral_source: refSource,
						offer_id: document.getElementsByName('offer_id')[0].value,
						host_offer_id: document.getElementsByName('host_offer_id')[0].value,
					};

					console.log(subData);
					console.log(uscode);
					console.log(subData.address+subData.address2+subData.city+subData.state+subData.postal_code+subData.country_code+subData.ship_first_name+subData.ship_last_name+subData.ship_email+subData.ship_address+subData.ship_address2+subData.ship_city+subData.ship_state+subData.ship_postal_code+subData.ship_country_code);
					console.log(subData.ship_first_name+subData.ship_last_name+subData.ship_email+subData.ship_address+subData.ship_address2+subData.ship_city+subData.ship_state+subData.ship_postal_code+subData.ship_country_code);
					logit(subData);

					
					if (uscode.toUpperCase() == $("select[name=country_code]").val().toUpperCase()) {
						$("#errordump").text(" ");
						$.ajax({
							type: "POST",
							url: "/api/circ/js/Transaction",
							data: subData,
							error: function(error) {
								logit("ERROR:"+JSON.stringify(error));
								reject("A server error has occurred");
							},
							success: function(response) {
								logit(response);
								orderObj = JSON.parse(response);
								if (orderObj.order_success == '') {
									var orderFailedError = "";
									if (typeof orderObj.order_failed[0] !== 'undefined' && typeof orderObj.order_failed[0].error !== 'undefined') {
										orderFailedError = orderObj.order_failed[0].error;
									} else {
										orderFailedError = orderObj.order_failed[0];
									}
									console.log("before"+orderFailedError);
									reject(orderFailedError);
									logit(orderFailedError);
									console.log("after"+orderFailedError);
								} else {
									next_url = orderObj.order_success[0].next_offer_url;
									resolve(true);
								}
							}
						});
					} else {
						$("#errordump").text(" ");
						
							reject("Please enter a "+$("select[name=country_code]").val()+  " shipping address");
						
					}
					logit("end");
 /*
					if ( debug == true )
					resolve(true);
					else
					reject;
*/
				});
			}
 
			session.oncancel = function(event) {
				logit('starting session.cancel');
				logit(event);
			}
			session.begin();
		};
	} catch(err) {
		console.log(err);
	}
	function logit(data){
         if (debug == true) {
			console.log(data);
        }
	};
		function changePay() {
			var cpUrl = 'https://' + location.host + location.pathname + '?changepay=1';
			var cpSource = getCookieCN("cnsource");
			var cpPosname = getCookieCN("cnposname");
			if (cpSource != null && cpSource != "") {
				cpUrl += '&source=' + cpSource;
			}
			if (cpPosname != null && cpPosname != "") {
				cpUrl += '&pos_name=' + cpPosname;
			}
			window.location.href = cpUrl;
		}
		$(document).on("click keypress",".changePayment", function(e) {
			var paneleventfilter = false;
			console.log(e.handleObj.origType);
			if (e.keyCode == '32'||  e.handleObj.origType == "click" || e.keyCode == '13') {
				paneleventfilter = true;
			}
			if (paneleventfilter == true) {
				changePay();
			}
		});
</script>
                    </div>
                </div>
				<script>
					jQuery(document).ready(function(){
						if (amazonflag == false) {
							$("#amazonpay-container").remove();
						} 
						if (paypalflag == false) {
							$("#ppcheckoutexpbutton").remove();
						}
						
							
						if (paypalflag == false && applepayflag == false) {
							$(".autoRenew").hide();
						}
					});
                </script>
                <div class="space15 ng-amazon-hide"></div>	
                <div class="nextgen-greyborder nextgen-epc-hide"></div>
            <div id="nextgen-step-4">
                <div class="sectionheadfont"><h2>STEP 4. <span>SHIPPING ADDRESS</span></h2></div>
                </div>
                    <!-- Gift Impulse Start-->
                    
<!-- FMC Donation Impulse beginning unless -->
		
			
				<div id="shippingaddressimpulse" class="sectionbox impulseOn">
                    <input type="hidden" name="add_offer_term" id="impulseofferterm" data-ngImpType="bundle" value="167247_1" disabled>
                        
					<div id="isImpulseholder">
						<div id="isImpulseCheck" data-isImpulse="false" role="button" tabindex="0" aria-pressed="false"><img id="nextgen-gift-impulse-check" src="https://subscribe.wired.com/circulation/wired/images/ng-radio-check-new.png" alt="" style="display: none;"></div>
						<div id="isImpulseCheckText">
								
									
										Yes, I would like to <span>gift one year of WIRED</span> <span class="int-digital-only" style="display:none;">digital only access</span> for just $<span id="giPrice">5</span>.
									
							
						</div>
					</div>
				</div>
				
					<div id="impulseFields" class="sectionbox">
						<div id="giftaddressheadImpulse">
							<h2>Enter Recipient Information</h2>
						</div>
						<div id="impulsefirstlast">
							<div class="flex">
								<div class="impulse-field-fn ng_required">
									<label for="impulse-ship-first-name">First Name
										<input type="text"   class="req"  id="impulse-ship-first-name" name="ship_first_name" aria-required="true" disabled>
                                    </label>
                                    <div class="errorcontainer" style="display:none;">
							            <span id="impulse-ship-first-name-error" class="output-message">First name cannot be empty.</span> 
						            </div>
								</div>
								<div class="impulse-field-top ng_required">
									<label for="impulse-ship-last-name">Last Name
										<input type="text"    class="req"  id="impulse-ship-last-name" name="ship_last_name" aria-required="true"  disabled >
                                    </label>
						<div class="errorcontainer" style="display:none;"><span id="impulse-ship-last-name-error" class="output-message">Last name cannot be empty.</span></div>        
								</div>
							</div>
                        </div>
                        <div id="impulseaddress">
							<div class="addressbox">

								
								<div class="ng_required">
									<label for="impulse-ship-address">Street Address
										<input type="text" class="req" id="impulse-ship-address" name="ship_address"  aria-required="true" disabled>
                                    </label>
                                    <div class="errorcontainer" style="display:none;"><span id="impulse-ship-address-error" class="output-message">Address cannot be empty.</span></div>
								</div>
								<div>
									<label for="impulse-ship-address2">Apt, Floor, Unit, etc. (optional) 
										<input type="text" id="impulse-ship-address2" name="ship_address2" aria-required="true" disabled>
									</label>
								</div>

											<div class="nextgen-impulse-country ng_required" id="impulse-country-container" style="display:none;">
											<label for="impulse-deliverto">Location</label>
											<select id="impulse-ship-country" name="ship_country_code"  class="ui search selection dropdown" disabled>
												<option value=""></option><option value="AF">Afghanistan</option>
													<option value="AL">Albania</option>
													<option value="DZ">Algeria</option>
													<option value="AD">Andorra</option>
													<option value="AO">Angola</option>
													<option value="AI">Anguilla</option>
													<option value="AQ">Antarctica</option>
													<option value="AG">Antigua and Barbuda</option>
													<option value="AR">Argentina</option>
													<option value="AM">Armenia</option>
													<option value="AW">Aruba</option>
													<option value="AU">Australia</option>
													<option value="AT">Austria</option>
													<option value="AZ">Azerbaijan</option>
													<option value="BS">Bahamas</option>
													<option value="BH">Bahrain</option>
													<option value="BD">Bangladesh</option>
													<option value="BB">Barbados</option>
													<option value="BY">Belarus</option>
													<option value="BE">Belgium</option>
													<option value="BZ">Belize</option>
													<option value="BJ">Benin</option>
													<option value="BM">Bermuda</option>
													<option value="BT">Bhutan</option>
													<option value="BO">Bolivia</option>
													<option value="BA">Bosnia-Herzegovina</option>
													<option value="BW">Botswana</option>
													<option value="BR">Brazil</option>
													<option value="VG">British Virgin Islands</option>
													<option value="BN">Brunei Darussalam</option>
													<option value="BG">Bulgaria</option>
													<option value="BF">Burkina Faso</option>
													<option value="BI">Burundi</option>
													<option value="KH">Cambodia</option>
													<option value="CM">Cameroon</option>
													<option value="CA">Canada</option>
													<option value="C3">Canary Islands</option>
													<option value="CV">Cape Verde</option>
													<option value="KY">Cayman Islands</option>
													<option value="CF">Central African Rep</option>
													<option value="TD">Chad</option>
													<option value="CL">Chile</option>
													<option value="CN">China Peoples Republic</option>
													<option value="CO">Colombia</option>
													<option value="KM">Comoros</option>
													<option value="CG">Congo</option>
													<option value="CD">Congo, The Democratic Republic of the</option>
													<option value="CK">Cook Islands</option>
													<option value="CR">Costa Rica</option>
													<option value="CI">Cote dIvoire</option>
													<option value="HR">Croatia</option>
													<option value="CY">Cyprus</option>
													<option value="CZ">Czech Republic</option>
													<option value="DK">Denmark</option>
													<option value="DJ">Djibouti</option>
													<option value="DM">Dominica</option>
													<option value="DO">Dominican Republic</option>
													<option value="EA">Easter Island</option>
													<option value="EC">Ecuador</option>
													<option value="EG">Egypt</option>
													<option value="SV">El Salvador</option>
													<option value="GQ">Equatorial Guinea</option>
													<option value="ER">Eritrea</option>
													<option value="EE">Estonia</option>
													<option value="ET">Ethiopia</option>
													<option value="FO">Faeroe Islands</option>
													<option value="FK">Falkland Islands</option>
													<option value="FJ">Fiji</option>
													<option value="FI">Finland</option>
													<option value="FR">France</option>
													<option value="PF">French Polynesia</option>
													<option value="GA">Gabon</option>
													<option value="GM">Gambia</option>
													<option value="GE">Georgia</option>
													<option value="DE">Germany</option>
													<option value="GI">Gibraltar</option>
													<option value="GR">Greece</option>
													<option value="GL">Greenland</option>
													<option value="GD">Grenada</option>
													<option value="GT">Guatemala</option>
													<option value="GN">Guinea</option>
													<option value="GW">Guinea-Bissau</option>
													<option value="GY">Guyana</option>
													<option value="HT">Haiti</option>
													<option value="HN">Honduras</option>
													<option value="HK">Hong Kong</option>
													<option value="HU">Hungary</option>
													<option value="IS">Iceland</option>
													<option value="IN">India</option>
													<option value="IE">Ireland</option>
													<option value="IM">Isle of Man</option>
													<option value="IL">Israel</option>
													<option value="IT">Italy</option>
													<option value="JM">Jamaica</option>
													<option value="JP">Japan</option>
													<option value="JO">Jordan</option>
													<option value="KZ">Kazakhstan</option>
													<option value="KE">Kenya</option>
													<option value="KI">Kiribati</option>
													<option value="KW">Kuwait</option>
													<option value="KG">Kyrgyzstan</option>
													<option value="LA">Laos</option>
													<option value="LV">Latvia</option>
													<option value="LB">Lebanon</option>
													<option value="LS">Lesotho</option>
													<option value="LR">Liberia</option>
													<option value="LI">Liechtenstein</option>
													<option value="LT">Lithuania</option>
													<option value="LU">Luxembourg</option>
													<option value="MO">Macao</option>
													<option value="MK">Macedonia</option>
													<option value="MG">Madagascar</option>
													<option value="MW">Malawi</option>
													<option value="MY">Malaysia</option>
													<option value="MV">Maldives</option>
													<option value="ML">Mali</option>
													<option value="MT">Malta</option>
													<option value="MH">Marshall Islands</option>
													<option value="MR">Mauritania</option>
													<option value="MU">Mauritius</option>
													<option value="MX">Mexico</option>
													<option value="FM">Micronesia</option>
													<option value="MD">Moldova, Republic of</option>
													<option value="MC">Monaco</option>
													<option value="MN">Mongolia</option>
													<option value="MS">Monserrat</option>
													<option value="ME">Montenegro</option>
													<option value="MA">Morocco</option>
													<option value="MZ">Mozambique</option>
													<option value="MM">Myanmar</option>
													<option value="NA">Namibia</option>
													<option value="NR">Nauru</option>
													<option value="NP">Nepal</option>
													<option value="NL">Netherlands</option>
													<option value="AN">Netherlands Antilles</option>
													<option value="NC">New Caledonia</option>
													<option value="NZ">New Zealand</option>
													<option value="NI">Nicaragua</option>
													<option value="NE">Niger</option>
													<option value="NF">Norfolk Island</option>
													<option value="NO">Norway</option>
													<option value="OM">Oman</option>
													<option value="PK">Pakistan</option>
													<option value="PA">Panama</option>
													<option value="PG">Papua New Guinea</option>
													<option value="PY">Paraguay</option>
													<option value="PE">Peru</option>
													<option value="PH">Philippines</option>
													<option value="PN">Pitcairn Islands</option>
													<option value="PL">Poland</option>
													<option value="PT">Portugal</option>
													<option value="QA">Qatar</option>
													<option value="KR">Repl of Korea</option>
													<option value="RE">Reunion</option>
													<option value="RO">Romania</option>
													<option value="RU">Russia</option>
													<option value="RW">Rwanda</option>
													<option value="SM">San Marino</option>
													<option value="ST">Sao Tome and Principe</option>
													<option value="SA">Saudi Arabia</option>
													<option value="SN">Senegal</option>
													<option value="RS">Serbia</option>
													<option value="SC">Seychelles</option>
													<option value="SL">Sierra Leone</option>
													<option value="SG">Singapore</option>
													<option value="SK">Slovak Republic</option>
													<option value="SI">Slovenia</option>
													<option value="SB">Solomon Islands</option>
													<option value="SO">Somalia</option>
													<option value="ZA">South Africa</option>
													<option value="ES">Spain</option>
													<option value="LK">Sri Lanka</option>
													<option value="SH">St Helena</option>
													<option value="KN">St Kitts-Nevis</option>
													<option value="LC">St Lucia</option>
													<option value="PM">St Pierre & Miquelon</option>
													<option value="VC">St Vincent & Grenadines</option>
													<option value="SR">Suriname</option>
													<option value="SZ">Swaziland</option>
													<option value="SE">Sweden</option>
													<option value="CH">Switzerland</option>
													<option value="TW">Taiwan</option>
													<option value="TJ">Tajikistan</option>
													<option value="TZ">Tanzania</option>
													<option value="TH">Thailand</option>
													<option value="TG">Togo</option>
													<option value="TO">Tonga</option>
													<option value="TT">Trinidad and Tobago</option>
													<option value="TN">Tunisia</option>
													<option value="TR">Turkey</option>
													<option value="TM">Turkmenistan</option>
													<option value="TC">Turks-Caicos Islands</option>
													<option value="TV">Tuvalu</option>
													<option value="UG">Uganda</option>
													<option value="UA">Ukraine</option>
													<option value="AE">United Arab Emirates</option>
													<option value="GB">United Kingdom</option>
													<option value="US">United States</option>
													<option value="UY">Uruguay</option>
													<option value="UZ">Uzbekistan</option>
													<option value="VU">Vanuatu</option>
													<option value="VA">Vatican City</option>
													<option value="VE">Venezuela</option>
													<option value="VI">Virgin Islands</option>
													<option value="WF">Wallis Futuna Islands</option>
													<option value="EH">Western Sahara</option>
													<option value="WS">Western Samoa</option>
													<option value="YE">Yemen</option>
													<option value="ZM">Zambia</option>
													<option value="ZW">Zimbabwe</option>
													
											</select>
											<div class="errorcontainer" style="display:none;"><span id="impulse-ship-country-error" class="output-message">Choose a location.</span></div>
											</div>
								<div class="flex flex-nowrap">
									<div class="ng_required">
										<label for="impulse-ship-city">City</label>
											<input type="text" class="req" id="impulse-ship-city" name="ship_city" aria-required="true" disabled>
                                        <div class="errorcontainer" style="display:none;"><span id="impulse-ship-city-error" class="output-message">City cannot be empty.</span></div>
									</div>
									<div class="ng_required" id="ng_imp_state">
										<label for="impulse-state-domestic" id="impulse-state-domestic-label"><span class="impulsestatelabel">State</span></label>
										<select type="text"  class="req ui search selection dropdown" id="impulse-state-domestic" name="ship_state" class="countryform"  aria-hidden="true" hidden disabled>
											<option value="">
											
												
													<option value="AL">
														AL
													</option>
												
												
												
											
												
													<option value="AK">
														AK
													</option>
												
												
												
											
												
													<option value="AZ">
														AZ
													</option>
												
												
												
											
												
													<option value="AR">
														AR
													</option>
												
												
												
											
												
													<option value="CA">
														CA
													</option>
												
												
												
											
												
													<option value="CO">
														CO
													</option>
												
												
												
											
												
													<option value="CT">
														CT
													</option>
												
												
												
											
												
													<option value="DE">
														DE
													</option>
												
												
												
											
												
													<option value="DC">
														DC
													</option>
												
												
												
											
												
													<option value="FL">
														FL
													</option>
												
												
												
											
												
													<option value="GA">
														GA
													</option>
												
												
												
											
												
													<option value="HI">
														HI
													</option>
												
												
												
											
												
													<option value="ID">
														ID
													</option>
												
												
												
											
												
													<option value="IL">
														IL
													</option>
												
												
												
											
												
													<option value="IN">
														IN
													</option>
												
												
												
											
												
													<option value="IA">
														IA
													</option>
												
												
												
											
												
													<option value="KS">
														KS
													</option>
												
												
												
											
												
													<option value="KY">
														KY
													</option>
												
												
												
											
												
													<option value="LA">
														LA
													</option>
												
												
												
											
												
													<option value="ME">
														ME
													</option>
												
												
												
											
												
													<option value="MD">
														MD
													</option>
												
												
												
											
												
													<option value="MA">
														MA
													</option>
												
												
												
											
												
													<option value="MI">
														MI
													</option>
												
												
												
											
												
													<option value="MN">
														MN
													</option>
												
												
												
											
												
													<option value="MS">
														MS
													</option>
												
												
												
											
												
													<option value="MO">
														MO
													</option>
												
												
												
											
												
													<option value="MT">
														MT
													</option>
												
												
												
											
												
													<option value="NE">
														NE
													</option>
												
												
												
											
												
													<option value="NV">
														NV
													</option>
												
												
												
											
												
													<option value="NH">
														NH
													</option>
												
												
												
											
												
													<option value="NJ">
														NJ
													</option>
												
												
												
											
												
													<option value="NM">
														NM
													</option>
												
												
												
											
												
													<option value="NY">
														NY
													</option>
												
												
												
											
												
													<option value="NC">
														NC
													</option>
												
												
												
											
												
													<option value="ND">
														ND
													</option>
												
												
												
											
												
													<option value="OH">
														OH
													</option>
												
												
												
											
												
													<option value="OK">
														OK
													</option>
												
												
												
											
												
													<option value="OR">
														OR
													</option>
												
												
												
											
												
													<option value="PA">
														PA
													</option>
												
												
												
											
												
													<option value="RI">
														RI
													</option>
												
												
												
											
												
													<option value="SC">
														SC
													</option>
												
												
												
											
												
													<option value="SD">
														SD
													</option>
												
												
												
											
												
													<option value="TN">
														TN
													</option>
												
												
												
											
												
													<option value="TX">
														TX
													</option>
												
												
												
											
												
													<option value="UT">
														UT
													</option>
												
												
												
											
												
													<option value="VT">
														VT
													</option>
												
												
												
											
												
													<option value="VA">
														VA
													</option>
												
												
												
											
												
													<option value="WA">
														WA
													</option>
												
												
												
											
												
													<option value="WV">
														WV
													</option>
												
												
												
											
												
													<option value="WI">
														WI
													</option>
												
												
												
											
												
													<option value="WY">
														WY
													</option>
												
												
												
											
												
												
												
													<option value="AA">AA</option>
												
											
												
												
												
													<option value="AE">AE</option>
												
											
												
												
												
													<option value="AP">AP</option>
												
											
												
												
													
												
												
											
												
												
													
												
												
											
												
												
													
												
												
											
												
												
													
												
												
											
												
												
													
														<option value="PR">
															PR
														</option>
													
												
												
											
												
												
													
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
												
												
												
											
                                        </select>
				
									<label for="impulse-state-canada" id="impulse-state-canada-label" style="display:none;"> <span class="impulsestatelabel">Province</span> </label>
									<select type="text" class="req ui search selection dropdown" id="impulse-state-canada" name="ship_state" class="countryform req" disabled style="display:none" aria-hidden="true" hidden>
										<option value=""></option>
										<option value="AB">AB</option>
										<option value="BC">BC</option>
										<option value="MB">MB</option>
										<option value="NB">NB</option>
										<option value="NL">NL</option>
										<option value="NS">NS</option>
										<option value="ON">ON</option>
										<option value="PE">PE</option>
										<option value="QC">QC</option>
										<option value="SK">SK</option>
										<option value="NT">NT</option>
										<option value="NU">NU</option>
										<option value="YT">YT</option>
									</select>
									<label for="impulse-state-international" id="impulse-state-international-label" style="display:none;"> <span class="impulsestatelabel">Province</span> </label>
									<input type="text" id="impulse-state-international" class="countryform" name="ship_state" disabled style="display:none;">
							
                                        <div class="errorcontainer" style="display:none;"><span id="impulse-ship-state-error" class="output-message">State cannot be empty.</span></div>
									</div>
									<div class="ng_required">
										<label for="impulse-ship-postal-code">Zip</label>
											<input type="text" class="req" id="impulse-ship-postal-code" name="ship_postal_code" disabled>
                                        <div class="errorcontainer" style="display:none;"><span id="impulse-ship-postal-code-error" class="output-message">Zip cannot be empty.</span></div>
                                    </div>
                                    </div>
                        <div class="impulse-field-top ng_required">
								<label for="impulse-ship-email">Recipient Email
									<input type="text"   class="req" id="impulse-ship-email" name="ship_email"  aria-required="true" disabled  >
                                </label>
                                <div class="errorcontainer" style="display:none;">
							<span id="impulse-ship-email-error" class="output-message">Email cannot be empty</span> 
							<span id="impulse-ship-email-invaliderror" class="output-message">Please enter a valid email</span> 
						    </div>
								<div id="impulse-giftprivacytext" style="margin-bottom:20px;">Will be used in accordance with our <a href="https://www.condenast.com/user-agreement" target="_blank">User Agreement</a> and <a href="https://www.condenast.com/privacy-policy" target="_blank">Privacy Policy</a></div>
                        </div>
                        </div>
                    </div>
					</div>
				
			
		
			
		
<!-- FMC Donation Impulse End unless -->

<!-- Gift Impulse End-->

<div id="yourinformation" class="sectionbox">
				<div id="yourinformationtext"><h2>Enter Your Information</h2></div>
				<div class="flex">
					<div class="ng_required">
						<label for="bill-first-name">First Name<input type="text" class="req" id="bill-first-name" name="first_name" aria-required="true"></label>
						<div class="errorcontainer"><span id="bill-first-name-error" class="output-message">Please enter first name</span></div>
					</div>
					<div class="ng_required ng-flex-last">
						<label for="bill-last-name">Last Name<input type="text" class="req"  id="bill-last-name" name="last_name" aria-required="true"></label>
						<div class="errorcontainer"><span id="bill-last-name-error" class="output-message">Please enter last name</span></div>
					</div>
                </div>
                <div id="nextgen-self-shipping"></div>
				<div class="ng_required">
					<label for="bill-email"><span id="nextgen-bill-email">Email</span><input type="text"   class="req"  id="bill-email" name="email" aria-required="true" > </label>
					<div class="errorcontainer"><span id="bill-email-error" class="output-message">Email cannot be empty</span> <span id="bill-email-invaliderror" class="output-message">Please enter a valid email</span> </div>
					<div id="privacytext">Will be used in accordance with our <a href="https://www.condenast.com/user-agreement" target="_blank">User Agreement</a> and <a href="https://www.condenast.com/privacy-policy" target="_blank">Privacy Policy</a></div>

				
					
                </div>
                
				<fieldset id="billingaddress">
					<div class="addressbox">
						<div class="ship-country-dropdown ng_required">
							<label for="bill-country">Location</label>
							<select id="bill-country" class=" ui search selection dropdown"   name="country_code" autocomplete="new-user-bill-county" aria-hidden="true" hidden>
								<option>Select Location</option>
								
									<option value="AF" >Afghanistan</option>
								
									<option value="AL" >Albania</option>
								
									<option value="DZ" >Algeria</option>
								
									<option value="AD" >Andorra</option>
								
									<option value="AO" >Angola</option>
								
									<option value="AI" >Anguilla</option>
								
									<option value="AQ" >Antarctica</option>
								
									<option value="AG" >Antigua and Barbuda</option>
								
									<option value="AR" >Argentina</option>
								
									<option value="AM" >Armenia</option>
								
									<option value="AW" >Aruba</option>
								
									<option value="AU" >Australia</option>
								
									<option value="AT" >Austria</option>
								
									<option value="AZ" >Azerbaijan</option>
								
									<option value="BS" >Bahamas</option>
								
									<option value="BH" >Bahrain</option>
								
									<option value="BD" >Bangladesh</option>
								
									<option value="BB" >Barbados</option>
								
									<option value="BY" >Belarus</option>
								
									<option value="BE" >Belgium</option>
								
									<option value="BZ" >Belize</option>
								
									<option value="BJ" >Benin</option>
								
									<option value="BM" >Bermuda</option>
								
									<option value="BT" >Bhutan</option>
								
									<option value="BO" >Bolivia</option>
								
									<option value="BA" >Bosnia-Herzegovina</option>
								
									<option value="BW" >Botswana</option>
								
									<option value="BR" >Brazil</option>
								
									<option value="VG" >British Virgin Islands</option>
								
									<option value="BN" >Brunei Darussalam</option>
								
									<option value="BG" >Bulgaria</option>
								
									<option value="BF" >Burkina Faso</option>
								
									<option value="BI" >Burundi</option>
								
									<option value="KH" >Cambodia</option>
								
									<option value="CM" >Cameroon</option>
								
									<option value="CA" >Canada</option>
								
									<option value="C3" >Canary Islands</option>
								
									<option value="CV" >Cape Verde</option>
								
									<option value="KY" >Cayman Islands</option>
								
									<option value="CF" >Central African Rep</option>
								
									<option value="TD" >Chad</option>
								
									<option value="CL" >Chile</option>
								
									<option value="CN" >China Peoples Republic</option>
								
									<option value="CO" >Colombia</option>
								
									<option value="KM" >Comoros</option>
								
									<option value="CG" >Congo</option>
								
									<option value="CD" >Congo, The Democratic Republic of the</option>
								
									<option value="CK" >Cook Islands</option>
								
									<option value="CR" >Costa Rica</option>
								
									<option value="CI" >Cote dIvoire</option>
								
									<option value="HR" >Croatia</option>
								
									<option value="CY" >Cyprus</option>
								
									<option value="CZ" >Czech Republic</option>
								
									<option value="DK" >Denmark</option>
								
									<option value="DJ" >Djibouti</option>
								
									<option value="DM" >Dominica</option>
								
									<option value="DO" >Dominican Republic</option>
								
									<option value="EA" >Easter Island</option>
								
									<option value="EC" >Ecuador</option>
								
									<option value="EG" >Egypt</option>
								
									<option value="SV" >El Salvador</option>
								
									<option value="GQ" >Equatorial Guinea</option>
								
									<option value="ER" >Eritrea</option>
								
									<option value="EE" >Estonia</option>
								
									<option value="ET" >Ethiopia</option>
								
									<option value="FO" >Faeroe Islands</option>
								
									<option value="FK" >Falkland Islands</option>
								
									<option value="FJ" >Fiji</option>
								
									<option value="FI" >Finland</option>
								
									<option value="FR" >France</option>
								
									<option value="PF" >French Polynesia</option>
								
									<option value="GA" >Gabon</option>
								
									<option value="GM" >Gambia</option>
								
									<option value="GE" >Georgia</option>
								
									<option value="DE" >Germany</option>
								
									<option value="GI" >Gibraltar</option>
								
									<option value="GR" >Greece</option>
								
									<option value="GL" >Greenland</option>
								
									<option value="GD" >Grenada</option>
								
									<option value="GT" >Guatemala</option>
								
									<option value="GN" >Guinea</option>
								
									<option value="GW" >Guinea-Bissau</option>
								
									<option value="GY" >Guyana</option>
								
									<option value="HT" >Haiti</option>
								
									<option value="HN" >Honduras</option>
								
									<option value="HK" >Hong Kong</option>
								
									<option value="HU" >Hungary</option>
								
									<option value="IS" >Iceland</option>
								
									<option value="IN" >India</option>
								
									<option value="IE" >Ireland</option>
								
									<option value="IM" >Isle of Man</option>
								
									<option value="IL" >Israel</option>
								
									<option value="IT" >Italy</option>
								
									<option value="JM" >Jamaica</option>
								
									<option value="JP" >Japan</option>
								
									<option value="JO" >Jordan</option>
								
									<option value="KZ" >Kazakhstan</option>
								
									<option value="KE" >Kenya</option>
								
									<option value="KI" >Kiribati</option>
								
									<option value="KW" >Kuwait</option>
								
									<option value="KG" >Kyrgyzstan</option>
								
									<option value="LA" >Laos</option>
								
									<option value="LV" >Latvia</option>
								
									<option value="LB" >Lebanon</option>
								
									<option value="LS" >Lesotho</option>
								
									<option value="LR" >Liberia</option>
								
									<option value="LI" >Liechtenstein</option>
								
									<option value="LT" >Lithuania</option>
								
									<option value="LU" >Luxembourg</option>
								
									<option value="MO" >Macao</option>
								
									<option value="MK" >Macedonia</option>
								
									<option value="MG" >Madagascar</option>
								
									<option value="MW" >Malawi</option>
								
									<option value="MY" >Malaysia</option>
								
									<option value="MV" >Maldives</option>
								
									<option value="ML" >Mali</option>
								
									<option value="MT" >Malta</option>
								
									<option value="MH" >Marshall Islands</option>
								
									<option value="MR" >Mauritania</option>
								
									<option value="MU" >Mauritius</option>
								
									<option value="MX" >Mexico</option>
								
									<option value="FM" >Micronesia</option>
								
									<option value="MD" >Moldova, Republic of</option>
								
									<option value="MC" >Monaco</option>
								
									<option value="MN" >Mongolia</option>
								
									<option value="MS" >Monserrat</option>
								
									<option value="ME" >Montenegro</option>
								
									<option value="MA" >Morocco</option>
								
									<option value="MZ" >Mozambique</option>
								
									<option value="MM" >Myanmar</option>
								
									<option value="NA" >Namibia</option>
								
									<option value="NR" >Nauru</option>
								
									<option value="NP" >Nepal</option>
								
									<option value="NL" >Netherlands</option>
								
									<option value="AN" >Netherlands Antilles</option>
								
									<option value="NC" >New Caledonia</option>
								
									<option value="NZ" >New Zealand</option>
								
									<option value="NI" >Nicaragua</option>
								
									<option value="NE" >Niger</option>
								
									<option value="NF" >Norfolk Island</option>
								
									<option value="NO" >Norway</option>
								
									<option value="OM" >Oman</option>
								
									<option value="PK" >Pakistan</option>
								
									<option value="PA" >Panama</option>
								
									<option value="PG" >Papua New Guinea</option>
								
									<option value="PY" >Paraguay</option>
								
									<option value="PE" >Peru</option>
								
									<option value="PH" >Philippines</option>
								
									<option value="PN" >Pitcairn Islands</option>
								
									<option value="PL" >Poland</option>
								
									<option value="PT" >Portugal</option>
								
									<option value="QA" >Qatar</option>
								
									<option value="KR" >Repl of Korea</option>
								
									<option value="RE" >Reunion</option>
								
									<option value="RO" >Romania</option>
								
									<option value="RU" >Russia</option>
								
									<option value="RW" >Rwanda</option>
								
									<option value="SM" >San Marino</option>
								
									<option value="ST" >Sao Tome and Principe</option>
								
									<option value="SA" >Saudi Arabia</option>
								
									<option value="SN" >Senegal</option>
								
									<option value="RS" >Serbia</option>
								
									<option value="SC" >Seychelles</option>
								
									<option value="SL" >Sierra Leone</option>
								
									<option value="SG" >Singapore</option>
								
									<option value="SK" >Slovak Republic</option>
								
									<option value="SI" >Slovenia</option>
								
									<option value="SB" >Solomon Islands</option>
								
									<option value="SO" >Somalia</option>
								
									<option value="ZA" >South Africa</option>
								
									<option value="ES" >Spain</option>
								
									<option value="LK" >Sri Lanka</option>
								
									<option value="SH" >St Helena</option>
								
									<option value="KN" >St Kitts-Nevis</option>
								
									<option value="LC" >St Lucia</option>
								
									<option value="PM" >St Pierre & Miquelon</option>
								
									<option value="VC" >St Vincent & Grenadines</option>
								
									<option value="SR" >Suriname</option>
								
									<option value="SZ" >Swaziland</option>
								
									<option value="SE" >Sweden</option>
								
									<option value="CH" >Switzerland</option>
								
									<option value="TW" >Taiwan</option>
								
									<option value="TJ" >Tajikistan</option>
								
									<option value="TZ" >Tanzania</option>
								
									<option value="TH" >Thailand</option>
								
									<option value="TG" >Togo</option>
								
									<option value="TO" >Tonga</option>
								
									<option value="TT" >Trinidad and Tobago</option>
								
									<option value="TN" >Tunisia</option>
								
									<option value="TR" >Turkey</option>
								
									<option value="TM" >Turkmenistan</option>
								
									<option value="TC" >Turks-Caicos Islands</option>
								
									<option value="TV" >Tuvalu</option>
								
									<option value="UG" >Uganda</option>
								
									<option value="UA" >Ukraine</option>
								
									<option value="AE" >United Arab Emirates</option>
								
									<option value="GB" >United Kingdom</option>
								
									<option value="US"  selected>United States</option>
								
									<option value="UY" >Uruguay</option>
								
									<option value="UZ" >Uzbekistan</option>
								
									<option value="VU" >Vanuatu</option>
								
									<option value="VA" >Vatican City</option>
								
									<option value="VE" >Venezuela</option>
								
									<option value="VI" >Virgin Islands</option>
								
									<option value="WF" >Wallis Futuna Islands</option>
								
									<option value="EH" >Western Sahara</option>
								
									<option value="WS" >Western Samoa</option>
								
									<option value="YE" >Yemen</option>
								
									<option value="ZM" >Zambia</option>
								
									<option value="ZW" >Zimbabwe</option>
								
							</select>
							<div class="errorcontainer"><span id="bill-country-error" class="output-message">Please select a location</span></div>
						</div>
						<div class="ng_required">
							<label for="bill-address">Street Address<input type="text" class="req" id="bill-address" name="address" aria-required="true" placeholder="Street address, company name, etc."></label>
							<div class="errorcontainer"> <span id="bill-address-error" class="output-message">Please enter a valid address</span> </div>
						</div>
						<div>
							<label for="bill-address2">Apt, Floor, Unit, etc. (optional)<input type="text" id="bill-address2" name="address2" placeholder="Apartment, suite, floor, etc."></label>
						</div>
						<div class="flex nextgen-yourinfo-flex">
							<div class="ng_required">
								<label for="bill-city">City<input type="text" class="req" id="bill-city" name="city" aria-required="true"></label>
								<div class="errorcontainer"><span id="bill-city-error" class="output-message">Please enter city</span></div>
							</div>
							<div class="ng_required">
								<div>
									<label for="bill-state-domestic" id="bill-state-domestic-label"><span class="billstatelabel">State</span> </label>
									<select type="text" class="req ui search selection dropdown " id="bill-state-domestic" name="state" class="countryform" data-billname="bill_state" data-billname="state" aria-required="true" aria-hidden="true" hidden>
										<option value="">
										
											
												<option value="AL">AL</option>
											
											
											
										
											
												<option value="AK">AK</option>
											
											
											
										
											
												<option value="AZ">AZ</option>
											
											
											
										
											
												<option value="AR">AR</option>
											
											
											
										
											
												<option value="CA">CA</option>
											
											
											
										
											
												<option value="CO">CO</option>
											
											
											
										
											
												<option value="CT">CT</option>
											
											
											
										
											
												<option value="DE">DE</option>
											
											
											
										
											
												<option value="DC">DC</option>
											
											
											
										
											
												<option value="FL">FL</option>
											
											
											
										
											
												<option value="GA">GA</option>
											
											
											
										
											
												<option value="HI">HI</option>
											
											
											
										
											
												<option value="ID">ID</option>
											
											
											
										
											
												<option value="IL">IL</option>
											
											
											
										
											
												<option value="IN">IN</option>
											
											
											
										
											
												<option value="IA">IA</option>
											
											
											
										
											
												<option value="KS">KS</option>
											
											
											
										
											
												<option value="KY">KY</option>
											
											
											
										
											
												<option value="LA">LA</option>
											
											
											
										
											
												<option value="ME">ME</option>
											
											
											
										
											
												<option value="MD">MD</option>
											
											
											
										
											
												<option value="MA">MA</option>
											
											
											
										
											
												<option value="MI">MI</option>
											
											
											
										
											
												<option value="MN">MN</option>
											
											
											
										
											
												<option value="MS">MS</option>
											
											
											
										
											
												<option value="MO">MO</option>
											
											
											
										
											
												<option value="MT">MT</option>
											
											
											
										
											
												<option value="NE">NE</option>
											
											
											
										
											
												<option value="NV">NV</option>
											
											
											
										
											
												<option value="NH">NH</option>
											
											
											
										
											
												<option value="NJ">NJ</option>
											
											
											
										
											
												<option value="NM">NM</option>
											
											
											
										
											
												<option value="NY">NY</option>
											
											
											
										
											
												<option value="NC">NC</option>
											
											
											
										
											
												<option value="ND">ND</option>
											
											
											
										
											
												<option value="OH">OH</option>
											
											
											
										
											
												<option value="OK">OK</option>
											
											
											
										
											
												<option value="OR">OR</option>
											
											
											
										
											
												<option value="PA">PA</option>
											
											
											
										
											
												<option value="RI">RI</option>
											
											
											
										
											
												<option value="SC">SC</option>
											
											
											
										
											
												<option value="SD">SD</option>
											
											
											
										
											
												<option value="TN">TN</option>
											
											
											
										
											
												<option value="TX">TX</option>
											
											
											
										
											
												<option value="UT">UT</option>
											
											
											
										
											
												<option value="VT">VT</option>
											
											
											
										
											
												<option value="VA">VA</option>
											
											
											
										
											
												<option value="WA">WA</option>
											
											
											
										
											
												<option value="WV">WV</option>
											
											
											
										
											
												<option value="WI">WI</option>
											
											
											
										
											
												<option value="WY">WY</option>
											
											
											
										
											
											
											
												<option value="AA">AA</option>
											
										
											
											
											
												<option value="AE">AE</option>
											
										
											
											
											
												<option value="AP">AP</option>
											
										
											
											
												
											
											
										
											
											
												
											
											
										
											
											
												
											
											
										
											
											
												
											
											
										
											
											
												
													<option value="PR">PR</option>
												
											
											
										
											
											
												
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
											
											
											
										
									</select>
								</div>
								<div>
									<label for="bill-state-canada" id="bill-state-canada-label"> <span class="billstatelabel">State</span> </label>
									<select type="text" class="req ui search selection dropdown" id="bill-state-canada" name="state" class="countryform req" disabled style="display:none !important;" aria-hidden="true" hidden>
										<option value=""></option>
										<option value="AB">AB</option>
										<option value="BC">BC</option>
										<option value="MB">MB</option>
										<option value="NB">NB</option>
										<option value="NL">NL</option>
										<option value="NS">NS</option>
										<option value="ON">ON</option>
										<option value="PE">PE</option>
										<option value="QC">QC</option>
										<option value="SK">SK</option>
										<option value="NT">NT</option>
										<option value="NU">NU</option>
										<option value="YT">YT</option>
									</select>
								</div>
								<div>
									<label for="bill-state-international" id="bill-state-international-label" style="display:none;"> <span class="billstatelabel">State</span> </label>
									<input type="text" id="bill-state-international" class="countryform req" name="state" disabled style="display:none;">
                                </div>
                                <div class="errorcontainer"><span id="bill-state-error" class="output-message">Please select state</span></div>
							</div>
							<div class="ng_required">
								<label for="bill-zip-domestic" id="bill-zip-domestic">Zip</label>
								<label for="bill-zip-canada" id="bill-zip-canada" style="display:none;">Postal Code</label>
								<label for="bill-zip-international" id="bill-zip-international" style="display:none;">Postal Code</label>
								<input type="text" class="req" id="bill-postal-code" name="postal_code">
								<div class="errorcontainer"><span id="bill-postal-code-error" class="output-message">Please enter code</span></div>
							</div>
						</div>
					</div>
				</fieldset>
            </div>
			<div id="shippingaddress" class="sectionbox">
				<div id="ng-addressbox" class="addressbox">
					<div id="shipcountrycontainer">
                        <label for="ship-country">Location<input type="text" id="ship-country" class="req" readonly value="United States"></label>
                        <div class="ng-change-ship-country">Change</div>
					</div>
					
					<div class="ng_required">
						<label for="ship-address">Street Address<input type="text" class="req" id="ship-address" name="ship_address" data-shipname="ship_address" data-billname="address" aria-required="true" autocomplete="off"></label>
						<div class="errorcontainer"><span id="ship-address-error" class="output-message">Please enter a valid address</span></div>
					</div>
					<div>
						<label for="ship-address2">Apt, Floor, Unit, etc. (optional) <input type="text" id="ship-address2" name="address2" data-shipname="ship_address2" data-billname="address2" aria-required="true"></label>
					</div>
					<div class="flex flex-nowrap">
						<div class="ng_required">
							<label for="ship-city">City<input type="text" class="req" id="ship-city" name="ship_city" data-shipname="ship_city" data-billname="city" aria-required="true"></label>
							<div class="errorcontainer"> <span id="ship-city-error" class="output-message">Please enter city</span></div>
						</div>
						<div class="ng_required">
							<div>
								<label for="ship-state-domestic" id="ship-state-domestic-label"><span class="shipstatelabel">State</span></label>
								<select type="text" class="req ui search selection dropdown" id="ship-state-domestic" name="ship_state" class="countryform" data-shipname="ship_state" data-billname="state" aria-hidden="true" hidden>
									<option value="">
									
										
											<option value="AL">AL</option>
										
										
										
									
										
											<option value="AK">AK</option>
										
										
										
									
										
											<option value="AZ">AZ</option>
										
										
										
									
										
											<option value="AR">AR</option>
										
										
										
									
										
											<option value="CA">CA</option>
										
										
										
									
										
											<option value="CO">CO</option>
										
										
										
									
										
											<option value="CT">CT</option>
										
										
										
									
										
											<option value="DE">DE</option>
										
										
										
									
										
											<option value="DC">DC</option>
										
										
										
									
										
											<option value="FL">FL</option>
										
										
										
									
										
											<option value="GA">GA</option>
										
										
										
									
										
											<option value="HI">HI</option>
										
										
										
									
										
											<option value="ID">ID</option>
										
										
										
									
										
											<option value="IL">IL</option>
										
										
										
									
										
											<option value="IN">IN</option>
										
										
										
									
										
											<option value="IA">IA</option>
										
										
										
									
										
											<option value="KS">KS</option>
										
										
										
									
										
											<option value="KY">KY</option>
										
										
										
									
										
											<option value="LA">LA</option>
										
										
										
									
										
											<option value="ME">ME</option>
										
										
										
									
										
											<option value="MD">MD</option>
										
										
										
									
										
											<option value="MA">MA</option>
										
										
										
									
										
											<option value="MI">MI</option>
										
										
										
									
										
											<option value="MN">MN</option>
										
										
										
									
										
											<option value="MS">MS</option>
										
										
										
									
										
											<option value="MO">MO</option>
										
										
										
									
										
											<option value="MT">MT</option>
										
										
										
									
										
											<option value="NE">NE</option>
										
										
										
									
										
											<option value="NV">NV</option>
										
										
										
									
										
											<option value="NH">NH</option>
										
										
										
									
										
											<option value="NJ">NJ</option>
										
										
										
									
										
											<option value="NM">NM</option>
										
										
										
									
										
											<option value="NY">NY</option>
										
										
										
									
										
											<option value="NC">NC</option>
										
										
										
									
										
											<option value="ND">ND</option>
										
										
										
									
										
											<option value="OH">OH</option>
										
										
										
									
										
											<option value="OK">OK</option>
										
										
										
									
										
											<option value="OR">OR</option>
										
										
										
									
										
											<option value="PA">PA</option>
										
										
										
									
										
											<option value="RI">RI</option>
										
										
										
									
										
											<option value="SC">SC</option>
										
										
										
									
										
											<option value="SD">SD</option>
										
										
										
									
										
											<option value="TN">TN</option>
										
										
										
									
										
											<option value="TX">TX</option>
										
										
										
									
										
											<option value="UT">UT</option>
										
										
										
									
										
											<option value="VT">VT</option>
										
										
										
									
										
											<option value="VA">VA</option>
										
										
										
									
										
											<option value="WA">WA</option>
										
										
										
									
										
											<option value="WV">WV</option>
										
										
										
									
										
											<option value="WI">WI</option>
										
										
										
									
										
											<option value="WY">WY</option>
										
										
										
									
										
										
										<option value="AA">AA</option>
									
										
										
										<option value="AE">AE</option>
									
										
										
										<option value="AP">AP</option>
									
										
										
											
										
										
									
										
										
											
										
										
									
										
										
											
										
										
									
										
										
											
										
										
									
										
										
											<option value="PR">PR</option>
										
										
									
										
										
											
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
										
										
										
									
								</select>
							</div>
							<div>
								<label for="ship-state-canada" id="ship-state-canada-label" style="display:none;"><span class="shipstatelabel">State</span></label>
								<select type="text" class="req ui search selection dropdown"  id="ship-state-canada" name="ship_state" class="countryform" disabled data-shipname="ship_state" data-billname="state" style="display:none !important;" aria-hidden="true" hidden>
									<option value=""></option>
									<option value="AB">AB</option>
									<option value="BC">BC</option>
									<option value="MB">MB</option>
									<option value="NB">NB</option>
									<option value="NL">NL</option>
									<option value="NS">NS</option>
									<option value="ON">ON</option>
									<option value="PE">PE</option>
									<option value="QC">QC</option>
									<option value="SK">SK</option>
									<option value="NT">NT</option>
									<option value="NU">NU</option>
									<option value="YT">YT</option>
								</select>
							</div>
							<div>
								<label for="ship-state-international" id="ship-state-international-label" style="display:none;"> <span class="shipstatelabel">State</span></label>
								<input type="text" id="ship-state-international" class="countryform" name="ship_state" disabled data-shipname="ship_state" data-billname="state" style="display:none;">
                        </div>
                        <div class="errorcontainer"> <span id="ship-state-error" class="output-message">Please select state</span></div>
					</div>
						<div class="ng_required">
							<label for="ship-zip-domestic" id="ship-zip-domestic">Zip</label>
							<label for="ship-zip-canada" id="ship-zip-canada" style="display:none;">Postal Code</label>
							<label for="ship-zip-international" id="ship-zip-international" style="display:none;">Postal Code</label>
							<input type="text" class="req" id="ship-postal-code" name="ship_postal_code" data-shipname="ship_postal_code" data-billname="postal_code" value="">
								<div class="errorcontainer"> <span id="ship-postal-code-error" class="output-message">Please enter code</span></div>
						</div>
					
					</div>
				</div>
			</div>
        <div class="nextgen-greyborder nextgen-epc-hide2 ng-mobile-hide"></div>

	<div id="ordersummary" class="sectionbox">
	    <div id="ordersumtext" class="sectionheadfont">
            <h2>STEP 5. Review and Submit</h2>
                <div class="nextgen-cancel-text-1">
		 <p>You may cancel at any time.</p>	
		</div>

     

		</div>
		<div class="flex-container">
			<div class="column" id="itemsummarydesc"></div>
			<div class="column" id="itemprice">$0.00</div>
		</div>
		
		
		<div id="impulsesummary" class="flex-container impulseOff">
			<div class="column" id="impulseummarydesc"></div>
			<div class="column" id="impulseprice"></div>
		</div>
		
			<div class="flex-container">
				<div id="shiphandtext" class="column">
					<p>Shipping & Handling</p>
				</div>
				<div class="column" id="shipcost">Free</div>
			</div>
		
		<div id="estimatetotalborder"></div>
		<div class="flex-container">
			<div id="estimatetotalcol" class="column">
				<p><strong>Total Billed</strong></p></div>
				<div id="totalalign" class="column">
				<div id="total">$0.00</div>
				<div id="mousetax">+ sales tax</div>
			</div>
		</div>
	</div>


	<div class="space10 ng-amazon-hide ng-mobile-hide"></div>
		<!--AR-Preview-->


    <div id="autorenewal" class="sectionbox gift-off">
        



    <!--NextGen Order Forms-->
    <style>
    #renewallaw{ font-size: 12px;  line-height: 1.58; text-align: left;  color: #666; font-weight: 500; margin-bottom: 25px;}
    #aragreement{ -webkit-appearance: checkbox;  -moz-appearance: checkbox;  appearance: checkbox;  width: 15px; height: 15px;  padding: 0px;  margin-top: 0px;  margin-right: 5px; margin-bottom: 0px;  margin-left: 0px;}
    </style>
<div id="renewallaw" style="display:none;">
        <input id="aragreement" name="ar-agreement" type="checkbox" aria-required="true" value="" />
        <span>Please confirm that you agree with our Subscriber Auto Renewal Feature below.</span>
        <div class="errorcontainer" style="display:none;"> <span id="aragreement-error" class="output-message">Please confirm the Subscriber Auto Renewal Feature below.</span> </div>
      </div>
<script>
jQuery(document).ready(function ($) {
jQuery("#aragreement").prop('disabled', true);
jQuery("[name='state']").change(function () {
    if(jQuery("#aragreement").is(':checked')){
        $("#aragreement").trigger("click");
    }
    if (jQuery(this).val() == 'VT') {
        jQuery("#renewallaw").addClass("autoRenew");
        jQuery("#aragreement").addClass("req");
        jQuery("#renewallaw").show();
        jQuery("#aragreement").prop('disabled', false);

        jQuery("#aragreement").on("click.validaterenew, keypress.validaterenew", function (e) {
            if (jQuery("#aragreement").is(':checked')) {
                jQuery(".errorcontainer").hide(); // checked
                jQuery("#aragreement").removeClass("errorinput");
                jQuery("#aragreement-error").removeClass("error");
                 jQuery("#aragreement-error").hide();
                jQuery("#aragreement").removeClass("req");
            } else {
                jQuery(".errorcontainer").show(); // unchecked
                jQuery("#aragreement-error").addClass("error");
                jQuery("#aragreement-error").show();
                jQuery("#aragreement").addClass("req");
                jQuery("#aragreement").addClass("errorinput");
            }
        });

    } else {
        jQuery("#renewallaw").hide();
        jQuery("#aragreement").removeClass("req");
        jQuery("#aragreement").prop('disabled', true);
        jQuery("#aragreement").removeClass("errorinput");
        jQuery("#aragreement-error").removeClass("error");
        // jQuery("#aragreement-error").hide();
    }
});

jQuery("#placeorder.button").on("click.validatestate, keypress.validatestate", function (e) {
    if (jQuery("[name='state']").val() == 'VT') {
        jQuery("#renewallaw").addClass("autoRenew");
        jQuery("#aragreement").addClass("req");
        jQuery("#renewallaw").show();
        jQuery("#aragreement").prop('disabled', false);

        if (jQuery("#aragreement").is(':checked')) {
            jQuery(".errorcontainer").hide(); // checked
            jQuery("#aragreement").removeClass("errorinput");
            jQuery("#aragreement-error").removeClass("error");
             jQuery("#aragreement-error").hide();
            jQuery("#aragreement").removeClass("req");
        } else {
            jQuery(".errorcontainer").show(); // unchecked
            jQuery("#aragreement-error").addClass("error");
             jQuery("#aragreement-error").show();
            jQuery("#aragreement").addClass("req");
            jQuery("#aragreement").addClass("errorinput");
        }
    }
});
});
</script>
  
	  

	





	



        <div id="autoheader">
            <p style="font-size: 14px;">Automatic Renewal:</p>
        </div>
        <div id="autotext">
            <p>Your subscription will <strong>automatically renew</strong> for one year. Before each renewal, we will send a reminder with the term and rate then in effect (<em>current rates listed above</em>). If you do nothing, we will charge the payment method you selected. To cancel at any time, contact customer service as shown below to receive a full refund for all unserved issues.</p>
            <br>
        <p>By subscribing you agree to Automatic Renewal as described above, our <a href="https://www.condenast.com/user-agreement" target="_blank">User Agreement</a>, and <a href="https://www.condenast.com/privacy-policy" target="_blank">Privacy Policy &amp; Cookie Statement</a>.</p>
        </div>
    </div>
















	






    <p class="ng-paypal-as-payment" style="display: none;">By subscribing you agree to our <a href="https://www.condenast.com/user-agreement" target="_blank">User Agreement</a> and <a href="https://www.condenast.com/privacy-policy" target="_blank">Privacy Policy &amp; Cookie Statement</a>.</p>
	<div id="orderobject-response">
	  
    </div>
    <div id="ppSubmit"></div>
	<div id="placeorder" class="sectionbox">
        <div class="button" role="button" tabindex="0">
			
				Place Order
			
		</div>
		<div class="space5"></div>
		<div id="ssl">
			<p><img id="sslimage" src="https://subscribe.wired.com/circulation/wired/images/ng-ssl-lock-new.png" alt="Padlock"> This transaction is secured with SSL encryption</p>
		</div>
		</div>
		<img id="btn_processing" style="display:none;" src="/circulation/shared/images/omn_processing.gif" alt="One moment please.">
			<div class="space10"></div>
		</div>
        <!--VMG Update-->


    <div id="footersection">
        <div id="customerservice">
            <div id="customercare">
                
                <p><strong><span>Customer Service can be reached at <a href="https://www.wired.com/customerservice">wired.com/customerservice</a>,</span>
                <span><span id="phone-change">1-800-769-4733</span>, or by <a href="mailto:wiredcustserv@cdsfufillment.com">email</a>.</span></strong></p>
                
                
                
            </div>
        </div>
        <div class="footer">
            



















<p id="secondfootterm"><strong>The current annual rates are: </strong>In the US, a bundle subscription is $49.99. In Canada, a bundle subscription is $59.99. In all other destinations, a bundle subscription is $70. A digital-only subscription is $29.99 in all destinations.</p>
<p id="footterm">WIRED publishes monthly, except the combined July/August issue and other combined issues that count as two, as indicated on the issue's cover.</p>
<p id="footmailtime">First issue mails within 6 weeks. Plus sales tax where applicable.</p>



            <p id="footpost" class="subfoottext">This offer is only available to customers who have not been subscribed to <span style="text-transform:uppercase;">Wired</span> within the last 180 days. All orders subject to approval. Limit one free gift per address, as applicable.  By ordering, you agree not to resell any subscriptions purchased from this site.</p>
            <p id="footpost1" class="subfoottext">Subscribers: If the Post Office alerts us that your magazine is undeliverable, we have no further obligation unless we receive a corrected address within one year. </p>
        </div>
        <div class="footer footer1">
            <p id="footprivacy"> <a href="https://www.condenast.com/user-agreement" target="_blank" >USER AGREEMENT</a> | <a href="https://www.condenast.com/privacy-policy" target="_blank"  >PRIVACY POLICY</a> <a href="https://www.condenast.com/privacy-policy/#california" target="_blank"  >(your CA Privacy Rights).</a> </p>
            <p id="footcopyright" > Copyright &copy; 2020 Cond&#233; Nast Digital. All rights reserved.<br>
            </p>
        </div>
    </div>






<style type="text/css">
    .new_footer_br{display: none!important;} #footintcurrency,.footintcurrency{display: none!important;}
    #footterm, #footservweb{font-weight:bold!important;}
    
    #footprivacy, #footcopyright {text-align: center!important;}
    
    #footprivacy a {text-decoration: underline!important; text-transform: uppercase!important;}
    #footprivacy a:last-child {text-transform: none!important;}
    
    
    #footservweb a{text-decoration: underline!important}
    
    
    
    #footservweb, #footterm, #footmailtime, #secondfootterm, #footpostintro, #footpost, #footintcurrency, #footcovidcopy {text-align:left!important;}
    
    
</style>

</form>
<div id="googleauto" class="vis-hide-google" aria-live="polite" role="status"></div>
<!--finder file starts here -->

<!--end finder file section -->
 <script type="text/javascript">
<!---option-placeholder functionality starts--->
   jQuery(function($) {
      /*function for placeholder select*/
      function selectPlaceholdermonth(selectID){
        var selected = $(selectID + ' option:selected');
        var val = selected.val();
        $(selectID + ' option' ).css('color', '#000');
        selected.css('color', '#333');
        if (val == "") {
          $(selectID).css('color', '#ccc');
        };
        $(selectID).change(function(){
          var val = $(selectID + ' option:selected' ).val();
          if (val == "") {
            $(selectID).css('color', '#ccc');
          }else{
            $(selectID).css('color', '#000');
          };
        });
      };

      selectPlaceholdermonth('.optionplace2');
      selectPlaceholdermonth('.optionplace1');
    });

<!---option-placeholder functionality End--->

<!--BILL COUNTRY ZIP CODE FUNCTIONALITY STARTS-->
  $("#bill-country").change(function () {
            console.log($("#bill-country").val());
if ($("#bill-country").val() !== "US" && $("#bill-country").val() !== "CDN") {
console.log("otherstate");
$("#bill-zip-domestic").prop("disabled", true).hide();
$("#bill-zip-canada").prop("disabled", true).hide();
$("#bill-zip-international").prop("disabled", true).show();
}
else {
if ($("#bill-country").val() == "CDN") {
					console.log("canadastate");
$("#bill-zip-domestic").prop("disabled", true).hide();
$("#bill-zip-canada").prop("disabled", true).show();
$("#bill-zip-international").prop("disabled", true).hide();
				}
if ($("#bill-country").val() == "US") {
console.log("USZIP");
$("#bill-zip-domestic").prop("disabled", true).show();
$("#bill-zip-canada").prop("disabled", true).hide();
$("#bill-zip-international").prop("disabled", true).hide();
				}
}

        });
<!--BILL COUNTRY ZIP CODE FUNCTIONALITY ENDS-->

<!--SHIP COUNTRY ZIP CODE FUNCTIONALITY STARTS-->

 $("#ship-country-selector").change(function () {
            console.log($("#ship-country-selector").val());
if ($("#ship-country-selector").val() !== "US" && $("#ship-country-selector").val() !== "CDN") {
console.log("otherstate");
$("#ship-zip-domestic").prop("disabled", true).hide();
$("#ship-zip-canada").prop("disabled", true).hide();
$("#ship-zip-international").prop("disabled", true).show();
}
else {
if ($("ship-country-selector").val() == "CDN") {
					console.log("canadastate");
$("#ship-zip-domestic").prop("disabled", true).hide();
$("#ship-zip-canada").prop("disabled", true).show();
$("#ship-zip-international").prop("disabled", true).hide();
				}
if ($("#ship-country-selector").val() == "US") {
console.log("USZIP");
$("#ship-zip-domestic").prop("disabled", true).show();
$("#ship-zip-canada").prop("disabled", true).hide();
$("#ship-zip-international").prop("disabled", true).hide();
				}
}
 });
  
<!--SHIP COUNTRY  ZIP CODE FUNCTIONALITY ENDS-->

</script>

<!--SCROLL-TOP FUNCTIONALITY IF PUT ON PREVIEW MODE WHILE IS UPDATED TO BE ADA COMPLIANT-->
<!---- Scroll top Testing Starts-->
 

<!---- Scroll top Testing Ends--> 

<script>
	function getCookieCN(cname) {
		var name = cname + "=";
		var ca = document.cookie.split(';');
			for (var i = 0; i < ca.length; i++) {
				var c = ca[i];
				while (c.charAt(0) == ' ') {
					c = c.substring(1);
				}
				if (c.indexOf(name) == 0) {
					return c.substring(name.length, c.length);
				}
			}
		return "";
	}
        function ngcreateCookie(cookieName,cookieValue,daysToExpire)
    {
        var date = new Date();
        date.setTime(date.getTime()+(daysToExpire*24*60*60*1000));
        document.cookie = cookieName + "=" + cookieValue + "; expires=" + date.toUTCString() + "; path=/";
    }
	var ngIdArray;
	jQuery(window).load(function() {
		$("#googleauto").insertAfter($(".pac-container.pac-logo"));
		$('.pac-container.pac-logo').bind('DOMSubtreeModified', function(e) {
			if (e.target.innerHTML.length > 0) {
				if ($(".pac-item").length > 0) {
					$("#googleauto").html('<p> A list of <span id="sugnum">'+$(".pac-item").length+'</span> address suggestions is available. Use the up and down arrow keys to navigate the list</span></p>');
				}
			}
		});
		$("#address").on("keyup.sugno", function(){
			if ($(".pac-item").length > 0) {
				$("#googleauto").html('<p> A list of <span id="sugnum">'+$(".pac-item").length+'</span> address suggestions is available. Use the up and down arrow keys to navigate the list </p>');
			}
			if ($(".pac-item").length == 0) {
				$("#googleauto").html('<p>  There are no matches for your search </p>');
			}
		});
	});

	var impulsePrice = "0.00";
	var setautobyoffer = function() {
		var offeridsel = jQuery(".panel.offer.on").attr("id");
		// console.log("updatingauto");
		if (jQuery('.auto.' + offeridsel).length > 0){
			console.log("updatingautocomplete");
			jQuery(".auto, #autorenewal").hide();
			jQuery('.auto.' + offeridsel).show();
			jQuery("#autorenewal").show();   
		}
	
	}

	var hasImpulse = false;
	
		hasImpulse = true;
	
		
	

	
		var CONSTANTS = (function () {
		  return {
			 OFFERS: {
				
					
						167241: {
							offerterm: '167241',
							source_code: '90NGAAA01',
							isGift: 'false',
							format: 'bundle',
							formatval: 'B',
							offertype: '1',
							transtype: '12',
							issues: '12',
							price: '5.00',
							domestic_postage: '0.00',
							canadian_postage: '10.00',
							foreign_postage: '30.00',
							domestic_total: '5',
							canadian_total: '15',
							foreign_total: '35'
						 },
					
					
						167242: {
							offerterm: '167242',
							source_code: '80NHAAA01',
							isGift: 'true',
							format: 'bundle',
							formatval: 'B',
							offertype: '1',
							transtype: '11',
							issues: '12',
							price: '5.00',
							domestic_postage: '0.00',
							canadian_postage: '10.00',
							foreign_postage: '30.00',
							domestic_total: '5',
							canadian_total: '15',
							foreign_total: '35'
						},
					
				
					
						167245: {
							offerterm: '167245',
							source_code: '90NDAAA01',
							isGift: 'false',
							format: 'digital',
							formatval: 'D',
							offertype: '1',
							transtype: '12',
							issues: '12',
							price: '5.00',
							domestic_postage: '0.00',
							canadian_postage: '0.00',
							foreign_postage: '0.00',
							domestic_total: '5',
							canadian_total: '5',
							foreign_total: '5'
						 },
					
					
						167244: {
							offerterm: '167244',
							source_code: '80NEAAA01',
							isGift: 'true',
							format: 'digital',
							formatval: 'D',
							offertype: '1',
							transtype: '11',
							issues: '12',
							price: '5.00',
							domestic_postage: '0.00',
							canadian_postage: '0.00',
							foreign_postage: '0.00',
							domestic_total: '5',
							canadian_total: '5',
							foreign_total: '5'
						},
					
				
					
					
						167247: {
							offerterm: '167247',
							source_code: '80NHAAA03',
							isGift: 'true',
							format: 'bundle',
							formatval: 'B',
							offertype: '3',
							transtype: '11',
							issues: '12',
							price: '5.00',
							domestic_postage: '0.00',
							canadian_postage: '0.00',
							foreign_postage: '0.00',
							domestic_total: '5',
							canadian_total: '5',
							foreign_total: '5'
						},
					
				
					
					
						167469: {
							offerterm: '167469',
							source_code: '80NEAAA15',
							isGift: 'true',
							format: 'digital',
							formatval: 'D',
							offertype: '3',
							transtype: '11',
							issues: '12',
							price: '5.00',
							domestic_postage: '0.00',
							canadian_postage: '0.00',
							foreign_postage: '0.00',
							domestic_total: '5',
							canadian_total: '5',
							foreign_total: '5'
						}
					
				
				}
			}
		})();
		

		
		var total;
			var setofferterm = function() {
				for (var product in CONSTANTS.OFFERS) {
					var offer = CONSTANTS.OFFERS[product];
					setautobyoffer();
					if ((offer.isGift === $("#isGiftCheck").attr("data-isGift")) && (offer.format === $(".panel.offer.on").attr("data-format")) && (offer.offertype == "1") && (offer.issues === $(".panel.offer.on").attr("data-issues"))) {
						var summary;
						var location = $("#ship-country-selector").attr("data-location");
						var shipping;
						
						$(".auto, #autorenewal, .gift-off").hide();
						if ($("#isGiftCheck").attr("data-isGift") == "true") {
							$('input[name=offer_term]').attr("value", offer.offerterm+'_1');
							$('#crossdisp').attr("self-ordertype", "gift");
						} else {
							$('input[name=offer_term]').attr("value", offer.offerterm+'_0');
							$('.auto.' + location).show();
                                                        setautobyoffer();
							$("#autorenewal, .gift-off").show();
							$('#crossdisp').attr("self-ordertype", "self");
						}
						$('input[name=chosen_offer]').attr("value", $(".panel.offer.on").attr("data-chosenoffer"));
   
                    var ng_offer_format, ng_offer_issues;
                    	if (offer.format == 'bundle') {
							ng_offer_format = "Print + Digital";
						}
						 else if (offer.format == 'digital') {
                         ng_offer_format = "Digital";
						} 
                        else {
							ng_offer_format = "Print";
						};

                    	if ((offer.issues == '12') || (offer.issues == '11')) {
							ng_offer_issues = "1 Year";
						}
						else if ((offer.issues == '24') || (offer.issues == '23')) {
                            ng_offer_issues = "2 Years";
						} 
                        else {
						    ng_offer_issues = offer.issues + "  Months";
						}
                        if ($("#isGiftCheck").attr("data-isGift") == "true") {
                        summary = ng_offer_issues + ' &ndash; ' + ng_offer_format + ' <span class=\"boldgift\">Gift<\/span> Access';
                        }
                        else {
                        summary = ng_offer_issues + ' &ndash; ' + ng_offer_format + ' Access';
                        }

						$('#itemsummarydesc').html(summary);
						$('#itemprice').html("$" + offer.price);
						$('#originprice').attr("value", "$" + offer.price);
						if (location == 'canada') {
							shipping = ((offer.canadian_postage == '0.00') ? 'Free' : "$" + offer.canadian_postage);
							total = "$" + parseFloat((parseFloat(offer.price) + parseFloat(offer.canadian_postage))).toFixed(2);
							offer_term_json[$('input[name=offer_term]').val()].internet_price = parseFloat((parseFloat(offer.price) + parseFloat(offer.canadian_postage))).toFixed(2);
						} else if (location == 'international') {
							shipping = ((offer.foreign_postage == '0.00') ? 'Free' : "$" + offer.foreign_postage);
							total = "$" + parseFloat((parseFloat(offer.price) + parseFloat(offer.foreign_postage))).toFixed(2);
							offer_term_json[$('input[name=offer_term]').val()].internet_price = parseFloat((parseFloat(offer.price) + parseFloat(offer.foreign_postage))).toFixed(2);
						} else {
							shipping = "Free";
							total = "$" + offer.price;
							
								offer_term_json[$('input[name=offer_term]').val()].internet_price = offer.price;
							
						}
						$('input[name="ship_cost"]').attr("value", shipping);
						$('#shipcost').html(shipping);
						$('#total, #arpricing').html(total);
		
						
							var location= $('#ship-country-selector').val();
							switch (location) {
								case 'US':
									if ($("#applePayform").hasClass("hasApple") == false) {
									     if ($("#isGiftCheck").attr("data-isGift") == "false") {
									$("#applePayform").show(); 
                                                                        } 
									}
									break;
								case 'CA':
									if ($("#applePayform").hasClass("hasApple") == false) {
										$(".autoRenew").hide();
									}
									break;
								default:
									if ($("#applePayform").hasClass("hasApple") == false) {
										$(".autoRenew").hide();
									}
									break;
							}
						
						break;
					}}};
		
	
	var setsubmissionform = function () {
		if ($("#isGiftCheck").attr("data-isGift") == "true") {
			$("#billingaddress").prop("false");
			$("[data-shipname]").each(function(){
				$(this).attr("name", $(this).attr("data-shipname"));
			});
		} else {
			$("#billingaddress").prop("disabled", true);
			$("[data-shipname]").each(function(){
				$(this).attr("name", $(this).attr("data-billname"));
			});
		}
		
	}
	setsubmissionform(); 
	$(".panel.offer").each(function() {
		if ($(this).hasClass("on") == true) {
			$(this).find("[aria-pressed]").attr("aria-pressed","true");
		} else {
			$(this).find("[aria-pressed]").attr("aria-pressed","false");
		}
	});

	if ($(document).innerWidth() > 768) {
	$(".panel.offer").on("click.panel, keypress.panel, keydown.panel", function(e) {
		var paneleventfilter = false;
		if (e.keyCode == '32'||  e.handleObj.origType == "click" || e.keyCode == '13') {
			paneleventfilter = true;
		}
		if (paneleventfilter == true) {
			$(".panel.offer").removeClass("on").addClass("off");
			$(".circlecheck").attr("aria-pressed","false");
			$(this).find("[aria-pressed]").attr("aria-pressed","true");
            $(this).addClass("on").removeClass("off");
            $(".panel-selector").text("Select");
            $(this).find('.panel-selector').text("Selected");
                // Change Shipping address to billing address for digital only order
            if($(".panel.offer[data-format='digital']").hasClass("on")){
                $("#nextgen-step-4 h2 span").text("BILLING ADDRESS");
            }
            else{
                $("#nextgen-step-4 h2 span").text("SHIPPING ADDRESS");
			}
			$("#ngArCopy").text($(".panel.offer.on .ng_arcopy").text() +".");
			try {
				document.cookie = "chosenoffer=" + $(".panel.offer.on").attr("data-chosenoffer");
				document.cookie = "ngArCopyupdate=" + $(".panel.offer.on .ng_arcopy").text() +";path=/";
			} catch(err) {
				console.log(err);
			}
			setofferterm();
			
			if($(this).attr("data-format") == "digital"){
				$("#shiphandtext").parents(".flex-container").hide();
			}
			else{
				$("#shiphandtext").parents(".flex-container").show().css("display", "flex");
			}

			if ($("#isgiftholder").hasClass("isgiftholder-selected")) {
                $('html, body').animate({ scrollTop:$(".giftrecipientshow").offset().top-60}, 1000);
            }
			else{
				$('html, body').animate({ scrollTop:$("#nextgen-step-3").offset().top-60}, 1000);
			}

		}
	});
	}
	else{
	$("#nextgen-offer-container").on("click keypress keydown", ".panel.offer .panel-selector", function(e) {
		var paneleventfilter = false;
		if (e.keyCode == '32'||  e.handleObj.origType == "click" || e.keyCode == '13') {
			paneleventfilter = true;
		}
		if (paneleventfilter == true) {
			if ($(".panel.offer").hasClass("on")){
				$(".panel.offer .panel-shot-selected").hide();
				$(this).parents(".panel.offer").find(".panel-shot-selected").show();
				$(".panel.offer .panel-shot").show();
				$(this).parents(".panel.offer").find(".panel-shot").hide();
			if($(this).parents(".panel.offer").find('.panel-image').is(":hidden")){
				$(this).parents(".panel.offer").find('.panel-image').slideDown();
			}
				$(this).parents(".panel.offer").find('.panel-arrow-down').hide();
				$(this).parents(".panel.offer").find('.panel-arrow-up').show();
				$(this).parents(".panel.offer").find(".panel-inner ul li:nth-child(n+3)").css("display", "flex");
		}
		else{
				$(this).parents(".panel.offer").find(".panel-shot-selected").show();
				$(this).parents(".panel.offer").find(".panel-shot").hide();
			if($(this).parents(".panel.offer").find('.panel-image').is(":hidden")){
				$(this).parents(".panel.offer").find('.panel-image').slideDown();
			}
				$(this).parents(".panel.offer").find('.panel-arrow-down').hide();
				$(this).parents(".panel.offer").find('.panel-arrow-up').show();
				$(this).parents(".panel.offer").find(".panel-inner ul li:nth-child(n+3)").css("display", "flex");
		}
			$(".panel.offer").removeClass("on").addClass("off");
			$(".circlecheck").attr("aria-pressed","false");
			$(".panel.offer").find("[aria-pressed]").attr("aria-pressed","true");
            $(this).parents(".panel.offer").addClass("on").removeClass("off");
            $(".panel-selector").text("Select");
            $(this).text("Selected");
                // Change Shipping address to billing address for digital only order
            if($(".panel.offer[data-format='digital']").hasClass("on")){
                $("#nextgen-step-4 h2 span").text("BILLING ADDRESS");
            }
            else{
                $("#nextgen-step-4 h2 span").text("SHIPPING ADDRESS");
			}
			$("#ngArCopy").text($(".panel.offer.on .ng_arcopy").text() +".");
			try {
				document.cookie = "chosenoffer=" + $(".panel.offer.on").attr("data-chosenoffer");
				document.cookie = "ngArCopyupdate=" + $(".panel.offer.on .ng_arcopy").text() +";path=/";
			} catch(err) {
				console.log(err);
			}
			setofferterm();
			
			if($(this).attr("data-format") == "digital"){
				$("#shiphandtext").parents(".flex-container").hide();
			}
			else{
				$("#shiphandtext").parents(".flex-container").show().css("display", "flex");
			}

			if ($("#isgiftholder").hasClass("isgiftholder-selected")) {
                $('html, body').animate({ scrollTop:$(".giftrecipientshow").offset().top-60}, 1000);
            }
			else{
				$('html, body').animate({ scrollTop:$("#nextgen-step-3").offset().top-60}, 1000);
			}

		}
	})
	}
	
	$("#ship-state-international,#ship-state-domestic,#ship-state-canada, #billingaddress, #giftrecipient, .giftrecipientshow").prop("disabled", true).hide(); 
console.log("hidingcanada3?");

	$("#isgiftholder").on("click.isgift, keypress.paneloffer", function(e) {
		var paneleventfilter = false;
console.log(e);
 		if (e.keyCode == '32'||  e.handleObj.origType == "click" || e.keyCode == '13') {
			paneleventfilter = true;
		}
		if (paneleventfilter == true) {
 			if ($("#isGiftCheck").attr("data-isGift") == "false") {
				$("#isGiftCheck").attr("data-isGift", true);
				$("#isGiftCheck").attr("aria-pressed", true);
				$("#billingaddress, #giftrecipient, .giftrecipientshow").prop("disabled", false).show(); 
				$("#autorenewal, .gift-off").hide();
				$("#crossdisp").attr("data-ordertype", "gift");
				$(".panel.offer").each(function(){
					$("#isGiftCheck").attr("data-issues", $("#isGiftCheck").attr("data-gift-issues"));
				});
				if ($("#isImpulseholder").hasClass("isImpulseholder-active")){
					$("#isImpulseholder").trigger("click");
				}
                $("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code, #impulseofferterm").prop("disabled", true).hide(); 
                $(".nextgen-epc-hide, #nextgen-step-4").hide();
                $("#nextgen-gift-check, #nextgen-gift-border").show();
				$("#isgiftholder").addClass("isgiftholder-selected");
                $("#nextgen-gift-payno").text("STEP 4.");
                if ($(document).innerWidth() > 768) {
                    $("#order-progress-bar > div > ol > li:nth-child(3)").html('<a href="#giftrecipient">Gift Recipient</a>');
				}
                else{
				$("#order-progress-bar > div > ol > li:nth-child(3)").html('<a href="#giftrecipient">Gift</a>');
				}
                $("#order-progress-bar > div > ol > li:nth-child(4)").addClass("ng-disabled").html('<a href="#nextgen-step-3">Payment</a>');
                $("#yourinformationtext h2").text("Enter Your Billing Information");
                $("#yourinformation").css("margin-top", "15px");
				$("#shippingaddress").appendTo("#nextgen-gift-shipping");
                $("#billingaddress").appendTo("#nextgen-self-shipping");
                $('.nextgen-payment-buttons[data-ngtab="1"]').show().click();
				$('.nextgen-payment-buttons[data-ngtab="3"]').show();
				$('.ng-paypal-as-payment').show();
				$('.nextgen-payment-buttons[data-ngtab="2"], .nextgen-payment-buttons[data-ngtab="4"], .autoRenew , #ppcheckoutexpbutton').hide();
                 
                    
                    
                    $("#shippingaddressimpulse, #impulseFields").hide();
                    
                    
                    
                    
                    
				ngIdArray = ngFindId();
			if ($("#nextgen-international").hasClass("nextgen-country-selected")){
	        $('.nextgen-payment-buttons[data-ngtab], .domestic-off, .ng-canada-on').hide();
			$('.nextgen-payment-buttons[data-ngtab="1"]').click();
			$('#shippingaddressimpulse').hide();
			$(".nextgen-payment-links").css("min-height", "25px");
			};
 			} else {
				$("#isGiftCheck").attr("data-isgift", false);
				$("#isGiftCheck").attr("aria-pressed", false);
				$("#billingaddress, #giftrecipient, .giftrecipientshow").prop("disabled", true).hide(); 
				$("#autorenewal, .gift-off").show();
				$("#crossdisp").attr("data-ordertype", "self");
				$(".panel.offer").each(function() {
					$("#isGiftCheck").attr("data-issues", $("#isGiftCheck").attr("data-self-issues"));
				});
                $("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code, #impulseofferterm").prop("disabled", true).hide(); 
                $(".nextgen-epc-hide, #nextgen-step-4, #amazonpay-container, .nextgen-payment-buttons[data-ngtab], .autoRenew , #ppcheckoutexpbutton, .ng-amazon-hide").show();
                $("#nextgen-gift-border, #nextgen-gift-check, .ng-paypal-as-payment").hide();
				$("#isgiftholder").removeClass("isgiftholder-selected");
                $("#nextgen-gift-payno").text("STEP 3.");
                $("#order-progress-bar > div > ol > li:nth-child(3)").html('<a href="#nextgen-step-3">Payment</a>');
                $("#order-progress-bar > div > ol > li:nth-child(4)").addClass("ng-disabled").html('<a href="#nextgen-step-4">Address</a>');
                $("#shippingaddress").appendTo("#nextgen-self-shipping");
                $('.nextgen-payment-buttons[data-ngtab="1"]').click();
                $("#yourinformationtext h2").text("Enter Your Information");
				$("#yourinformation").css("margin-top", "0");
				$("#shippingaddressimpulse").show();
				if ($("#isImpulseCheck").attr("data-isImpulse") == "true") {
					$("#shippingaddressimpulse,  #impulseFields").show();
					$("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code, #impulseofferterm").prop("disabled", false).show(); 
				}
					if ($("#nextgen-international").hasClass("nextgen-country-selected")){
					$('.nextgen-payment-buttons[data-ngtab], .domestic-off, .ng-canada-on').hide();
					$('.nextgen-payment-buttons[data-ngtab="1"]').click().delay(50);

					$("#shippingaddressimpulse").show();

					$(".nextgen-payment-links").css("min-height", "25px");
				};
 			}
			setsubmissionform(); 
			setofferterm();
		}
		//initAutocomplete();
		ngIdArray = ngFindId();
	});
	$("#bill-state-international,#bill-state-canada, #bill-state-international-label, #bill-state-canada-label").prop("disabled", true).hide(); 
	$("#ship-state-domestic").prop("disabled", false).show(); 

ngcreateCookie("ngCountry", ($("#ship-country-selector").val()), 0.1);


		function ng_country_change(){
                $(".search.selection.dropdown").removeClass("disabled");
                if ($("#ship-country-selector").attr("id") == "ship-country-selector") {
                    $("#ship-country, #ship-country-selector-input").val($("#ship-country-selector").find("option:selected").text());}
                $('#ship-postal-code').removeAttr("maxlength");
                $("#ship-state-international,#ship-state-domestic,#ship-state-canada, #ship-state-international-label, #ship-state-domestic-label, #ship-state-canada-label").prop("disabled", true).hide(); 
                $("#ship-state-domestic").parent().hide();
                $("#ship-state-canada").parent().hide();
                console.log("hidingcanada?");
                $("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code, #impulseofferterm").prop("disabled", true).hide(); 

                if ($("#isImpulseCheck").attr("data-isImpulse") == "true") {
                    $("#isImpulseCheck").click();
                }
                if ($("#ship-country-selector").val() !== "US" && $("#ship-country-selector").val() !== "CA") {
                    console.log("applepayfrom1");
                    if ($("#applePayform").hasClass("hasApple") == false) {
                        $("#applePay").hide();
                        $(".autoRenew").hide();
                    }
                    $("#amazonpay-container").hide();
                    $("#applePayform").hide();
                    $("#ppcheckoutexpbutton").addClass("haspaypaloff");
                    $("#ppcheckoutexpbutton").removeClass("haspaypalon");
                    $("#shippingaddress .addressbox").addClass("international");
                    $("#ship-state-international, #ship-state-international-label").prop("disabled", false).show(); 
                    $('#ship-country-selector, #crossdisp').attr("data-location", "international");
                    if ($("#isImpulseCheck").attr("data-isImpulse") == "true") {
                        $("#isImpulseCheck").click();
                    }
                } else {
                    $("#shippingaddress .addressbox").removeClass("international");
                    if ($("#ship-country-selector").val() == "CA") {
                        console.log("applepayfrom2");
                        if ($("#applePayform").hasClass("hasApple") == false) {
                            $("#applePay").hide();
                            $(".autoRenew").hide();
                        }
                        $("#amazonpay-container").hide();
                        $("#applePayform").hide();
                        $("#enterfields").hide();
                        $("#ppcheckoutexpbutton").addClass("haspaypaloff");
                        $("#ppcheckoutexpbutton").removeClass("haspaypalon");
                        $("#ship-state-canada, #ship-state-canada-label").prop("disabled", false).show();  
                        $("#ship-state-canada").parent().parent().show();
                        $("#ship-state-canada").parent().show();
                        $('#ship-country-selector, #crossdisp').attr("data-location", "canada");
                        if ($("#isImpulseCheck").attr("data-isImpulse") == "true") {
                            $("#isImpulseCheck").click();
                        }
                    }
                    if ($("#ship-country-selector").val() == "US") { 
    
                        if ($("#applePayform").hasClass("hasApple") == false) {
                            $("#applePayform").show();
                            $(".autoRenew"
                                ).show();
                        }
                        $("#amazonpay-container").show();
                        $("#enterfields").show();
                        $("#ppcheckoutexpbutton").addClass("haspaypalon");
                        $("#ppcheckoutexpbutton").removeClass("haspaypaloff");
                        if ($("#applePayform").hasClass("hasApple") == true && $("#applepay_checkout_section").hasClass("paypal-off") == true) {
                            $("#applePayform").show();
                            $("#applepay_checkout_section").show();
                        }
                        $("#ship-state-domestic, #ship-state-domestic-label").prop("disabled", false).show();  
                        $("#ship-state-domestic").parent().parent().show();
                        $("#ship-state-domestic").parent().show();
                        $('#ship-country-selector, #crossdisp').attr("data-location", "domestic");
                        $('#ship-postal-code, #crossdisp').attr("maxlength", "5");
                          if ($(".impulseOn").length == 1){

                            $("#impulse-state-domestic").parent().show();
                            $("#impulse-state-domestic").parent().removeClass("disabled");
                            $(".impulseOn").show();
                        }
                        if ($("#isImpulseCheck").attr("data-isImpulse") == "true") {
                            $("#isImpulseCheck").click();
                        }
                    }
                }

				$("#impulse-ship-country").val($("#ship-country-selector").val());
				$("#bill-country").val($("#ship-country-selector").val());
                selecboxdisp($("#bill-country").val());
                setofferterm();
                
                    ngcreateCookie("ngCountry", ($("#ship-country-selector").val()), 0.1);
                
}
	$('#nextgen-international-selector').on("change", "#ship-country-selector", function (){
 ng_country_change();
 ngIdArray = ngFindId();
		});
		function selecboxdisp(countryval){
			$('#bill-postal-code').removeAttr("maxlength");
			$("#bill-state-international,#bill-state-domestic,#bill-state-canada, #bill-state-international-label, #bill-state-domestic-label, #bill-state-canada-label ").prop("disabled", true).hide();
			if ($("#isImpulseCheck").attr("data-isImpulse") == "true") {
				$("#isImpulseCheck").click();
			}
            $("#bill-state-error, #bill-postal-code-error").hide();
            $("#bill-state-international, #bill-state-canada, #bill-state-domestic, #bill-postal-code").removeClass("errorinput");
			if (countryval !== "US" && countryval !== "CA") {
				$("#billingaddress .addressbox").addClass("international");
				$("#bill-state-international").prop("disabled", false).show(); 
				$("#bill-state-international-label").show(); 
                $("#bill-state-domestic, #bill-state-canada").prop("disabled", true).hide();
                $("#bill-state-canada-label, #bill-state-domestic-label").hide();
                $("#bill-zip-international").show();
                $("#bill-zip-canada, #bill-zip-domestic").hide();				
                $(".billstatelabel").html("Province"); 
                $("#bill-state-error").text('Please enter province');
                $("#bill-postal-code-error").text('Please enter code');
			} else {
				$("#billingaddress .addressbox").removeClass("international");
				if (countryval == "CA") {
				$("#bill-state-canada").prop("disabled", false).show(); 
				$("#bill-state-canada-label").show(); 
                $("#bill-state-domestic, #bill-state-international").prop("disabled", true).hide();
                $("#bill-state-domestic-label, #bill-state-international-label").hide();
                $("#bill-zip-canada").show();
                $("#bill-zip-domestic, #bill-zip-international").hide();
				$(".billstatelabel").html("Province");
                $("#bill-state-error").text('Please select province');
                $("#bill-postal-code-error").text('Please enter code');
				}
				if (countryval == "US") {
				$("#bill-state-domestic").prop("disabled", false).show(); 
				$("#bill-state-domestic-label").show(); 
                $("#bill-state-international, #bill-state-canada").prop("disabled", true).hide();
                $("#bill-state-canada-label, #bill-state-international-label").hide();
                $("#bill-zip-domestic").show();
                $("#bill-zip-canada, #bill-zip-international").hide();
				$(".billstatelabel").html("State"); 
				$('#bill-postal-code').attr("maxlength", "5");
                $("#bill-state-error").text('Please select state');
                $("#bill-postal-code-error").text('Please enter zip');
				}
			}
		}
		$('#bill-country').on("change.billcountry", function(){
			selecboxdisp($(this).val());
			setofferterm();
            ngIdArray = ngFindId();
		});
		$("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code, #impulseofferterm").prop("disabled", true).hide(); 
		$("#impulseFields").hide();

		var submitorder = function() {
			var imptypes = $("#crossdisp").attr("data-default").split(" ");
			var implocflag = 0;
			var impordflag = 0;
			for (i= 0; i < imptypes.length; i++) {
				var imptype = imptypes[i].split("-");
				if (imptype[0] == $("#crossdisp").attr("data-ordertype")) {
					impordflag = 1;
				}
				if (imptype[1] == $("#crossdisp").attr("data-location")) {
					implocflag = 1;
				}
			}
			if (implocflag == 1 && impordflag == 1) {
				$("#crossdisp").attr("value", "1");
			} else {
				$("#crossdisp").attr("value", "0");
			}

			if ($('input[name="credit_card_number"]').val().match(/^4/)) {
				$('input[name="pt_id"]').attr('value', '2');
				$("[data-cctype='visa']").addClass("on");
			} else if ($('input[name="credit_card_number"]').val().match(/^5/)  || $('input[name="credit_card_number"]').val().match(/^2/)){
				$('input[name="pt_id"]').attr('value', '1');
				$("[data-cctype=mastercard]").addClass("on");
			} else if ($('input[name="credit_card_number"]').val().match(/^3/)){
				$('input[name="pt_id"]').attr('value', '3');
				$("[data-cctype=amex]").addClass("on");
			} else if ($('input[name="credit_card_number"]').val().match(/^6/)){
				$('input[name="pt_id"]').attr('value', '5');
				$("[data-cctype=discover]").addClass("on");
			}

			var myForm = document.getElementById('submission-form'); 
			var addressError;
			if ($("[name='country_code']").val() === 'US') {
				addressError = "We're sorry. Our system does not recognize the address you entered. Please review and try again. If you continue to receive this message, please contact Customer Service for assistance at 1-800-769-4733.";
			} else {
				addressError = "We're sorry. Our system does not recognize the address you entered. Please review and try again. If you continue to receive this message, please contact Customer Service for assistance at 1-515-243-3273.";
			}
					
			formData = new FormData(myForm); 
			jQuery.ajax({
				type: "POST",
				url: "/api/circ/js/Transaction",
				data: formData, 
				processData: false, 
				contentType: false, 
				dataType: "json", 
				error: function(jqXHR, error, errorThrown){
				},
				success: function(data){
					var orderStatObj = data;
					if (orderStatObj.order_success == '') {
						var orderFailedError = "";
						if (typeof orderStatObj.order_failed[0] !== 'undefined' && typeof orderStatObj.order_failed[0].error !== 'undefined') {
							orderFailedError = orderStatObj.order_failed[0].error;
						} else {
							orderFailedError = orderStatObj.order_failed[0];
						}
						console.log(orderFailedError);
						$('#formatSelection').addClass("error");
						if (orderFailedError.substr(0,66) == 'We are sorry. The address you entered does not appear to be valid.') {
							$('#orderobject-response').html(addressError);
						} else {
							$('#orderobject-response').html(orderFailedError);
						}
						$('#orderobject-response').show();
						$('#btn_processing, .button').hide();
						if (orderFailedError.substr(0,29) != 'This is an introductory offer') {
							$('.button').show();
						}
                           						// alert(orderStatObj.order_failed[0].error);  change this to display order failure message
						$('#placeorder').show(); 
						$('#btn_processing').hide();
						if (orderFailedError ==  'Failed Credit Card Number Verification.') {      
							$("#creditcard-invalid-error").addClass("error");
							$(".errorcontainer").each(function(){
								if ($(this).find(".error").length == 0) {
									$(this).hide();
								} else {
									$(this).show();
								}
							});
							$("#creditcard").addClass("errorinput");
							// $('html,body').animate({
							// 	scrollTop: $("#creditcard").offset().top
							// });
							// $(".errorinput:first").focus();
						}
				} else {
					$("#creditcard").attr("value", "");
					$("#cvv").attr("value", "");
					window.location = orderStatObj.order_success[0].next_offer_url;
					console.log(orderStatObj.order_success[0].next_offer_url);
 				}
			}
		});
	};
	$("#placeorder .button").on("click.placeorder, keypress.placeorder", function(e) {
		var paneleventfilter = false;
		console.log(e.handleObj.origType);
		if (e.keyCode == '32'||  e.handleObj.origType == "click" || e.keyCode == '13') {
			paneleventfilter = true;
		}
		if (paneleventfilter == true) {
			$(".errorinput").each(function(){
				$(this).removeAttr("aria-describedby");
			});
			$("#bill-email").attr("aria-describedby", "privacytext");
			$("#ship-email").attr("aria-describedby", "giftprivacytext");
			$("#creditcard").attr("aria-describedby", "cctext");

			$('.req').each(function(){
   if ($(this).is(':visible') == true) {

	if ($(this).attr("id") == "month") {
						if ($("#month").val() == '' || $("#month").val() == 'sel') {
							$("#month").addClass("errorinput");
							$("#month-error").addClass("error");
console.log("addingmontherror");
						} else {
							$("#month").removeClass("errorinput");
							$("#month-error").removeClass("error");
						}
					}
					if ($(this).attr("id") == "year" || $(this).attr("id") == "sel") {
						if ($("#year+.dropdown+input").next().text() == '') {
							$("#year+.dropdown+input").addClass("errorinput");
							$("#year-error").addClass("error");
						} else {
							$("#year+.dropdown+input").removeClass("errorinput");
							$("#year-error").removeClass("error");
						}
					}
					if ($(this).attr("id") == "ship-state-domestic") {
						if ($("#ship-state-domestic").val() == 'Select' || $("#ship-state-domestic").val() == '' ) {
							$("#ship-state-domestic").addClass("errorinput");
							$("#ship-state-error").addClass("error");
						} else {
							$("#ship-state-domestic").removeClass("errorinput");
							$("#ship-state-error").removeClass("error");
						}
					}
					if ($(this).attr("id") == "bill-state-domestic") {
						if ($("#isGiftCheck").attr("data-isGift") == "true") {
							if ($("#bill-state-domestic").val() == 'Select' || $("#bill-state-domestic").val() == '') {
								$("#bill-state-domestic").addClass("errorinput");
								$("#bill-state-error").addClass("error");
							} else {
								$("#bill-state-domestic").removeClass("errorinput");
								$("#bill-state-error").removeClass("error");
							}
						}
					}
					if ($(this).attr("id") == "ship-state-canada") {
						if ($("#ship-state-canada").val() == 'Select' ||$("#ship-state-canada").val() == '' ) {
							$("#ship-state-canada").addClass("errorinput");
							$("#ship-state-error").addClass("error");
						} else {
							$("#ship-state-canada").removeClass("errorinput");
							$("#ship-state-error").removeClass("error");
						}
					}
					if ($(this).attr("id") == "bill-state-canada") {
						if ($("#isGiftCheck").attr("data-isGift") == "true") {
							if ($("#bill-state-canada").val() == 'Select' || $("#bill-state-canada").val() == '') {
								$("#bill-state-canada").addClass("errorinput");
								$("#ship-state-error").addClass("error");
							} else {
								$("#bill-state-canada").removeClass("errorinput");
								$("#bill-state-error").removeClass("error");
							}
						}
					}

				}
				if ($(this).val() == "" && $(this).prop("disabled") == false  && $(this).is(':visible') == true) {
					$('#'+$(this).attr("id")+'-error').addClass("error");
					$(this).addClass("errorinput");
				} else {
					$('#'+$(this).attr("id")+'-error').removeClass("error");
					$(this).removeClass("errorinput");
				}
				$(".errorcontainer").each(function(){
					if ($(this).find(".error").length == 0) {
						$(this).hide();
					} else {
						$(this).show();
					}
				});
			});
			if ($(".panel.offer.on").length == 0) {
				$("#chooseoffermessage").addClass("error");
			} else {
				$("#chooseoffermessage").removeClass("error");
			}
			if ($(".error:first").length > 0) {
				$('html,body').animate({
					scrollTop: $(".error:first").offset().top - 90
				})
                           jQuery(".errorinput:first").focus();
			}
			if ($(".panel.offer.on").length == 0) {
				$("#chooseoffermessage").addClass("error");
			} else {
				$("#chooseoffermessage").removeClass("error");
			}
            parseInt($("#creditcard").val().trim())
            if ($('input[name="pt_id"]').val() != "9") {
			if ((parseInt($("#creditcard").val().trim()).toString().length < 15 && parseInt($("#creditcard").val().trim()).toString().length > 0) && parseInt($("#creditcard").val().trim()).toString() != "NaN") {
				$('#creditcard-invalid-error').addClass("error");
				$('#creditcard').addClass("errorinput");
				$('#creditcard-error').removeClass("error");
			} else {
				$('#creditcard-invalid-error').removeClass("error");
				if (parseInt($("#creditcard").val().trim()).toString().length == 0 || parseInt($("#creditcard").val().trim()).toString() == "NaN" ) {
					$('#creditcard-error').addClass("error");
					$("#creditcard").addClass("errorinput");
				} else {
					$('#creditcard-invalid-error').removeClass("error");
					$('#creditcard-error').removeClass("error");
					$("#creditcard").removeClass("errorinput");
				}
				
            }
            };
            if ($(".error").length > 0) {
                var $target = $(".errorinput:first");
                $('html, body').animate({
                        scrollTop: $target.offset().top
                    }, {
                        duration: 800,
                        step: function( now, fx ) {
                            var newOffset = $target.offset().top -120;
                            if(fx.end !== newOffset)
                                fx.end = newOffset;
                        }});
                           $(".errorinput:first").focus();
			}
			
			if ($(".error").length == 0) {
				$(".nextgen-progress").animate({width : "100%"});
				$("#placeorder").hide();
                $("#btn_processing").show();
                if ($('input[name="pt_id"]').val() == "") {
                    submitorder();
                    };
                if ($('input[name="pt_id"]').val() == "9") {
                    $("#ppSubmit").trigger("click");
                    }	
			}
		}
		$("[aria-describedby]").each(function(){
			$(this).removeAttr("aria-describedby");
		});

		$(".errorinput").each(function(){
			$(this).attr("aria-describedby", jQuery(this).attr("id") + "-error");
		});

		$("#bill-email").attr("aria-describedby", " privacytext ");
		$("#ship-email").attr("aria-describedby", " giftprivacytext ");
		$("#creditcard").attr("aria-describedby", " cctext ");
		$("#bill-email.errorinput").attr("aria-describedby", jQuery("#bill-email").attr("aria-describedby") + " bill-email-error");
		$("#ship-email.errorinput").attr("aria-describedby", jQuery("#ship-email").attr("aria-describedby") + " ship-email-error");
		$("#creditcard.errorinput").attr("aria-describedby", jQuery("#creditcard").attr("aria-describedby") + " creditcard-error");

		$(".errorcontainer").each(function(){
			if ($(this).find(".error").length == 0) {
                $(this).hide();
			} else {
                $(this).show();
			}
		});
	});
              
	$(".ng-change-ship-country").on("click", function(){
		$('html,body').animate({
			scrollTop: $("#wherego").offset().top - 120 
		})
		$("#ship-country-selector").focus();
	});
 

</script>
<div id="googleautoship" class="vis-hide-google" aria-live="polite" role="status"></div>
<div id="googleautobill" class="vis-hide-google" aria-live="polite" role="status"></div>
<script>
	$("#bill-email").on('focusout.email', function(){
		if ($(this).val() != '') {
			var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
			$(this).parents(".ng_required").find("#bill-email-error").removeClass("error").hide();
			if (re.test($("#bill-email").val()) == false) {
				$("#bill-email-invaliderror").addClass("error").show();
				$(this).addClass("errorinput");
                $(this).attr("aria-describedby", "privacytext bill-email-invaliderror");
                $(this).parents(".ng_required").find(".errorcontainer").show();
			} else {
				$("#bill-email-invaliderror").removeClass("error").hide();
				$(this).removeClass("errorinput");
                $(this).attr("aria-describedby", "privacytext");
                $(this).parents(".ng_required").find(".errorcontainer").hide();
			}
		}
		else{
				$(this).addClass("errorinput");
				$(this).attr("aria-describedby", "privacytext bill-email-invaliderror");
				$(this).parents(".ng_required").find(".errorcontainer").show();
				$(this).parents(".ng_required").find("#bill-email-error").show();
				$("#bill-email-invaliderror").removeClass("error").hide();

		}

	});   
	$("#ship-email").on('focusout.email', function(){
		if ($(this).val() != '') {
			var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
			$(this).parents(".ng_required").find("#ship-email-error").removeClass("error").hide();
			if (re.test($("#ship-email").val()) == false) {
				$("#ship-email-invaliderror").addClass("error").show();
				$(this).attr("aria-describedby", " giftprivacytext ship-email-invaliderror");
                $(this).addClass("errorinput");
                $(this).parents(".ng_required").find(".errorcontainer").show();
			} else {
				$("#ship-email-invaliderror").removeClass("error").hide();
				$(this).attr("aria-describedby", " giftprivacytext");
                $(this).removeClass("errorinput");
                $(this).parents(".ng_required").find(".errorcontainer").hide();
			}
		}
		else{
				
				$(this).attr("aria-describedby", " giftprivacytext ship-email-invaliderror");
				$(this).addClass("errorinput");
				$(this).parents(".ng_required").find(".errorcontainer").show();
				$(this).parents(".ng_required").find("#ship-email-error").show();
				$("#ship-email-invaliderror").removeClass("error").hide();
		}
	});
	$("#impulse-ship-email").on('focusout.email', function(){
		if ($(this).val() != '') {
			var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
			$(this).parents(".ng_required").find("#impulse-ship-email-error").removeClass("error").hide();
			if (re.test($("#impulse-ship-email").val()) == false) {
				$("#impulse-ship-email-invaliderror").addClass("error").show();
				$(this).attr("aria-describedby", " giftprivacytext impulse-ship-email-invaliderror");
                $(this).addClass("errorinput");
                $(this).parents(".ng_required").find(".errorcontainer").show();
			} else {
				$("#impulse-ship-email-invaliderror").removeClass("error").hide();
				$(this).attr("aria-describedby", " giftprivacytext");
                $(this).removeClass("errorinput");
                $(this).parents(".ng_required").find(".errorcontainer").hide();
			}
		}
		else{
				$(this).attr("aria-describedby", " giftprivacytext impulse-ship-email-invaliderror");
				$(this).addClass("errorinput");
				$(this).parents(".ng_required").find(".errorcontainer").show();
				$(this).parents(".ng_required").find("#impulse-ship-email-error").show();
				$("#impulse-ship-email-invaliderror").removeClass("error").hide();
		}
	});
	$("#ship-country-selector").on("change.shipautocomplete", function(){
		$("#ship-country-selector-input").attr("autocomplete", "FF9PE-34GF");
		// $(".search").attr("autocomplete", "6PMF-89EG");
		if ($(this).val() != "CA") {
			$("#ship-state-canada").attr("style", "display:none !important;");
			console.log("shipcandashowinga?");
		}
		$(".req.ui.search.selection.dropdown.disabled").hide();
		// $('#ship-country-selector').dropdown("hide");
		console.log("ship-country-selectorchangedb");
	
	});
	$(".req.ui.search.selection.dropdown.disabled").hide();
	$(".req.ui.search.selection.dropdown.disabled").on("change.shipautocompletehide", function(){
		$(".req.ui.search.selection.dropdown.disabled").hide();
	});
	$("#ship-state-domestic+.dropdown+input").on("focusout.errorship3, blur.errorship3", function(){
		if ($(this).next().text() == '') {
			$(this).addClass("errorinput");
			$("#bill-state-error").addClass("error");
		} else {
			$(this).removeClass("errorinput");
			$("#bill-state-error").removeClass("error");
		}
	});
	$("#ship-state-canada+.dropdown+input").on("focusout.errorship4, blur.errorship4", function(){
		if ($(this).next().text() == '') {
			$(this).addClass("errorinput");
			$("#bill-state-error").addClass("error");
		} else {
			$(this).removeClass("errorinput");
			$("#bill-state-error").removeClass("error");
		}
	});
	$("#bill-state-domestic+.dropdown+input").on("focusout.errorship5, blur.errorship5", function(){
		if ($("#isGiftCheck").attr("data-isGift") == "true") {
			if ($(this).next().text() == '') {
				$(this).addClass("errorinput");
				$("#bill-state-error").addClass("error");
			} else {
				$(this).removeClass("errorinput");
				$("#bill-state-error").removeClass("error");
			}
		}
	});
	$("#bill-state-canada+.dropdown+input").on("focusout.errorship6, blur.errorship6", function(){
		if ($(this).next().text() == '') {
			$(this).addClass("errorinput");
			$("#bill-state-error").addClass("error");
		} else {
			$(this).removeClass("errorinput");
			$("#bill-state-error").removeClass("error");
		}
	});
	jQuery(document).ready(function(){
		$("#footersection").find("p").each(function() {
			if ($(this).text().trim().length == 0) {
				$(this).remove();
			}
		});
		$('ul.nosudo li').each(function(){
			$(this).prepend('<span><img class="list-tick-icon" src="https://subscribe.wired.com/circulation/wired/images/ng-bullet-new.png" alt="tick"></span>')
        });
}); 
	$("input.search").each(function(index) {
		$(this).attr("id", "search-" + index);
		$(this).parent().prev("label").attr("for", "search-" + index);
	});   
	$(".panel.offer").each(function(){
		$(this).attr("data-self-issues", $(this).attr("data-issues"));
		$(this).attr("data-gift-issues", parseInt($(this).attr("data-issues"))  );
	});

	
		var selfterms = 0;
		
			selfterms = 1; 
 		
			selfterms = 1; 
 		
			 
 		
			 
 		
		if (selfterms == 0) {
			console.log("selfterms"+selfterms);
			if ($("#isGiftCheck").attr("data-isGift") == "false") {
				$("#isGiftCheck").click();
				$(".prechecked").removeClass("prechecked");
				$("div#isGiftCheck").off("click");
				$("div#isGiftCheck").off("keypress");
				$("div#isGiftCheck").removeAttr("role");
				$("div#isGiftCheck").removeAttr("tabindex");
				$("div#isGiftCheck").removeAttr("aria-pressed");
				$("div#isGiftCheck").css("cursor", "auto");
			}
		} else {
			for (var product in CONSTANTS.OFFERS) {
				var offer = CONSTANTS.OFFERS[product];
				$("#isgiftholder").hide();
 				if ((offer.offertype != '3') && (offer.transtype == '11' || offer.transtype == '10')) {
					console.log("giftofferfound");
					$("#isgiftholder").show();
					break;
				}
			}
		}
	
		
				
						ngImpulseCountryChange = function() {
						if ($("#impulse-ship-country").val() == "US") { 
							$("#impulse-state-canada, #impulse-state-canada-label, #impulse-state-international, #impulse-state-international-label").prop("disabled", true).hide();
							$("#impulse-state-domestic, #impulse-state-domestic-label").prop("disabled", false).show();
							$('#ng_imp_state .errorcontainer span').text('Please select state');
                            $("[for=impulse-ship-postal-code]").text("Zip");
                            $("#impulse-ship-postal-code-error").text("Please enter Zip");
						}
						else if ($("#impulse-ship-country").val() == "CA") { 
							$("#impulse-state-domestic, #impulse-state-domestic-label, #impulse-state-international, #impulse-state-international-label").prop("disabled", true).hide();
							$("#impulse-state-canada, #impulse-state-canada-label").prop("disabled", false).show();
							$('#ng_imp_state .errorcontainer span').text('Please select province');
                            $("[for=impulse-ship-postal-code]").text("Postal Code");
                            $("#impulse-ship-postal-code-error").text("Please enter code");
						}
						else { 
							$("#impulse-state-domestic, #impulse-state-domestic-label, #impulse-state-canada, #impulse-state-canada-label").prop("disabled", true).hide();
							$("#impulse-state-international, #impulse-state-international-label").prop("disabled", false).show();
                            $("[for=impulse-ship-postal-code]").text("Postal Code");
                            $("#impulse-ship-postal-code-error").text("Please enter code");
						}

						if($('#impulse-state-international').is(":enabled")){
							$('#ng_imp_state .errorcontainer').hide();
						}
						}
		
			$("#shippingaddressimpulse").addClass("impulseOn").removeClass("impulseOff");
			var impSummary;
			$("#isImpulseholder").on("click.isImpulseCheck, keypress.isImpulseCheck", function(e) {
				var paneleventfilter = false;
				if (e.keyCode == '32'||  e.handleObj.origType == "click" || e.keyCode == '13') {
					paneleventfilter = true;
				}
				if (paneleventfilter == true) {
					if ($("#isImpulseCheck").attr("data-isImpulse") == "false") {
						$("#impulsesummary").removeClass("impulseOff");
						$("#isImpulseCheck").attr("aria-pressed", true);
						$("#isImpulseCheck").attr("data-isimpulse", true);
						
							$("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code").prop("disabled", false).attr("aria-required", true).show();
						
						$("#impulseofferterm").prop("disabled", false);
						$("#impulse-state-domestic").parent().show();
                        $("#impulse-state-domestic").parent().removeClass("disabled");
                        $("#nextgen-gift-impulse-check").show();
                        $("#isImpulseholder").addClass("isImpulseholder-active");
                        $("#nextgen-bill-email").text("Your Email");
						
							$("#impulseFields").show();
						
						ngIdArray = ngFindId();
						if (ngselfptrue == true && ngselfatrue == true){
							$(".nextgen-progress").animate({width : "95%"});
						}

					ngImpulseCountryChange();
					setofferterm();
            for (var product in CONSTANTS.OFFERS) {
				var offer = CONSTANTS.OFFERS[product];
                if ((offer.isGift == 'true') && (offer.format == $("#impulseofferterm").attr("data-ngimptype")) && (offer.offertype == '3')) {
                        var ng_impoffer_format, ng_impoffer_issues;
                    	if (offer.format == 'bundle') {
							ng_impoffer_format = "Print + Digital";
						}
						 else if (offer.format == 'digital') {
                         ng_impoffer_format = "Digital";
						} 
                        else {
							ng_impoffer_format = "Print";
						};

                    	if ((offer.issues == '12') || (offer.issues == '11')) {
							ng_impoffer_issues = "1 Year";
						}
						else if ((offer.issues == '24') || (offer.issues == '23')) {
                            ng_impoffer_issues = "2 Years";
						} 
                        else {
						    ng_impoffer_issues = offer.issues + "  Months";
						}
                        impSummary = ng_impoffer_issues + ' &ndash; ' + ng_impoffer_format + ' <span class=\"boldgift\">Gift<\/span> Access';
                        $('#impulseummarydesc').html(impSummary);
			            $('#impulseprice').html("$" + offer.price);
						var ngimptotal = (parseFloat(total.replace("$", "")) + parseFloat(offer.price)).toFixed(2);
						$("#total").text('$' + ngimptotal);
                }
			}
					} else {
						$("#impulsesummary").addClass("impulseOff");
						$("#isImpulseCheck").attr("aria-pressed", false);
						$("#isImpulseCheck").attr("data-isimpulse", false);
						
							$("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code, #impulse-state-canada, #impulse-state-international").prop("disabled", true).attr("aria-required", false).hide();
						
						$("#impulseofferterm").prop("disabled", true);
						$("#impulse-state-domestic").parent().hide();
						$("#impulse-state-domestic").parent().addClass("disabled");
                        $("#impulseFields").hide();
                        $("#nextgen-gift-impulse-check").hide();
						$("#isImpulseholder").removeClass("isImpulseholder-active");
                        $("#nextgen-bill-email").text("Email");
						setofferterm();
					}
				}
                
                ngIdArray = ngFindId();
			});

			$("#impulse-ship-country").on("change", function(){
			ngImpulseCountryChange();
			ngIdArray = ngFindId();
			})
	
		
	
		
	

	
		jQuery(document).ready(function() {
            $("#isgiftholder").css("pointerEvents", "none");
            $("#nextgen-step-1").hide();
		});
	
	
	jQuery('[data-chosenoffer]').each(function() {
		jQuery(this).attr("id", "offer"+jQuery(this).attr("data-chosenoffer"));
		jQuery(this).find(".circlecheck").attr("aria-labelledby", "offer"+jQuery(this).attr("data-chosenoffer"));
	});
	console.log("version1242019444");
	// Remove AMZPay & ApplePay for INTL/CA - TJ 9052019
	$('#ship-country-selector').on("change.country", function (){
		if ($(this).val() !== "US") {
			$("#amazonpay-container").hide();
			$("#applePayform").hide();
		}
	});
</script>


	
  <script>var ngistrue = false;
var ngpistrue = false;
var ngselfptrue = false;
var ngselfatrue = false;



var ng_set_impulse_offers = function () {
    for (var products in CONSTANTS.OFFERS) {
        var impOffer = CONSTANTS.OFFERS[products];
        if (impOffer.offertype === "3") {
            if (impOffer.format === $("#impulseofferterm").attr("data-ngimptype")) {
                $("#impulseofferterm").val(impOffer.offerterm + '_1')
            }
        }
    }
}





    $(".wir-mobile-menu1-next-gen").click(function () {
        $("#toplogo").toggleClass("wir-bg-onclick");
        $(".toplogoimgmb").toggleClass("wir-hide-onclick");
        $(".toplogoimgdt").toggleClass("wir-display-onclick");
        $("#wir-menu-holder").text(($("#wir-menu-holder").text() == 'More Options') ? 'Fewer Options' : 'More Options');
        $(".toplogoimgdta").toggleClass("toplogoimgdtaa");
        $(".wir-menu-container.wir-mobile-menu-next-gen").slideToggle(function(){
            $(this).toggleClass("wir-display-onclick")
        });
    });

    $("#impulseofferterm").prop("disabled", true);
    $("#ship-country-selector").val("US").trigger("change");
    $("#ship-country-selector option[value='US']").hide();
    $("#shipcountrycontainer").hide();

    var ngurl = new URLSearchParams(window.location.search);
    var ng_at = ngurl.get('access_token');
    if (ng_at == "" || ng_at == null){
        $("#nextgen-domestic").on("click", function () {
        $('.nextgen-country-buttons').removeClass('nextgen-country-selected');
        $("#ship-state-domestic").show();
        $("#ship-state-international").hide();
        $(this).toggleClass('nextgen-country-selected');
        $("#ship-country-selector-input").attr("value", "United States");
        $("#ship-country-selector").attr("data-location", "domestic");
        $("#nextgen-international-selector").slideUp(function(){
            $(this).hide();
        });
        $("#ship-country-selector").val("US").trigger("change");
        ng_country_change();
        $(".nextgen-payment-links").css("min-height", "80px").show();
        $("#ship-state-error").text("Please select state");
        $("#nextgen-step-4").css("margin-bottom", "10px");
        $("#phone-change").text("1-800-769-4733");
        $("#shipcountrycontainer, .domestic-off, .ng-canada-on, .canadian-price, .international-price, .ng-paypal-as-payment, .ng-dt-int-order span, .ng-dt-int-order1 span").hide();
        $(".domestic-price").show();
        $("#ship-zip-domestic").show();
        $(".int-digital-only, #ship-zip-canada, #ship-zip-international").hide();
        $("#ship-country").val($('#ship-country-selector').find(":selected").text());
        $(".shipstatelabel").text("State"); 
        $('.ng-sales-hide').show();
        if ($("#isgiftholder").hasClass("isgiftholder-selected")) {
            $('.nextgen-payment-buttons[data-ngtab], .autoRenew, #ppcheckoutexpbutton, #amazonpay-container, #applePay').hide();
                
                
                
                $("#shippingaddressimpulse").hide();
                
                
                
                
                
            $('.nextgen-payment-buttons[data-ngtab="1"], .nextgen-payment-buttons[data-ngtab="3"]').show();
            $("#placeorder .button").text("Place Order");
            $("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code").prop("disabled", true).attr("aria-required", false).hide();
        }
        else {
            $('.nextgen-payment-buttons[data-ngtab], .autoRenew, #ppcheckoutexpbutton, #amazonpay-container, #applePay').show();
            $("#placeorder .button").text("Place Order");
        }
        if($("#isImpulseholder").hasClass("isImpulseholder-active")){
            $("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code").prop("disabled", false).attr("aria-required", true).show();
        }
        else{
            $("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code").prop("disabled", true).attr("aria-required", false).hide();
        }
        $('.nextgen-payment-buttons[data-ngtab="1"]').trigger('click');
        $("#impulseofferterm").attr("data-ngimptype", "bundle");
        
        
        
        ng_set_impulse_offers();
        
        
        
        
        
        $("#impulse-country-container").hide();

        ngIdArray = ngFindId();
    });
    $("#nextgen-international").on("click", function () {
        $('.nextgen-country-buttons').removeClass('nextgen-country-selected');
        $(this).toggleClass('nextgen-country-selected');
        $("#nextgen-international-selector").slideDown(function(){$(this).show()});
        $("#shipcountrycontainer, .ng-sales-hide, .ng-dt-int-order span, .ng-dt-int-order1 span").show();
        $("#ship-country-selector").val("").trigger("change");
        $("#ship-country").val($('#ship-country-selector').find(":selected").text());
        $('.domestic-off, .ng-canada-on, .ng-paypal-as-payment').hide();
        $('.canadian-price, .international-price').hide();
        $('.nextgen-payment-buttons[data-ngtab="1"]').click();
        $("#ship-zip-canada, #ship-zip-domestic").hide();
        $("#ship-zip-international, .int-digital-only").show();
        //removing the gift impulse if gift is selected
	if ($("#isgiftholder").hasClass("isgiftholder-selected")) {
        
        
        
        $("#shippingaddressimpulse").hide();
        
        
        
        
        
            $("#shippingaddressimpulse").hide();
            $('.nextgen-payment-buttons[data-ngtab]').hide();
            $(".nextgen-payment-links").css("min-height", "25px").show();
        }else{
            $("#shippingaddressimpulse").show();
            $('.nextgen-payment-buttons[data-ngtab]:nth-child(n+3)').hide();
            $(".nextgen-payment-links").css("min-height", "80px").show();
        }

        $("#nextgen-step-4").css("margin-bottom", "20px");
        $(".ng-dt-int-order span").text("+ international shipping");
        $(".shipstatelabel").text("Province"); 
        $("#placeorder .button").text("Place Order");
        ngIdArray = ngFindId();
    });
    $("#nextgen-international-selector").on("change", function(){
        $("#ship-country-selector").trigger("change");
    })
    $("#shippingaddress").appendTo("#nextgen-self-shipping");
    
    //Payment Button Function
        $('.nextgen-payment-buttons').on("click", function (e) {
            var tab_id = $(this).attr('data-ngtab');
            $('.nextgen-payment-buttons').removeClass('nextgen-payment-buttons-selected');
            $('.nextgen-payment-tab').removeClass('nextgen-payment-selected');
            $(this).addClass('nextgen-payment-buttons-selected');
            $("#nextgen-tab-" + tab_id).addClass('nextgen-payment-selected');
            if (tab_id == "1") {
					if ($('input[name="pt_id"]').val() == "9") {
						$('input[name="pt_id"]').val("");
                    }
                    $("#creditcard, #month, #year, #cvv").prop("disabled", false);
                    $("#placeorder .button").text("Place Order");
                    
                    $("#order-progress-bar ol > li:nth-child(4), #order-progress-bar ol > li:nth-child(5)").show();
                    
                    if ($("#isgiftholder").hasClass("isgiftholder-selected")) {
                    $("#impulseofferterm").prop("disabled", true);
                    $("#nextgen-step-4, #impulseFields, #autorenewal, .ng-amazon-hide, .nextgen-epc-hide").hide();
                    
                        $(".ng-paypal-as-payment").hide();
                    
                    
                    
                    
                    $("#shippingaddressimpulse").hide();
                    
                    
                    
                    
                    
                    $("#yourinformation, #shippingaddress, #paymentdetails, #placeorder, #ordersummary, .nextgen-epc-hide2, .nextgen-pp-gift-payment").show();

                    if ($(document).innerWidth() > 768) {
                         $(".nextgen-progress-mobile").show();
                        if (ngistrue == true){
                            $(".nextgen-progress").animate({width : "75%"});
                            $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                        }
                        else{
                            $(".nextgen-progress").animate({width : "50%"});
                            $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                        }
                    } else {
                        $(".nextgen-epc-hide2").hide();
                        if (ngistrue == true){
                            $(".nextgen-progress").animate({width : "95%"});
                            $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                        }
                        else{
                            $(".nextgen-progress").animate({width : "65%"});
                            $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                        }
                    }
                    ngIdArray = ngFindId();
                } else {
                    $("#yourinformation, #shippingaddress, #paymentdetails, #autorenewal, #placeorder, #autorenewal, .nextgen-epc-hide, #ordersummary, #nextgen-step-4").show();
                    if ($("#nextgen-international").hasClass("nextgen-country-selected")){
                        $('#shippingaddressimpulse').hide();
                     }
                     else{
                        $('#shippingaddressimpulse').show();
                     }
                    $("#impulseFields, .ng-paypal-as-payment").hide();
                    
                    $("#order-progress-bar ol > li:nth-child(4)").html('<a href="#nextgen-step-4">Address</a>');
                     
                    if ($(document).innerWidth() > 768) {
                        if (!$("#isgiftholder").hasClass("isgiftholder-selected")) {
                            $(".nextgen-progress-mobile, .nextgen-epc-hide, .nextgen-epc-hide2").show();
                        };
                        if (ngselfptrue == true && ngselfatrue == true){
                            $(".nextgen-progress").animate({width : "95%"});
                            $("#order-progress-bar ol li:nth-child(4), #order-progress-bar ol li:nth-child(5)").removeClass("ng-disabled");
                        }
                        else if (ngselfptrue == true){
                            $(".nextgen-progress").animate({width : "75%"});
                            $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                        }
                        else{
                            $(".nextgen-progress").animate({width : "50%"});
                            $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                        }
                    } else {
                        $(".nextgen-epc-hide2").hide();
                        if (ngselfptrue == true){
                            $(".nextgen-progress").animate({width : "95%"});
                            $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                        }
                        else{
                            $(".nextgen-progress").animate({width : "65%"});
                            $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                        }
                    }

                    //testing if statement
                    if ($("#nextgen-international").hasClass("nextgen-country-selected")){
                    $("#impulseofferterm").attr("data-ngimptype", "digital");
                    
                    
                    
                    ng_set_impulse_offers();
                    
                    
                    
                    
                    
                    $("#impulse-country-container").show();
                    }

                    ngIdArray = ngFindId();
                }
                
            } else if (tab_id == "2") {
                $("#order-progress-bar ol > li:nth-child(4)").html('<a href="#ordersummary">Submit</a>').show();
                $("#order-progress-bar ol > li:nth-child(5)").hide();
                $(".nextgen-progress").animate({width : "65%"});
                $("#yourinformation, #shippingaddress, #shippingaddressimpulse, #paymentdetails, #autorenewal, #placeorder, #ordersummary, .nextgen-epc-hide, .nextgen-epc-hide2, #nextgen-step-4, .nextgen-progress-mobile, #impulseFields, .ng-paypal-as-payment").hide();
                $("#amazonpay-container, #AmazonPayButton").show();
                
            } else if (tab_id == "3") {
                $("#creditcard, #month, #year, #cvv").prop("disabled", true);
                $("#creditcard, #month, #year, #cvv").removeClass("errorinput");
                $("#creditcard-invalid-error").removeClass("error");
                if ($("#isgiftholder").hasClass("isgiftholder-selected")) {
                    $('input[name="pt_id"]').val("9");
                    $("#impulseofferterm").prop("disabled", true);
                    $("#paymentdetails, #nextgen-step-4, #impulseFields, #autorenewal, .ng-amazon-hide, .nextgen-epc-hide").hide();
                    
                    
                    
                    $("#shippingaddressimpulse").hide();
                    
                    
                    
                    
                    
                    $("#yourinformation, #shippingaddress, #placeorder, #ordersummary, .nextgen-epc-hide2, .nextgen-pp-gift-payment").show();
                    $("#placeorder .button").text("Place Order with PayPal");
                    $(".ng-paypal-as-payment").show();
                    $("#order-progress-bar ol > li:nth-child(4), #order-progress-bar ol > li:nth-child(5)").show();
                    if ($(document).innerWidth() > 768) {
                            $(".nextgen-progress-mobile").show();
                        if (ngistrue == true || ngselfptrue == true){
                            $(".nextgen-progress").animate({width : "75%"});
                            $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                        }
                        else if (ngpistrue == true){
                            $(".nextgen-progress").animate({width : "95%"});
                            $("#order-progress-bar ol li:nth-child(5)").removeClass("ng-disabled");
                        }
                        else{
                            $(".nextgen-progress").animate({width : "50%"});
                            $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                        }
                    } else {
                        $(".nextgen-epc-hide2").hide();
                        if (ngistrue == true || ngselfptrue == true){
                            $(".nextgen-progress").animate({width : "95%"});
                            $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                        }
                        else{
                            $(".nextgen-progress").animate({width : "65%"});
                            $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                        }
                    }
                    ngIdArray = ngFindId();
                } else {
                    $('input[name="pt_id"]').val("");
                    $("#yourinformation, #shippingaddress, #shippingaddressimpulse, #paymentdetails, #autorenewal, #placeorder, #ordersummary, .nextgen-epc-hide, .nextgen-epc-hide2,#nextgen-step-4, #impulseFields, .nextgen-pp-gift-payment, .ng-paypal-as-payment").hide();
                    $(".ng-amazon-hide").show();
                    $("#placeorder .button").text("Place Order");
                    $("#impulseofferterm").prop("disabled", true);
                    $("#order-progress-bar ol > li:nth-child(4)").html('<a href="#nextgen-step-4">Address</a>').hide();
                    $("#order-progress-bar ol > li:nth-child(5)").hide();
                    
                    $(".nextgen-progress").animate({width : "95%"});
                }
            } else {
                $("#yourinformation, #shippingaddress, #shippingaddressimpulse, #paymentdetails, #autorenewal, #placeorder, #ordersummary, .nextgen-epc-hide, .nextgen-epc-hide2, #nextgen-step-4, #impulseFields, .ng-paypal-as-payment").hide();
                $("#impulseofferterm").prop("disabled", true);
                $("#order-progress-bar ol > li:nth-child(4)").html('<a href="#nextgen-step-4">Address</a>').hide();
                $("#order-progress-bar ol > li:nth-child(5)").hide();
                
                $(".nextgen-progress").animate({width : "95%"});
            }
        }); 
        }
    else{
    $('html, body').animate({
        scrollTop: $(".nextgen-payment-container").offset().top - 90
    }, 1500);
    // Make Amazon tab default
    $('.nextgen-payment-buttons').removeClass('nextgen-payment-buttons-selected');
    $('.nextgen-payment-tab').removeClass('nextgen-payment-selected');
    $('.nextgen-payment-buttons[data-ngtab="2"]').addClass('nextgen-payment-buttons-selected');
    $("#nextgen-tab-2").addClass('nextgen-payment-selected');
    // Change payment option to other buttons buttons
    $('.nextgen-payment-buttons').each(function(){
    if ($(this).attr('data-ngtab') != "2"){
        $(this).addClass("changePayment");
    }
                    });
    $("#isGiftCheck").addClass("changePayment");
    $("#isgiftholder").css("pointerEvents", "none");
    $("#nextgen-country-selector").css("pointerEvents", "none");
    $("#yourinformation, #shippingaddress, #shippingaddressimpulse, #paymentdetails, #placeorder, .nextgen-epc-hide, .nextgen-epc-hide2, #nextgen-step-4, .ng-amazon-hide, .nextgen-progress-mobile").hide();
    $("#autorenewal").remove();
    $("#ordersumtext h2").text("STEP 4. Review and Submit")
    $("#ordersummary").appendTo("#ng_amazon_review");
    $("#ordersummary").show();
    $("#ordersummary").css("padding", "20px 0");
    $("#order-progress-bar ol > li:nth-child(4)").html('<a href="#ordersummary">Submit</a>');
    $("#order-progress-bar ol > li:nth-child(5)").hide();
            var ngcountryselected = getCookieCN("ngCountry");
        if (ngcountryselected == "US"){
            $("#nextgen-domestic").addClass("nextgen-country-selected");
            $("#nextgen-international").removeClass("nextgen-country-selected");
        }
        else {
            $("#nextgen-domestic").removeClass("nextgen-country-selected");
            $("#nextgen-international").addClass("nextgen-country-selected");
        }
    }    
    

    // Sticky Progress bar
    var $progressBar_top = $("#order-progress-bar").position().top;
    $(window).on("scroll", function () {
        if (($(document).scrollTop()) > $progressBar_top) {
            $("#order-progress-bar").css({
                "position": "fixed",
                "top": "0",
                "max-width": "1024px",
                "z-index": "50"
            });
            $("#wherego").css({
                "margin-top": "70px"
            });
        } else {
            $("#order-progress-bar").css({
                "position": "static"
            });
            $("#wherego").css({
                "margin-top": "0"
            });
        }
    });

    // Smooth Scroll
    $('#order-progress-bar').on('click', 'a[href*="#"]', function (e) {
        $('html,body').animate({
            scrollTop: $($(this).attr('href')).offset().top - $("#order-progress-bar").outerHeight() + 2
        }, 900);
        return false;
    });

    // remove Order summary on mobile
    if ($(document).innerWidth() < 768) {
        $("#ordersummary").remove();
        $("#order-progress-bar ol > li:nth-child(5)").remove();
    }

    // Ship Country Phone number and Shipping charges change

    $("#ship-country-selector").on("change", function(){
          if ($('#ship-country-selector').val() == "US" || $('#ship-country-selector').val() == "") {
               $("#phone-change").text("1-800-769-4733");	
               $(".domestic-off, .ng-canada-on").hide();
        $(".international-price, .canadian-price").hide();
        $(".domestic-price").show();
               $(".ng-sales-hide").show();
               $(".ng-dt-int-order span").hide();
               $(".ng-dt-int-order1 span").hide();
               $(".int-digital-only").hide();
               ngIdArray = ngFindId();
               $("#ship-state-error").text("Please select state");
         }
         else if ( $('#ship-country-selector').val() == "CA"){
            $("#phone-change").text("1-800-769-4733");	
            $(".domestic-off, .ng-sales-hide").hide();
            $(".ng-canada-on").show();
        $(".domestic-price, .international-price").hide();
        $(".canadian-price").show();
            $(".int-digital-only").show();
            $(".ng-dt-int-order span").show();
            $(".ng-dt-int-order1 span").show();
            $(".ng-dt-int-order span").text("+ Canada shipping");
            ngIdArray = ngFindId();
            $("#ship-state-error").text("Please select province");
         }
         else {
               $("#phone-change").text("515-243-3273");	
               $(".ng-canada-on, .ng-sales-hide").hide();
               $(".domestic-off").show();
        $(".canadian-price, .domestic-price").hide();
        $(".international-price").show();
               $(".int-digital-only").show();
               $(".ng-dt-int-order span").show();
               $(".ng-dt-int-order1 span").show();
               $(".ng-dt-int-order span").text("+ international shipping");
               ngIdArray = ngFindId();
               $("#ship-state-error").text("Please select province");
               $("#ship-state-error").hide();
         }
    });

    // Change color of the first child on Select
    $('#ship-country-selector option').slice(1).css('color', '#979797');
    $('#ship-country-selector').on('change', function () {
        $('#ship-country-selector').css('color', '#000');
        $('#ship-country-selector option').first().css('color', '#979797');
    });

// Panel image toggle on mobile

$(".panel-arrow-down").on("click", function () {
    if($(this).parents(".panel.offer").hasClass("on")){
        $(this).parents(".panel.offer").find(".panel-shot-selected").show();
        $(this).parents(".panel.offer").find(".panel-shot").hide();
        $(this).parents(".panel.offer").find('.panel-image').slideDown();
        $(this).hide();
        $(this).parents(".panel.offer").find('.panel-arrow-up').show();
        $(this).parents(".panel.offer").find(".panel-inner ul li:nth-child(n+3)").css("display", "flex");
    }
    else{
        $(this).parents(".panel.offer").find(".panel-shot-selected").hide();
        $(this).parents(".panel.offer").find(".panel-shot").show();
        $(this).parents(".panel.offer").find('.panel-image').slideDown();
        $(this).hide();
        $(this).parents(".panel.offer").find('.panel-arrow-up').show();
        $(this).parents(".panel.offer").find(".panel-inner ul li:nth-child(n+3)").css("display", "flex");
    }
});
$(".panel-arrow-up").on("click", function () {
    if($(this).parents(".panel.offer").hasClass("on")){
        $(this).parents(".panel.offer").find('.panel-image').slideUp(function(){
            $(this).parents(".panel.offer").find(".panel-shot-selected").hide();
            $(this).parents(".panel.offer").find(".panel-shot").show();
            $(this).parents(".panel.offer").find(".panel-inner ul li:nth-child(n+3)").css("display", "none");
            $(this).parents(".panel.offer").find('.panel-arrow-down').show();
        });
        $(this).hide();
    }
    else{
        $(this).parents(".panel.offer").find('.panel-image').slideUp(function(){
            $(this).parents(".panel.offer").find(".panel-shot-selected").show();
            $(this).parents(".panel.offer").find(".panel-shot").hide();
            $(this).parents(".panel.offer").find(".panel-inner ul li:nth-child(n+3)").css("display", "none");
            $(this).parents(".panel.offer").find('.panel-arrow-down').show();
        });
        $(this).hide();
    }
});

    // CC Validation
    $('#creditcard:enabled').on("focusout", function () {
   if ($('#creditcard').val().length < 15) {
    $('#creditcard-invalid-error').addClass("error").show();
    $('#creditcard').addClass("errorinput");
    $(this).parents(".ng_required").find(".errorcontainer").show();
    $('#creditcard-error').removeClass("error").hide();
        }  
        else{
            $(this).parents(".ng_required").find(".errorcontainer").hide();
            $('#creditcard-invalid-error').removeClass("error").hide();
            $('#creditcard').removeClass("errorinput");
            $('#creditcard-error').removeClass("error").hide();
        }   
    });

    function maxLengthCheck(object)
  {
    if (object.value.length > object.maxLength)
      object.value = object.value.slice(0, object.maxLength)
  };

// Disable Impulse Gift by default
$("#impulse-ship-first-name, #impulse-ship-last-name, #impulse-ship-email, #impulse-ship-country, #impulse-ship-address, #impulse-ship-address2, #impulse-ship-city, #impulse-state-domestic, #impulse-ship-postal-code").prop("disabled", true);
    

// Input fields isEmpty Validation + Progress Bar
function ngFindId () {
    ngNewArr = $(".ng_required input:enabled, .ng_required select:enabled").not("#ship-state-international, #impulse-state-international, #bill-state-international")

    var ngIdArray = [];
    for (var i = 0; i < ngNewArr.length; i++) {
        ngIdArray[i] = ngNewArr[i].id;
    }
    return ngIdArray
}
ngIdArray = ngFindId();

    $(".ng_required input, .ng_required select").on('keydown keypress click paste change focusin', function(){
        var ng_narr_length;
         var ng_item = $(this).attr("id");
        for(var i = 1; i < ngIdArray.length; i++){
            if(ng_item == ngIdArray[i]){
                ng_narr_length = i;
            }
        }
        for(var i = 0; i < ng_narr_length; i++){
            $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer").hide();
            $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span").hide();
            if($("#" + ngIdArray[i]).val() == ""){
                $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer").show();
                $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span:first-child").show();
                $("#" + ngIdArray[i]).addClass('errorinput');
            } 
            else if ($("#" + ngIdArray[i]).val() != "" && ($("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span").hasClass("error"))) {
                if ((ngIdArray[i] == "creditcard" || ngIdArray[i] == "bill-email" || ngIdArray[i] == "ship-email" || ngIdArray[i] == "impulse-ship-email" || ngIdArray[i] == "ship-state-international" || ngIdArray[i] == "bill-state-international" || ngIdArray[i] == "impulse-state-international")) {
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer").show();
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span:nth-child(2)").show();
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span:nth-child(1)").hide();
                    $("#" + ngIdArray[i]).addClass('errorinput');
                } else {
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer").hide();
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span:nth-child(2)").removeClass('error').hide();
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span:nth-child(1)").removeClass('error').hide();
                    $("#" + ngIdArray[i]).removeClass('errorinput');
                }
            }
            else if ($("#" + ngIdArray[i]).val() != "" && (!$("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span").hasClass("error"))) {
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer").hide();
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span:nth-child(2)").hide();
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span:nth-child(1)").hide();
                    $("#" + ngIdArray[i]).removeClass('errorinput');
            }
                else{
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer").hide();
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span:first-child").removeClass('error').hide();
                    $("#" + ngIdArray[i]).parents(".ng_required").find(".errorcontainer span:nth-child(2)").removeClass('error').hide();
                    $("#" + ngIdArray[i]).removeClass('errorinput');
                }
            }
});
    $(".ng_required input, .ng_required select").not("#creditcard, #bill-email, #ship-email, #impulse-ship-email, #bill-state-international, #ship-state-international, #impulse-state-international").on('focusout', function(){
            if($(this).val() != ""){
                $(this).parents(".ng_required").find(".errorcontainer").hide();
                $(this).parents(".ng_required").find(".errorcontainer span:first-child").hide();
                $(this).removeClass('errorinput');
            } 
            else{
                $(this).parents(".ng_required").find(".errorcontainer").show();
                $(this).parents(".ng_required").find(".errorcontainer span:first-child").show();
                $(this).addClass('errorinput');
            }
        });
 //Progress Bar

    $("#giftrecipient").on("change paste focusout", function(){
        if ($("#isgiftholder").hasClass("isgiftholder-selected")) {
            ngGiftArray = ngIdArray.slice(0, 7);
            var ngi = 0;
            $.each(ngGiftArray,function(ngi){
                if($("#" + ngGiftArray[ngi]).val() != ""){
                    ngistrue = true;  
                }
                else{
                    ngistrue = false;
                    return false;
                }
                ngi++
            })
            if ($(document).innerWidth() > 768) {
                if (ngistrue == true){
                    $(".nextgen-progress").animate({width : "75%"});
                    $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                }
                else if (ngistrue == true && ngpistrue == false){
                    $(".nextgen-progress").animate({width : "75%"});
                    $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                }
                else if (ngistrue == false && ngpistrue == true){
                    $(".nextgen-progress").animate({width : "75%"});
                    $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                }
                else{
                    $(".nextgen-progress").animate({width : "50%"});
                    $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                }
            }
            else{
                if (ngistrue == true){
                    $(".nextgen-progress").animate({width : "95%"});
                    $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                }
                else{
                    $(".nextgen-progress").animate({width : "65%"});
                    $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                }
            }

        }
        
    });

    $(".nextgen-payment-container, #yourinformation").on("change paste focusout", function(){
        if ($("#isgiftholder").hasClass("isgiftholder-selected") && ngistrue == true) {
            ngPayArray = ngIdArray.slice(7, ngIdArray.length);
            var ngp = 0;
            $.each(ngPayArray,function(ngp){
                if($("#" + ngPayArray[ngp]).val() != ""){
                    ngpistrue = true;
                }
                else{
                    ngpistrue = false;
                    return false;
                }
                ngp++
            })
            if ($(document).innerWidth() > 768) {
                if (ngpistrue == true){
                    $(".nextgen-progress").animate({width : "95%"});
                    $("#order-progress-bar ol li:nth-child(5)").removeClass("ng-disabled");
                }
                else{
                    $(".nextgen-progress").animate({width : "75%"});
                    $("#order-progress-bar ol li:nth-child(5)").addClass("ng-disabled");
                }
            }
            else{
                if (ngistrue == true){
                    $(".nextgen-progress").animate({width : "95%"});
                    $("#order-progress-bar ol li:nth-child(5)").removeClass("ng-disabled");
                }
                else{
                    $(".nextgen-progress").animate({width : "65%"});
                    $("#order-progress-bar ol li:nth-child(5)").addClass("ng-disabled");
                }
            }
        }     
    });
    $("#nextgen-step-3").on("change paste focusout", function(){
        if (!($("#isgiftholder").hasClass("isgiftholder-selected"))) {
            ngSelfArray = ngIdArray.slice(0, 4);
            var ngs = 0;
            $.each(ngSelfArray,function(ngs){
                if($("#" + ngSelfArray[ngs]).val() != ""){
                    ngselfptrue = true;  
                }
                else{
                    ngselfptrue = false;
                    return false;
                }
                ngs++
                console.log(ngselfptrue)
            })
            if ($(document).innerWidth() > 768) {
                if (ngselfptrue == true){
                    $(".nextgen-progress").animate({width : "75%"});
                    $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                }
               else if (ngselfptrue == true && ngselfatrue == false){
                    $(".nextgen-progress").animate({width : "75%"});
                    $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                }
                else if (ngselfptrue == false && ngselfatrue == true){
                    $(".nextgen-progress").animate({width : "75%"});
                    $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                }
                else{
                    $(".nextgen-progress").animate({width : "50%"});
                    $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                }
            }
            else{
                if (ngselfptrue == true){
                    $(".nextgen-progress").animate({width : "95%"});
                    $("#order-progress-bar ol li:nth-child(4)").removeClass("ng-disabled");
                }
                else{
                    $(".nextgen-progress").animate({width : "65%"});
                    $("#order-progress-bar ol li:nth-child(4)").addClass("ng-disabled");
                }
            }

        }
        
    });

    $("#impulseFields, #yourinformation").on("change paste focusout", function(){
        if (!($("#isgiftholder").hasClass("isgiftholder-selected")) && ngselfptrue == true) {
            ngsPayArray = ngIdArray.slice(4, ngIdArray.length);
            var ngsp = 0;
            $.each(ngsPayArray,function(ngsp){
                if($("#" + ngsPayArray[ngsp]).val() != ""){
                    ngselfatrue = true;
                }
                else{
                    ngselfatrue = false;
                    return false;
                }
                ngsp++
            })
            if ($(document).innerWidth() > 768) {
                if (ngselfatrue == true){
                    $(".nextgen-progress").animate({width : "95%"});
                    $("#order-progress-bar ol li:nth-child(5)").removeClass("ng-disabled");
                }
                else{
                    $(".nextgen-progress").animate({width : "75%"});
                    $("#order-progress-bar ol li:nth-child(5)").addClass("ng-disabled");
                }
            }
            else{
                if (ngselfptrue == true){
                    $(".nextgen-progress").animate({width : "95%"});
                    $("#order-progress-bar ol li:nth-child(5)").removeClass("ng-disabled");
                }
                else{
                    $(".nextgen-progress").animate({width : "65%"});
                    $("#order-progress-bar ol li:nth-child(5)").addClass("ng-disabled");
                }
            }
        }     
    });
    
$(window).load(function () {
    //  Equal height panel List
    if ($(document).innerWidth() > 768) {
        var nextgen_maxHeight = 0;
        $(".body01.nosudo").each(function () {
            if ($(this).height() > nextgen_maxHeight) {
                nextgen_maxHeight = $(this).height();
            }
        });
        $(".body01.nosudo").height(nextgen_maxHeight);
    }
});
</script>


	<!-- <style> 
#footterm{font-weight:bold; } 
#footmailtime{clear: both; margin-top: 10px;display: block;margin-bottom: 10px; } 
#secondfootterm {
    clear: both;
    margin-top: 10px;
    display: block;
    margin-bottom: 10px;
}
</style> 

<script> 
jQuery( "#secondfootterm" ).css(":after", ""); 
jQuery( "#secondfootterm" ).ready().html( "In the U.S., the current annual rate for a bundle subscription is $49.99; digital-only subscriptions are $29.99. In Canada, the current annual rate for a bundle subscription is $59.99. In all other countries, the current annual rate for a bundle subscription is $70. The current annual rate for a digital-only subscription is $29.99 in all countries." ); 

jQuery( "#footterm" ).css(":after", ""); 
jQuery( "#footterm" ).ready().html( "WIRED publishes monthly, except the combined July/August issue and other combined issues that count as two, as indicated on the issue's cover." ); 

jQuery( "#footmailtime" ).ready().html( "First issue mails within 6 weeks." ); 
jQuery( "#footmailtime" ).css(":after", ""); 

jQuery( "#footcanceltime" ).ready().html( "You may cancel at any time during your subscription and receive a full refund for unmailed issues." ); 
jQuery( "#footcanceltime" ).css(":after", ""); 

</script> -->



<script type="text/javascript"> _linkedin_partner_id = "434737"; window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || []; window._linkedin_data_partner_ids.push(_linkedin_partner_id); </script><script type="text/javascript"> (function(){var s = document.getElementsByTagName("script")[0]; var b = document.createElement("script"); b.type = "text/javascript";b.async = true; b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js"; s.parentNode.insertBefore(b, s);})(); </script> <noscript> <img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=434737&fmt=gif" /> </noscript>


<div id="statsHolder">

    

<script type="text/javascript">

 

 
HEARST.circ.contentType = 'eCommerce'; 



HEARST.circ.commerceProps = {keycode : HEARST.circ.keycode, campaignId : HEARST.circ.campaignId, campaignName : HEARST.circ.campaignName};
HEARST.circ.status = 200;

 

    </script>

<script type="text/javascript">_satellite.pageBottom();</script>


    <script type="text/javascript"><!--
    if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
    //--></script></div>
<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>




 



<!--ROTATION_ID: WIR_FAILSAFE-->
<script>
(function(){
  jQuery(function(){
    function getURLParam(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }
    var uSource = getURLParam('source');
    if (uSource != "") {
      jQuery("input[name=referral_source]").val(uSource);
    }
  });
})(jQuery);
</script>

<!--ROTATION_ID: closing-->
<div style="display:none;">
	Wired
</div>
<!-- EXIT POP FUNCTIONALITY -->








	



		

<!-- Comment out the VOG exit pop requested on 1/28/20 -->


<!-- end of VOG comment Exit-pop -->		

	</div>
</body></html>


